/*! For license information please see 786a6792ca.bundle.es2015.js.LICENSE.txt */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var o=[],n=e.document,i=o.slice,r=o.concat,s=o.push,a=o.indexOf,l={},c=l.toString,u=l.hasOwnProperty,g={},d="1.12.4",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,m=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function y(e){var t=!!e&&"length"in e&&e.length,o=h.type(e);return"function"!==o&&!h.isWindow(e)&&("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e)}h.fn=h.prototype={jquery:d,constructor:h,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return h.each(this,e)},map:function(e){return this.pushStack(h.map(this,(function(t,o){return e.call(t,o,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:o.sort,splice:o.splice},h.extend=h.fn.extend=function(){var e,t,o,n,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||h.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(i=arguments[a]))for(n in i)e=s[n],s!==(o=i[n])&&(c&&o&&(h.isPlainObject(o)||(t=h.isArray(o)))?(t?(t=!1,r=e&&h.isArray(e)?e:[]):r=e&&h.isPlainObject(e)?e:{},s[n]=h.extend(c,r,o)):void 0!==o&&(s[n]=o));return s},h.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!h.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!g.ownFirst)for(t in e)return u.call(e,t);for(t in e);return void 0===t||u.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(f,"ms-").replace(m,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var o,n=0;if(y(e))for(o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var o=t||[];return null!=e&&(y(Object(e))?h.merge(o,"string"==typeof e?[e]:e):s.call(o,e)),o},inArray:function(e,t,o){var n;if(t){if(a)return a.call(t,e,o);for(n=t.length,o=o?o<0?Math.max(0,n+o):o:0;o<n;o++)if(o in t&&t[o]===e)return o}return-1},merge:function(e,t){for(var o=+t.length,n=0,i=e.length;n<o;)e[i++]=t[n++];if(o!=o)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e},grep:function(e,t,o){for(var n=[],i=0,r=e.length,s=!o;i<r;i++)!t(e[i],i)!==s&&n.push(e[i]);return n},map:function(e,t,o){var n,i,s=0,a=[];if(y(e))for(n=e.length;s<n;s++)null!=(i=t(e[s],s,o))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,o))&&a.push(i);return r.apply([],a)},guid:1,proxy:function(e,t){var o,n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),h.isFunction(e))return o=i.call(arguments,2),n=function(){return e.apply(t||this,o.concat(i.call(arguments)))},n.guid=e.guid=e.guid||h.guid++,n},now:function(){return+new Date},support:g}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=o[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var b=function(e){var t,o,n,i,r,s,a,l,c,u,g,d,h,p,f,m,v,y,b,_="sizzle"+1*new Date,E=e.document,w=0,S=0,T=re(),C=re(),A=re(),x=function(e,t){return e===t&&(g=!0),0},I=1<<31,N={}.hasOwnProperty,D=[],k=D.pop,R=D.push,O=D.push,L=D.slice,P=function(e,t){for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+H+"*("+U+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+H+"*\\]",B=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(H+"+","g"),W=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),q=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),$=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),V=new RegExp(B),X=new RegExp("^"+U+"$"),G={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),oe=function(e,t,o){var n="0x"+t-65536;return n!=n||o?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ne=function(){d()};try{O.apply(D=L.call(E.childNodes),E.childNodes),D[E.childNodes.length].nodeType}catch(e){O={apply:D.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var o=e.length,n=0;e[o++]=t[n++];);e.length=o-1}}}function ie(e,t,n,i){var r,a,c,u,g,p,v,y,w=t&&t.ownerDocument,S=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return n;if(!i&&((t?t.ownerDocument||t:E)!==h&&d(t),t=t||h,f)){if(11!==S&&(p=J.exec(e)))if(r=p[1]){if(9===S){if(!(c=t.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(w&&(c=w.getElementById(r))&&b(t,c)&&c.id===r)return n.push(c),n}else{if(p[2])return O.apply(n,t.getElementsByTagName(e)),n;if((r=p[3])&&o.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(r)),n}if(o.qsa&&!A[e+" "]&&(!m||!m.test(e))){if(1!==S)w=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=_),a=(v=s(e)).length,g=X.test(u)?"#"+u:"[id='"+u+"']";a--;)v[a]=g+" "+fe(v[a]);y=v.join(","),w=Z.test(e)&&he(t.parentNode)||t}if(y)try{return O.apply(n,w.querySelectorAll(y)),n}catch(e){}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,n,i)}function re(){var e=[];return function t(o,i){return e.push(o+" ")>n.cacheLength&&delete t[e.shift()],t[o+" "]=i}}function se(e){return e[_]=!0,e}function ae(e){var t=h.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var o=e.split("|"),i=o.length;i--;)n.attrHandle[o[i]]=t}function ce(e,t){var o=t&&e,n=o&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||I)-(~e.sourceIndex||I);if(n)return n;if(o)for(;o=o.nextSibling;)if(o===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ge(e){return function(t){var o=t.nodeName.toLowerCase();return("input"===o||"button"===o)&&t.type===e}}function de(e){return se((function(t){return t=+t,se((function(o,n){for(var i,r=e([],o.length,t),s=r.length;s--;)o[i=r[s]]&&(o[i]=!(n[i]=o[i]))}))}))}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in o=ie.support={},r=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ie.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:E;return s!==h&&9===s.nodeType&&s.documentElement?(p=(h=s).documentElement,f=!r(h),(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ne,!1):i.attachEvent&&i.attachEvent("onunload",ne)),o.attributes=ae((function(e){return e.className="i",!e.getAttribute("className")})),o.getElementsByTagName=ae((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),o.getElementsByClassName=Q.test(h.getElementsByClassName),o.getById=ae((function(e){return p.appendChild(e).id=_,!h.getElementsByName||!h.getElementsByName(_).length})),o.getById?(n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var o=t.getElementById(e);return o?[o]:[]}},n.filter.ID=function(e){var t=e.replace(te,oe);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(te,oe);return function(e){var o=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return o&&o.value===t}}),n.find.TAG=o.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):o.qsa?t.querySelectorAll(e):void 0}:function(e,t){var o,n=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;o=r[i++];)1===o.nodeType&&n.push(o);return n}return r},n.find.CLASS=o.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},v=[],m=[],(o.qsa=Q.test(h.querySelectorAll))&&(ae((function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+H+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")})),ae((function(e){var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+H+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(o.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ae((function(e){o.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",B)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var o=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(o.contains?o.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return g=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!o.sortDetached&&t.compareDocumentPosition(e)===n?e===h||e.ownerDocument===E&&b(E,e)?-1:t===h||t.ownerDocument===E&&b(E,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return g=!0,0;var o,n=0,i=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!i||!r)return e===h?-1:t===h?1:i?-1:r?1:u?P(u,e)-P(u,t):0;if(i===r)return ce(e,t);for(o=e;o=o.parentNode;)s.unshift(o);for(o=t;o=o.parentNode;)a.unshift(o);for(;s[n]===a[n];)n++;return n?ce(s[n],a[n]):s[n]===E?-1:a[n]===E?1:0},h):h},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&d(e),t=t.replace($,"='$1']"),o.matchesSelector&&f&&!A[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var n=y.call(e,t);if(n||o.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ie(t,h,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==h&&d(e);var i=n.attrHandle[t.toLowerCase()],r=i&&N.call(n.attrHandle,t.toLowerCase())?i(e,t,!f):void 0;return void 0!==r?r:o.attributes||!f?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,r=0;if(g=!o.detectDuplicates,u=!o.sortStable&&e.slice(0),e.sort(x),g){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},i=ie.getText=function(e){var t,o="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)o+=i(t);return o},n=ie.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,oe),e[3]=(e[3]||e[4]||e[5]||"").replace(te,oe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,o=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&V.test(o)&&(t=s(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,oe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,o){return function(n){var i=ie.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===o:"!="===t?i!==o:"^="===t?o&&0===i.indexOf(o):"*="===t?o&&i.indexOf(o)>-1:"$="===t?o&&i.slice(-o.length)===o:"~="===t?(" "+i.replace(j," ")+" ").indexOf(o)>-1:"|="===t&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,o,n,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,o,l){var c,u,g,d,h,p,f=r!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(r){for(;f;){for(d=t;d=d[f];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(h=(c=(u=(g=(d=m)[_]||(d[_]={}))[d.uniqueID]||(g[d.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[f]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){u[e]=[w,h,b];break}}else if(y&&(b=h=(c=(u=(g=(d=t)[_]||(d[_]={}))[d.uniqueID]||(g[d.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===b)for(;(d=++h&&d&&d[f]||(b=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(g=d[_]||(d[_]={}))[d.uniqueID]||(g[d.uniqueID]={}))[e]=[w,b]),d!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var o,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(o=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,o){for(var n,r=i(e,t),s=r.length;s--;)e[n=P(e,r[s])]=!(o[n]=r[s])})):function(e){return i(e,0,o)}):i}},pseudos:{not:se((function(e){var t=[],o=[],n=a(e.replace(W,"$1"));return n[_]?se((function(e,t,o,i){for(var r,s=n(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))})):function(e,i,r){return t[0]=e,n(t,null,r,o),t[0]=null,!o.pop()}})),has:se((function(e){return function(t){return ie(e,t).length>0}})),contains:se((function(e){return e=e.replace(te,oe),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:se((function(e){return X.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,oe).toLowerCase(),function(t){var o;do{if(o=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(o=o.toLowerCase())===e||0===o.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,o){return[o<0?o+t:o]})),even:de((function(e,t){for(var o=0;o<t;o+=2)e.push(o);return e})),odd:de((function(e,t){for(var o=1;o<t;o+=2)e.push(o);return e})),lt:de((function(e,t,o){for(var n=o<0?o+t:o;--n>=0;)e.push(n);return e})),gt:de((function(e,t,o){for(var n=o<0?o+t:o;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ge(t);function pe(){}function fe(e){for(var t=0,o=e.length,n="";t<o;t++)n+=e[t].value;return n}function me(e,t,o){var n=t.dir,i=o&&"parentNode"===n,r=S++;return t.first?function(t,o,r){for(;t=t[n];)if(1===t.nodeType||i)return e(t,o,r)}:function(t,o,s){var a,l,c,u=[w,r];if(s){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,o,s))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if((a=(l=(c=t[_]||(t[_]={}))[t.uniqueID]||(c[t.uniqueID]={}))[n])&&a[0]===w&&a[1]===r)return u[2]=a[2];if(l[n]=u,u[2]=e(t,o,s))return!0}}}function ve(e){return e.length>1?function(t,o,n){for(var i=e.length;i--;)if(!e[i](t,o,n))return!1;return!0}:e[0]}function ye(e,t,o,n,i){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(o&&!o(r,n,i)||(s.push(r),c&&t.push(a)));return s}function be(e,t,o,n,i,r){return n&&!n[_]&&(n=be(n)),i&&!i[_]&&(i=be(i,r)),se((function(r,s,a,l){var c,u,g,d=[],h=[],p=s.length,f=r||function(e,t,o){for(var n=0,i=t.length;n<i;n++)ie(e,t[n],o);return o}(t||"*",a.nodeType?[a]:a,[]),m=!e||!r&&t?f:ye(f,d,e,a,l),v=o?i||(r?e:p||n)?[]:s:m;if(o&&o(m,v,a,l),n)for(c=ye(v,h),n(c,[],a,l),u=c.length;u--;)(g=c[u])&&(v[h[u]]=!(m[h[u]]=g));if(r){if(i||e){if(i){for(c=[],u=v.length;u--;)(g=v[u])&&c.push(m[u]=g);i(null,v=[],c,l)}for(u=v.length;u--;)(g=v[u])&&(c=i?P(r,g):d[u])>-1&&(r[c]=!(s[c]=g))}}else v=ye(v===s?v.splice(p,v.length):v),i?i(null,s,v,l):O.apply(s,v)}))}function _e(e){for(var t,o,i,r=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,u=me((function(e){return e===t}),a,!0),g=me((function(e){return P(t,e)>-1}),a,!0),d=[function(e,o,n){var i=!s&&(n||o!==c)||((t=o).nodeType?u(e,o,n):g(e,o,n));return t=null,i}];l<r;l++)if(o=n.relative[e[l].type])d=[me(ve(d),o)];else{if((o=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(i=++l;i<r&&!n.relative[e[i].type];i++);return be(l>1&&ve(d),l>1&&fe(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),o,l<i&&_e(e.slice(l,i)),i<r&&_e(e=e.slice(i)),i<r&&fe(e))}d.push(o)}return ve(d)}return pe.prototype=n.filters=n.pseudos,n.setFilters=new pe,s=ie.tokenize=function(e,t){var o,i,r,s,a,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=n.preFilter;a;){for(s in o&&!(i=q.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),o=!1,(i=z.exec(a))&&(o=i.shift(),r.push({value:o,type:i[0].replace(W," ")}),a=a.slice(o.length)),n.filter)!(i=G[s].exec(a))||c[s]&&!(i=c[s](i))||(o=i.shift(),r.push({value:o,type:s,matches:i}),a=a.slice(o.length));if(!o)break}return t?a.length:a?ie.error(e):C(e,l).slice(0)},a=ie.compile=function(e,t){var o,i=[],r=[],a=A[e+" "];if(!a){for(t||(t=s(e)),o=t.length;o--;)(a=_e(t[o]))[_]?i.push(a):r.push(a);a=A(e,function(e,t){var o=t.length>0,i=e.length>0,r=function(r,s,a,l,u){var g,p,m,v=0,y="0",b=r&&[],_=[],E=c,S=r||i&&n.find.TAG("*",u),T=w+=null==E?1:Math.random()||.1,C=S.length;for(u&&(c=s===h||s||u);y!==C&&null!=(g=S[y]);y++){if(i&&g){for(p=0,s||g.ownerDocument===h||(d(g),a=!f);m=e[p++];)if(m(g,s||h,a)){l.push(g);break}u&&(w=T)}o&&((g=!m&&g)&&v--,r&&b.push(g))}if(v+=y,o&&y!==v){for(p=0;m=t[p++];)m(b,_,s,a);if(r){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=k.call(l));_=ye(_)}O.apply(l,_),u&&!r&&_.length>0&&v+t.length>1&&ie.uniqueSort(l)}return u&&(w=T,c=E),b};return o?se(r):r}(r,i)),a.selector=e}return a},l=ie.select=function(e,t,i,r){var l,c,u,g,d,h="function"==typeof e&&e,p=!r&&s(e=h.selector||e);if(i=i||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&o.getById&&9===t.nodeType&&f&&n.relative[c[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(te,oe),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=G.needsContext.test(e)?0:c.length;l--&&(u=c[l],!n.relative[g=u.type]);)if((d=n.find[g])&&(r=d(u.matches[0].replace(te,oe),Z.test(c[0].type)&&he(t.parentNode)||t))){if(c.splice(l,1),!(e=r.length&&fe(c)))return O.apply(i,r),i;break}}return(h||a(e,p))(r,t,!f,i,!t||Z.test(e)&&he(t.parentNode)||t),i},o.sortStable=_.split("").sort(x).join("")===_,o.detectDuplicates=!!g,d(),o.sortDetached=ae((function(e){return 1&e.compareDocumentPosition(h.createElement("div"))})),ae((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,o){if(!o)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),o.attributes&&ae((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,o){if(!o&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ae((function(e){return null==e.getAttribute("disabled")}))||le(M,(function(e,t,o){var n;if(!o)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ie}(e);h.find=b,h.expr=b.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=b.uniqueSort,h.text=b.getText,h.isXMLDoc=b.isXML,h.contains=b.contains;var _=function(e,t,o){for(var n=[],i=void 0!==o;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&h(e).is(o))break;n.push(e)}return n},E=function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o},w=h.expr.match.needsContext,S=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,T=/^.[^:#\[\.,]*$/;function C(e,t,o){if(h.isFunction(t))return h.grep(e,(function(e,n){return!!t.call(e,n,e)!==o}));if(t.nodeType)return h.grep(e,(function(e){return e===t!==o}));if("string"==typeof t){if(T.test(t))return h.filter(t,e,o);t=h.filter(t,e)}return h.grep(e,(function(e){return h.inArray(e,t)>-1!==o}))}h.filter=function(e,t,o){var n=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?h.find.matchesSelector(n,e)?[n]:[]:h.find.matches(e,h.grep(t,(function(e){return 1===e.nodeType})))},h.fn.extend({find:function(e){var t,o=[],n=this,i=n.length;if("string"!=typeof e)return this.pushStack(h(e).filter((function(){for(t=0;t<i;t++)if(h.contains(n[t],this))return!0})));for(t=0;t<i;t++)h.find(e,n[t],o);return(o=this.pushStack(i>1?h.unique(o):o)).selector=this.selector?this.selector+" "+e:e,o},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&w.test(e)?h(e):e||[],!1).length}});var A,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t,o){var i,r;if(!e)return this;if(o=o||A,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e))||!i[1]&&t)return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),S.test(i[1])&&h.isPlainObject(t))for(i in t)h.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((r=n.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return A.find(e);this.length=1,this[0]=r}return this.context=n,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==o.ready?o.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))}).prototype=h.fn,A=h(n);var I=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}h.fn.extend({has:function(e){var t,o=h(e,this),n=o.length;return this.filter((function(){for(t=0;t<n;t++)if(h.contains(this,o[t]))return!0}))},closest:function(e,t){for(var o,n=0,i=this.length,r=[],s=w.test(e)||"string"!=typeof e?h(e,t||this.context):0;n<i;n++)for(o=this[n];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(s?s.index(o)>-1:1===o.nodeType&&h.find.matchesSelector(o,e))){r.push(o);break}return this.pushStack(r.length>1?h.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _(e,"parentNode")},parentsUntil:function(e,t,o){return _(e,"parentNode",o)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return _(e,"nextSibling")},prevAll:function(e){return _(e,"previousSibling")},nextUntil:function(e,t,o){return _(e,"nextSibling",o)},prevUntil:function(e,t,o){return _(e,"previousSibling",o)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},(function(e,t){h.fn[e]=function(o,n){var i=h.map(this,t,o);return"Until"!==e.slice(-5)&&(n=o),n&&"string"==typeof n&&(i=h.filter(n,i)),this.length>1&&(N[e]||(i=h.uniqueSort(i)),I.test(e)&&(i=i.reverse())),this.pushStack(i)}}));var k,R,O=/\S+/g;function L(){n.addEventListener?(n.removeEventListener("DOMContentLoaded",P),e.removeEventListener("load",P)):(n.detachEvent("onreadystatechange",P),e.detachEvent("onload",P))}function P(){(n.addEventListener||"load"===e.event.type||"complete"===n.readyState)&&(L(),h.ready())}for(R in h.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return h.each(e.match(O)||[],(function(e,o){t[o]=!0})),t}(e):h.extend({},e);var t,o,n,i,r=[],s=[],a=-1,l=function(){for(i=e.once,n=t=!0;s.length;a=-1)for(o=s.shift();++a<r.length;)!1===r[a].apply(o[0],o[1])&&e.stopOnFalse&&(a=r.length,o=!1);e.memory||(o=!1),t=!1,i&&(r=o?[]:"")},c={add:function(){return r&&(o&&!t&&(a=r.length-1,s.push(o)),function t(o){h.each(o,(function(o,n){h.isFunction(n)?e.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==h.type(n)&&t(n)}))}(arguments),o&&!t&&l()),this},remove:function(){return h.each(arguments,(function(e,t){for(var o;(o=h.inArray(t,r,o))>-1;)r.splice(o,1),o<=a&&a--})),this},has:function(e){return e?h.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=s=[],r=o="",this},disabled:function(){return!r},lock:function(){return i=!0,o||c.disable(),this},locked:function(){return!!i},fireWith:function(e,o){return i||(o=[e,(o=o||[]).slice?o.slice():o],s.push(o),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],o="pending",n={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred((function(o){h.each(t,(function(t,r){var s=h.isFunction(e[t])&&e[t];i[r[1]]((function(){var e=s&&s.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[r[0]+"With"](this===n?o.promise():this,s?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?h.extend(e,n):n}},i={};return n.pipe=n.then,h.each(t,(function(e,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add((function(){o=a}),t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?n:this,arguments),this},i[r[0]+"With"]=s.fireWith})),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,o,n,r=0,s=i.call(arguments),a=s.length,l=1!==a||e&&h.isFunction(e.promise)?a:0,c=1===l?e:h.Deferred(),u=function(e,o,n){return function(r){o[e]=this,n[e]=arguments.length>1?i.call(arguments):r,n===t?c.notifyWith(o,n):--l||c.resolveWith(o,n)}};if(a>1)for(t=new Array(a),o=new Array(a),n=new Array(a);r<a;r++)s[r]&&h.isFunction(s[r].promise)?s[r].promise().progress(u(r,o,t)).done(u(r,n,s)).fail(c.reject):--l;return l||c.resolveWith(n,s),c.promise()}}),h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){(!0===e?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==e&&--h.readyWait>0||(k.resolveWith(n,[h]),h.fn.triggerHandler&&(h(n).triggerHandler("ready"),h(n).off("ready"))))}}),h.ready.promise=function(t){if(!k)if(k=h.Deferred(),"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll)e.setTimeout(h.ready);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",P),e.addEventListener("load",P);else{n.attachEvent("onreadystatechange",P),e.attachEvent("onload",P);var o=!1;try{o=null==e.frameElement&&n.documentElement}catch(e){}o&&o.doScroll&&function t(){if(!h.isReady){try{o.doScroll("left")}catch(o){return e.setTimeout(t,50)}L(),h.ready()}}()}return k.promise(t)},h.ready.promise(),h(g))break;g.ownFirst="0"===R,g.inlineBlockNeedsLayout=!1,h((function(){var e,t,o,i;(o=n.getElementsByTagName("body")[0])&&o.style&&(t=n.createElement("div"),(i=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",o.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",g.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(o.style.zoom=1)),o.removeChild(i))})),function(){var e=n.createElement("div");g.deleteExpando=!0;try{delete e.test}catch(e){g.deleteExpando=!1}e=null}();var M,H=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],o=+e.nodeType||1;return(1===o||9===o)&&(!t||!0!==t&&e.getAttribute("classid")===t)},U=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function B(e,t,o){if(void 0===o&&1===e.nodeType){var n="data-"+t.replace(F,"-$1").toLowerCase();if("string"==typeof(o=e.getAttribute(n))){try{o="true"===o||"false"!==o&&("null"===o?null:+o+""===o?+o:U.test(o)?h.parseJSON(o):o)}catch(e){}h.data(e,t,o)}else o=void 0}return o}function j(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function W(e,t,n,i){if(H(e)){var r,s,a=h.expando,l=e.nodeType,c=l?h.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(i||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=l?e[a]=o.pop()||h.guid++:a),c[u]||(c[u]=l?{}:{toJSON:h.noop}),"object"!=typeof t&&"function"!=typeof t||(i?c[u]=h.extend(c[u],t):c[u].data=h.extend(c[u].data,t)),s=c[u],i||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[h.camelCase(t)]=n),"string"==typeof t?null==(r=s[t])&&(r=s[h.camelCase(t)]):r=s,r}}function q(e,t,o){if(H(e)){var n,i,r=e.nodeType,s=r?h.cache:e,a=r?e[h.expando]:h.expando;if(s[a]){if(t&&(n=o?s[a]:s[a].data)){i=(t=h.isArray(t)?t.concat(h.map(t,h.camelCase)):t in n||(t=h.camelCase(t))in n?[t]:t.split(" ")).length;for(;i--;)delete n[t[i]];if(o?!j(n):!h.isEmptyObject(n))return}(o||(delete s[a].data,j(s[a])))&&(r?h.cleanData([e],!0):g.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?h.cache[e[h.expando]]:e[h.expando])&&!j(e)},data:function(e,t,o){return W(e,t,o)},removeData:function(e,t){return q(e,t)},_data:function(e,t,o){return W(e,t,o,!0)},_removeData:function(e,t){return q(e,t,!0)}}),h.fn.extend({data:function(e,t){var o,n,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=h.data(r),1===r.nodeType&&!h._data(r,"parsedAttrs"))){for(o=s.length;o--;)s[o]&&0===(n=s[o].name).indexOf("data-")&&B(r,n=h.camelCase(n.slice(5)),i[n]);h._data(r,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each((function(){h.data(this,e)})):arguments.length>1?this.each((function(){h.data(this,e,t)})):r?B(r,e,h.data(r,e)):void 0},removeData:function(e){return this.each((function(){h.removeData(this,e)}))}}),h.extend({queue:function(e,t,o){var n;if(e)return t=(t||"fx")+"queue",n=h._data(e,t),o&&(!n||h.isArray(o)?n=h._data(e,t,h.makeArray(o)):n.push(o)),n||[]},dequeue:function(e,t){t=t||"fx";var o=h.queue(e,t),n=o.length,i=o.shift(),r=h._queueHooks(e,t);"inprogress"===i&&(i=o.shift(),n--),i&&("fx"===t&&o.unshift("inprogress"),delete r.stop,i.call(e,(function(){h.dequeue(e,t)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return h._data(e,o)||h._data(e,o,{empty:h.Callbacks("once memory").add((function(){h._removeData(e,t+"queue"),h._removeData(e,o)}))})}}),h.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?h.queue(this[0],e):void 0===t?this:this.each((function(){var o=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&h.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){h.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,n=1,i=h.Deferred(),r=this,s=this.length,a=function(){--n||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=h._data(r[s],e+"queueHooks"))&&o.empty&&(n++,o.empty.add(a));return a(),i.promise(t)}}),g.shrinkWrapBlocks=function(){return null!=M?M:(M=!1,(t=n.getElementsByTagName("body")[0])&&t.style?(e=n.createElement("div"),(o=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(o).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(n.createElement("div")).style.width="5px",M=3!==e.offsetWidth),t.removeChild(o),M):void 0);var e,t,o};var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],X=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)};function G(e,t,o,n){var i,r=1,s=20,a=n?function(){return n.cur()}:function(){return h.css(e,t,"")},l=a(),c=o&&o[3]||(h.cssNumber[t]?"":"px"),u=(h.cssNumber[t]||"px"!==c&&+l)&&$.exec(h.css(e,t));if(u&&u[3]!==c){c=c||u[3],o=o||[],u=+l||1;do{u/=r=r||".5",h.style(e,t,u+c)}while(r!==(r=a()/l)&&1!==r&&--s)}return o&&(u=+u||+l||0,i=o[1]?u+(o[1]+1)*o[2]:+o[2],n&&(n.unit=c,n.start=u,n.end=i)),i}var Y,K,Q,J=function(e,t,o,n,i,r,s){var a=0,l=e.length,c=null==o;if("object"===h.type(o))for(a in i=!0,o)J(e,t,a,o[a],!0,r,s);else if(void 0!==n&&(i=!0,h.isFunction(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,o){return c.call(h(e),o)})),t))for(;a<l;a++)t(e[a],o,s?n:n.call(e[a],a,t(e[a],o)));return i?e:c?t.call(e):l?t(e[0],o):r},Z=/^(?:checkbox|radio)$/i,ee=/<([\w:-]+)/,te=/^$|\/(?:java|ecma)script/i,oe=/^\s+/,ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ie(e){var t=ne.split("|"),o=e.createDocumentFragment();if(o.createElement)for(;t.length;)o.createElement(t.pop());return o}Y=n.createElement("div"),K=n.createDocumentFragment(),Q=n.createElement("input"),Y.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",g.leadingWhitespace=3===Y.firstChild.nodeType,g.tbody=!Y.getElementsByTagName("tbody").length,g.htmlSerialize=!!Y.getElementsByTagName("link").length,g.html5Clone="<:nav></:nav>"!==n.createElement("nav").cloneNode(!0).outerHTML,Q.type="checkbox",Q.checked=!0,K.appendChild(Q),g.appendChecked=Q.checked,Y.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Y.cloneNode(!0).lastChild.defaultValue,K.appendChild(Y),(Q=n.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),Y.appendChild(Q),g.checkClone=Y.cloneNode(!0).cloneNode(!0).lastChild.checked,g.noCloneEvent=!!Y.addEventListener,Y[h.expando]=1,g.attributes=!Y.getAttribute(h.expando);var re={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:g.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function se(e,t){var o,n,i=0,r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],o=e.childNodes||e;null!=(n=o[i]);i++)!t||h.nodeName(n,t)?r.push(n):h.merge(r,se(n,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],r):r}function ae(e,t){for(var o,n=0;null!=(o=e[n]);n++)h._data(o,"globalEval",!t||h._data(t[n],"globalEval"))}re.optgroup=re.option,re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td;var le=/<|&#?\w+;/,ce=/<tbody/i;function ue(e){Z.test(e.type)&&(e.defaultChecked=e.checked)}function ge(e,t,o,n,i){for(var r,s,a,l,c,u,d,p=e.length,f=ie(t),m=[],v=0;v<p;v++)if((s=e[v])||0===s)if("object"===h.type(s))h.merge(m,s.nodeType?[s]:s);else if(le.test(s)){for(l=l||f.appendChild(t.createElement("div")),c=(ee.exec(s)||["",""])[1].toLowerCase(),d=re[c]||re._default,l.innerHTML=d[1]+h.htmlPrefilter(s)+d[2],r=d[0];r--;)l=l.lastChild;if(!g.leadingWhitespace&&oe.test(s)&&m.push(t.createTextNode(oe.exec(s)[0])),!g.tbody)for(r=(s="table"!==c||ce.test(s)?"<table>"!==d[1]||ce.test(s)?0:l:l.firstChild)&&s.childNodes.length;r--;)h.nodeName(u=s.childNodes[r],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(h.merge(m,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else m.push(t.createTextNode(s));for(l&&f.removeChild(l),g.appendChecked||h.grep(se(m,"input"),ue),v=0;s=m[v++];)if(n&&h.inArray(s,n)>-1)i&&i.push(s);else if(a=h.contains(s.ownerDocument,s),l=se(f.appendChild(s),"script"),a&&ae(l),o)for(r=0;s=l[r++];)te.test(s.type||"")&&o.push(s);return l=null,f}!function(){var t,o,i=n.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})o="on"+t,(g[t]=o in e)||(i.setAttribute(o,"t"),g[t]=!1===i.attributes[o].expando);i=null}();var de=/^(?:input|select|textarea)$/i,he=/^key/,pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=/^(?:focusinfocus|focusoutblur)$/,me=/^([^.]*)(?:\.(.+)|)/;function ve(){return!0}function ye(){return!1}function be(){try{return n.activeElement}catch(e){}}function _e(e,t,o,n,i,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof o&&(n=n||o,o=void 0),t)_e(e,a,o,n,t[a],r);return e}if(null==n&&null==i?(i=o,n=o=void 0):null==i&&("string"==typeof o?(i=n,n=void 0):(i=n,n=o,o=void 0)),!1===i)i=ye;else if(!i)return e;return 1===r&&(s=i,i=function(e){return h().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=h.guid++)),e.each((function(){h.event.add(this,t,i,n,o)}))}h.event={global:{},add:function(e,t,o,n,i){var r,s,a,l,c,u,g,d,p,f,m,v=h._data(e);if(v){for(o.handler&&(o=(l=o).handler,i=l.selector),o.guid||(o.guid=h.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(e){return void 0===h||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(u.elem,arguments)},u.elem=e),a=(t=(t||"").match(O)||[""]).length;a--;)p=m=(r=me.exec(t[a])||[])[1],f=(r[2]||"").split(".").sort(),p&&(c=h.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=h.event.special[p]||{},g=h.extend({type:p,origType:m,data:n,handler:o,guid:o.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:f.join(".")},l),(d=s[p])||((d=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,g),g.handler.guid||(g.handler.guid=o.guid)),i?d.splice(d.delegateCount++,0,g):d.push(g),h.event.global[p]=!0);e=null}},remove:function(e,t,o,n,i){var r,s,a,l,c,u,g,d,p,f,m,v=h.hasData(e)&&h._data(e);if(v&&(u=v.events)){for(c=(t=(t||"").match(O)||[""]).length;c--;)if(p=m=(a=me.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(g=h.event.special[p]||{},d=u[p=(n?g.delegateType:g.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!i&&m!==s.origType||o&&o.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,g.remove&&g.remove.call(e,s));l&&!d.length&&(g.teardown&&!1!==g.teardown.call(e,f,v.handle)||h.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)h.event.remove(e,p+t[c],o,n,!0);h.isEmptyObject(u)&&(delete v.handle,h._removeData(e,"events"))}},trigger:function(t,o,i,r){var s,a,l,c,g,d,p,f=[i||n],m=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(l=d=i=i||n,3!==i.nodeType&&8!==i.nodeType&&!fe.test(m+h.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),a=m.indexOf(":")<0&&"on"+m,(t=t[h.expando]?t:new h.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),o=null==o?[t]:h.makeArray(o,[t]),g=h.event.special[m]||{},r||!g.trigger||!1!==g.trigger.apply(i,o))){if(!r&&!g.noBubble&&!h.isWindow(i)){for(c=g.delegateType||m,fe.test(c+m)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(i.ownerDocument||n)&&f.push(d.defaultView||d.parentWindow||e)}for(p=0;(l=f[p++])&&!t.isPropagationStopped();)t.type=p>1?c:g.bindType||m,(s=(h._data(l,"events")||{})[t.type]&&h._data(l,"handle"))&&s.apply(l,o),(s=a&&l[a])&&s.apply&&H(l)&&(t.result=s.apply(l,o),!1===t.result&&t.preventDefault());if(t.type=m,!r&&!t.isDefaultPrevented()&&(!g._default||!1===g._default.apply(f.pop(),o))&&H(i)&&a&&i[m]&&!h.isWindow(i)){(d=i[a])&&(i[a]=null),h.event.triggered=m;try{i[m]()}catch(e){}h.event.triggered=void 0,d&&(i[a]=d)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,o,n,r,s,a,l=i.call(arguments),c=(h._data(this,"events")||{})[e.type]||[],u=h.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=h.event.handlers.call(this,e,c),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(s=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(n=((h.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var o,n,i,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],o=0;o<a;o++)void 0===n[i=(r=t[o]).selector+" "]&&(n[i]=r.needsContext?h(i,this).index(l)>-1:h.find(i,this,null,[l]).length),n[i]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[h.expando])return e;var t,o,i,r=e.type,s=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=pe.test(r)?this.mouseHooks:he.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new h.Event(s),t=i.length;t--;)e[o=i[t]]=s[o];return e.target||(e.target=s.srcElement||n),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var o,i,r,s=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(i=e.target.ownerDocument||n).documentElement,o=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==be()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===be()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,o){var n=h.extend(new h.Event,o,{type:e,isSimulated:!0});h.event.trigger(n,null,t),n.isDefaultPrevented()&&o.preventDefault()}},h.removeEvent=n.removeEventListener?function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)}:function(e,t,o){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,o))},h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ve:ye):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ve,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ve,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ve,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||h.contains(this,n))||(e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t),o}}})),g.submit||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,o=h.nodeName(t,"input")||h.nodeName(t,"button")?h.prop(t,"form"):void 0;o&&!h._data(o,"submit")&&(h.event.add(o,"submit._submit",(function(e){e._submitBubble=!0})),h._data(o,"submit",!0))}))},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}}),g.change||(h.event.special.change={setup:function(){if(de.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(h.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)})),h.event.add(this,"click._change",(function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),h.event.simulate("change",this,e)}))),!1;h.event.add(this,"beforeactivate._change",(function(e){var t=e.target;de.test(t.nodeName)&&!h._data(t,"change")&&(h.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e)})),h._data(t,"change",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return h.event.remove(this,"._change"),!de.test(this.nodeName)}}),g.focusin||h.each({focus:"focusin",blur:"focusout"},(function(e,t){var o=function(e){h.event.simulate(t,e.target,h.event.fix(e))};h.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=h._data(n,t);i||n.addEventListener(e,o,!0),h._data(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=h._data(n,t)-1;i?h._data(n,t,i):(n.removeEventListener(e,o,!0),h._removeData(n,t))}}})),h.fn.extend({on:function(e,t,o,n){return _e(this,e,t,o,n)},one:function(e,t,o,n){return _e(this,e,t,o,n,1)},off:function(e,t,o){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,h(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(o=t,t=void 0),!1===o&&(o=ye),this.each((function(){h.event.remove(this,e,o,t)}))},trigger:function(e,t){return this.each((function(){h.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var o=this[0];if(o)return h.event.trigger(e,t,o,!0)}});var Ee=/ jQuery\d+="(?:null|\d+)"/g,we=new RegExp("<(?:"+ne+")[\\s/>]","i"),Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Te=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^true\/(.*)/,xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie=ie(n).appendChild(n.createElement("div"));function Ne(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function De(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function ke(e){var t=Ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Re(e,t){if(1===t.nodeType&&h.hasData(e)){var o,n,i,r=h._data(e),s=h._data(t,r),a=r.events;if(a)for(o in delete s.handle,s.events={},a)for(n=0,i=a[o].length;n<i;n++)h.event.add(t,o,a[o][n]);s.data&&(s.data=h.extend({},s.data))}}function Oe(e,t){var o,n,i;if(1===t.nodeType){if(o=t.nodeName.toLowerCase(),!g.noCloneEvent&&t[h.expando]){for(n in(i=h._data(t)).events)h.removeEvent(t,n,i.handle);t.removeAttribute(h.expando)}"script"===o&&t.text!==e.text?(De(t).text=e.text,ke(t)):"object"===o?(t.parentNode&&(t.outerHTML=e.outerHTML),g.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===o&&Z.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===o?t.defaultSelected=t.selected=e.defaultSelected:"input"!==o&&"textarea"!==o||(t.defaultValue=e.defaultValue)}}function Le(e,t,o,n){t=r.apply([],t);var i,s,a,l,c,u,d=0,p=e.length,f=p-1,m=t[0],v=h.isFunction(m);if(v||p>1&&"string"==typeof m&&!g.checkClone&&Ce.test(m))return e.each((function(i){var r=e.eq(i);v&&(t[0]=m.call(this,i,r.html())),Le(r,t,o,n)}));if(p&&(i=(u=ge(t,e[0].ownerDocument,!1,e,n)).firstChild,1===u.childNodes.length&&(u=i),i||n)){for(a=(l=h.map(se(u,"script"),De)).length;d<p;d++)s=u,d!==f&&(s=h.clone(s,!0,!0),a&&h.merge(l,se(s,"script"))),o.call(e[d],s,d);if(a)for(c=l[l.length-1].ownerDocument,h.map(l,ke),d=0;d<a;d++)s=l[d],te.test(s.type||"")&&!h._data(s,"globalEval")&&h.contains(c,s)&&(s.src?h._evalUrl&&h._evalUrl(s.src):h.globalEval((s.text||s.textContent||s.innerHTML||"").replace(xe,"")));u=i=null}return e}function Pe(e,t,o){for(var n,i=t?h.filter(t,e):e,r=0;null!=(n=i[r]);r++)o||1!==n.nodeType||h.cleanData(se(n)),n.parentNode&&(o&&h.contains(n.ownerDocument,n)&&ae(se(n,"script")),n.parentNode.removeChild(n));return e}h.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,o){var n,i,r,s,a,l=h.contains(e.ownerDocument,e);if(g.html5Clone||h.isXMLDoc(e)||!we.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ie.innerHTML=e.outerHTML,Ie.removeChild(r=Ie.firstChild)),!(g.noCloneEvent&&g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(n=se(r),a=se(e),s=0;null!=(i=a[s]);++s)n[s]&&Oe(i,n[s]);if(t)if(o)for(a=a||se(e),n=n||se(r),s=0;null!=(i=a[s]);s++)Re(i,n[s]);else Re(e,r);return(n=se(r,"script")).length>0&&ae(n,!l&&se(e,"script")),n=a=i=null,r},cleanData:function(e,t){for(var n,i,r,s,a=0,l=h.expando,c=h.cache,u=g.attributes,d=h.event.special;null!=(n=e[a]);a++)if((t||H(n))&&(s=(r=n[l])&&c[r])){if(s.events)for(i in s.events)d[i]?h.event.remove(n,i):h.removeEvent(n,i,s.handle);c[r]&&(delete c[r],u||void 0===n.removeAttribute?n[l]=void 0:n.removeAttribute(l),o.push(r))}}}),h.fn.extend({domManip:Le,detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return J(this,(function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&h.cleanData(se(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return h.clone(this,e,t)}))},html:function(e){return J(this,(function(e){var t=this[0]||{},o=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ee,""):void 0;if("string"==typeof e&&!Te.test(e)&&(g.htmlSerialize||!we.test(e))&&(g.leadingWhitespace||!oe.test(e))&&!re[(ee.exec(e)||["",""])[1].toLowerCase()]){e=h.htmlPrefilter(e);try{for(;o<n;o++)1===(t=this[o]||{}).nodeType&&(h.cleanData(se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var o=this.parentNode;h.inArray(this,e)<0&&(h.cleanData(se(this)),o&&o.replaceChild(t,this))}),e)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){h.fn[e]=function(e){for(var o,n=0,i=[],r=h(e),a=r.length-1;n<=a;n++)o=n===a?this:this.clone(!0),h(r[n])[t](o),s.apply(i,o.get());return this.pushStack(i)}}));var Me,He={HTML:"block",BODY:"block"};function Ue(e,t){var o=h(t.createElement(e)).appendTo(t.body),n=h.css(o[0],"display");return o.detach(),n}function Fe(e){var t=n,o=He[e];return o||("none"!==(o=Ue(e,t))&&o||((t=((Me=(Me||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Me[0].contentDocument).document).write(),t.close(),o=Ue(e,t),Me.detach()),He[e]=o),o}var Be=/^margin/,je=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),We=function(e,t,o,n){var i,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in i=o.apply(e,n||[]),t)e.style[r]=s[r];return i},qe=n.documentElement;!function(){var t,o,i,r,s,a,l=n.createElement("div"),c=n.createElement("div");function u(){var u,g,d=n.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=a=!1,o=s=!0,e.getComputedStyle&&(g=e.getComputedStyle(c),t="1%"!==(g||{}).top,a="2px"===(g||{}).marginLeft,i="4px"===(g||{width:"4px"}).width,c.style.marginRight="50%",o="4px"===(g||{marginRight:"4px"}).marginRight,(u=c.appendChild(n.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",u.style.marginRight=u.style.width="0",c.style.width="1px",s=!parseFloat((e.getComputedStyle(u)||{}).marginRight),c.removeChild(u)),c.style.display="none",(r=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(u=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===u[0].offsetHeight)&&(u[0].style.display="",u[1].style.display="none",r=0===u[0].offsetHeight)),d.removeChild(l)}c.style&&(c.style.cssText="float:left;opacity:.5",g.opacity="0.5"===c.style.opacity,g.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,(l=n.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),g.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,h.extend(g,{reliableHiddenOffsets:function(){return null==t&&u(),r},boxSizingReliable:function(){return null==t&&u(),i},pixelMarginRight:function(){return null==t&&u(),o},pixelPosition:function(){return null==t&&u(),t},reliableMarginRight:function(){return null==t&&u(),s},reliableMarginLeft:function(){return null==t&&u(),a}}))}();var ze,$e,Ve=/^(top|right|bottom|left)$/;function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}e.getComputedStyle?(ze=function(t){var o=t.ownerDocument.defaultView;return o&&o.opener||(o=e),o.getComputedStyle(t)},$e=function(e,t,o){var n,i,r,s,a=e.style;return""!==(s=(o=o||ze(e))?o.getPropertyValue(t)||o[t]:void 0)&&void 0!==s||h.contains(e.ownerDocument,e)||(s=h.style(e,t)),o&&!g.pixelMarginRight()&&je.test(s)&&Be.test(t)&&(n=a.width,i=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=o.width,a.width=n,a.minWidth=i,a.maxWidth=r),void 0===s?s:s+""}):qe.currentStyle&&(ze=function(e){return e.currentStyle},$e=function(e,t,o){var n,i,r,s,a=e.style;return null==(s=(o=o||ze(e))?o[t]:void 0)&&a&&a[t]&&(s=a[t]),je.test(s)&&!Ve.test(t)&&(n=a.left,(r=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,r&&(i.left=r)),void 0===s?s:s+""||"auto"});var Ge=/alpha\([^)]*\)/i,Ye=/opacity\s*=\s*([^)]*)/i,Ke=/^(none|table(?!-c[ea]).+)/,Qe=new RegExp("^("+z+")(.*)$","i"),Je={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=n.createElement("div").style;function ot(e){if(e in tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),o=et.length;o--;)if((e=et[o]+t)in tt)return e}function nt(e,t){for(var o,n,i,r=[],s=0,a=e.length;s<a;s++)(n=e[s]).style&&(r[s]=h._data(n,"olddisplay"),o=n.style.display,t?(r[s]||"none"!==o||(n.style.display=""),""===n.style.display&&X(n)&&(r[s]=h._data(n,"olddisplay",Fe(n.nodeName)))):(i=X(n),(o&&"none"!==o||!i)&&h._data(n,"olddisplay",i?o:h.css(n,"display"))));for(s=0;s<a;s++)(n=e[s]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[s]||"":"none"));return e}function it(e,t,o){var n=Qe.exec(t);return n?Math.max(0,n[1]-(o||0))+(n[2]||"px"):t}function rt(e,t,o,n,i){for(var r=o===(n?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===o&&(s+=h.css(e,o+V[r],!0,i)),n?("content"===o&&(s-=h.css(e,"padding"+V[r],!0,i)),"margin"!==o&&(s-=h.css(e,"border"+V[r]+"Width",!0,i))):(s+=h.css(e,"padding"+V[r],!0,i),"padding"!==o&&(s+=h.css(e,"border"+V[r]+"Width",!0,i)));return s}function st(e,t,o){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=ze(e),s=g.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,r);if(i<=0||null==i){if(((i=$e(e,t,r))<0||null==i)&&(i=e.style[t]),je.test(i))return i;n=s&&(g.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+rt(e,t,o||(s?"border":"content"),n,r)+"px"}function at(e,t,o,n,i){return new at.prototype.init(e,t,o,n,i)}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=$e(e,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:g.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,o,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,a=h.camelCase(t),l=e.style;if(t=h.cssProps[a]||(h.cssProps[a]=ot(a)||a),s=h.cssHooks[t]||h.cssHooks[a],void 0===o)return s&&"get"in s&&void 0!==(i=s.get(e,!1,n))?i:l[t];if("string"==(r=typeof o)&&(i=$.exec(o))&&i[1]&&(o=G(e,t,i),r="number"),null!=o&&o==o&&("number"===r&&(o+=i&&i[3]||(h.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==o||0!==t.indexOf("background")||(l[t]="inherit"),!s||!("set"in s)||void 0!==(o=s.set(e,o,n))))try{l[t]=o}catch(e){}}},css:function(e,t,o,n){var i,r,s,a=h.camelCase(t);return t=h.cssProps[a]||(h.cssProps[a]=ot(a)||a),(s=h.cssHooks[t]||h.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,o)),void 0===r&&(r=$e(e,t,n)),"normal"===r&&t in Ze&&(r=Ze[t]),""===o||o?(i=parseFloat(r),!0===o||isFinite(i)?i||0:r):r}}),h.each(["height","width"],(function(e,t){h.cssHooks[t]={get:function(e,o,n){if(o)return Ke.test(h.css(e,"display"))&&0===e.offsetWidth?We(e,Je,(function(){return st(e,t,n)})):st(e,t,n)},set:function(e,o,n){var i=n&&ze(e);return it(0,o,n?rt(e,t,n,g.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}})),g.opacity||(h.cssHooks.opacity={get:function(e,t){return Ye.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var o=e.style,n=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||o.filter||"";o.zoom=1,(t>=1||""===t)&&""===h.trim(r.replace(Ge,""))&&o.removeAttribute&&(o.removeAttribute("filter"),""===t||n&&!n.filter)||(o.filter=Ge.test(r)?r.replace(Ge,i):r+" "+i)}}),h.cssHooks.marginRight=Xe(g.reliableMarginRight,(function(e,t){if(t)return We(e,{display:"inline-block"},$e,[e,"marginRight"])})),h.cssHooks.marginLeft=Xe(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||(h.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-We(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})):0))+"px"})),h.each({margin:"",padding:"",border:"Width"},(function(e,t){h.cssHooks[e+t]={expand:function(o){for(var n=0,i={},r="string"==typeof o?o.split(" "):[o];n<4;n++)i[e+V[n]+t]=r[n]||r[n-2]||r[0];return i}},Be.test(e)||(h.cssHooks[e+t].set=it)})),h.fn.extend({css:function(e,t){return J(this,(function(e,t,o){var n,i,r={},s=0;if(h.isArray(t)){for(n=ze(e),i=t.length;s<i;s++)r[t[s]]=h.css(e,t[s],!1,n);return r}return void 0!==o?h.style(e,t,o):h.css(e,t)}),e,t,arguments.length>1)},show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){X(this)?h(this).show():h(this).hide()}))}}),h.Tween=at,at.prototype={constructor:at,init:function(e,t,o,n,i,r){this.elem=e,this.prop=o,this.easing=i||h.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(h.cssNumber[o]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,o=at.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[h.cssProps[e.prop]]&&!h.cssHooks[e.prop]?e.elem[e.prop]=e.now:h.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},h.fx=at.prototype.init,h.fx.step={};var lt,ct,ut=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function dt(){return e.setTimeout((function(){lt=void 0})),lt=h.now()}function ht(e,t){var o,n={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n["margin"+(o=V[i])]=n["padding"+o]=e;return t&&(n.opacity=n.width=e),n}function pt(e,t,o){for(var n,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),r=0,s=i.length;r<s;r++)if(n=i[r].call(o,t,e))return n}function ft(e,t,o){var n,i,r=0,s=ft.prefilters.length,a=h.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=lt||dt(),o=Math.max(0,c.startTime+c.duration-t),n=1-(o/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(n);return a.notifyWith(e,[c,n,o]),n<1&&s?o:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},o),originalProperties:t,originalOptions:o,startTime:lt||dt(),duration:o.duration,tweens:[],createTween:function(t,o){var n=h.Tween(e,c.opts,t,o,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var o=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;o<n;o++)c.tweens[o].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var o,n,i,r,s;for(o in e)if(i=t[n=h.camelCase(o)],r=e[o],h.isArray(r)&&(i=r[1],r=e[o]=r[0]),o!==n&&(e[n]=r,delete e[o]),(s=h.cssHooks[n])&&"expand"in s)for(o in r=s.expand(r),delete e[n],r)o in e||(e[o]=r[o],t[o]=i);else t[n]=i}(u,c.opts.specialEasing);r<s;r++)if(n=ft.prefilters[r].call(c,e,u,c.opts))return h.isFunction(n.stop)&&(h._queueHooks(c.elem,c.opts.queue).stop=h.proxy(n.stop,n)),n;return h.map(u,pt,c),h.isFunction(c.opts.start)&&c.opts.start.call(e,c),h.fx.timer(h.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}h.Animation=h.extend(ft,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return G(o.elem,e,$.exec(t),o),o}]},tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.match(O);for(var o,n=0,i=e.length;n<i;n++)o=e[n],ft.tweeners[o]=ft.tweeners[o]||[],ft.tweeners[o].unshift(t)},prefilters:[function(e,t,o){var n,i,r,s,a,l,c,u=this,d={},p=e.style,f=e.nodeType&&X(e),m=h._data(e,"fxshow");for(n in o.queue||(null==(a=h._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,h.queue(e,"fx").length||a.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(o.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(c=h.css(e,"display"))?h._data(e,"olddisplay")||Fe(e.nodeName):c)&&"none"===h.css(e,"float")&&(g.inlineBlockNeedsLayout&&"inline"!==Fe(e.nodeName)?p.zoom=1:p.display="inline-block")),o.overflow&&(p.overflow="hidden",g.shrinkWrapBlocks()||u.always((function(){p.overflow=o.overflow[0],p.overflowX=o.overflow[1],p.overflowY=o.overflow[2]}))),t)if(i=t[n],ut.exec(i)){if(delete t[n],r=r||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||h.style(e,n)}else c=void 0;if(h.isEmptyObject(d))"inline"===("none"===c?Fe(e.nodeName):c)&&(p.display=c);else for(n in m?"hidden"in m&&(f=m.hidden):m=h._data(e,"fxshow",{}),r&&(m.hidden=!f),f?h(e).show():u.done((function(){h(e).hide()})),u.done((function(){var t;for(t in h._removeData(e,"fxshow"),d)h.style(e,t,d[t])})),d)s=pt(f?m[n]:0,n,u),n in m||(m[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),h.speed=function(e,t,o){var n=e&&"object"==typeof e?h.extend({},e):{complete:o||!o&&t||h.isFunction(e)&&e,duration:e,easing:o&&t||t&&!h.isFunction(t)&&t};return n.duration=h.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in h.fx.speeds?h.fx.speeds[n.duration]:h.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){h.isFunction(n.old)&&n.old.call(this),n.queue&&h.dequeue(this,n.queue)},n},h.fn.extend({fadeTo:function(e,t,o,n){return this.filter(X).css("opacity",0).show().end().animate({opacity:t},e,o,n)},animate:function(e,t,o,n){var i=h.isEmptyObject(e),r=h.speed(t,o,n),s=function(){var t=ft(this,h.extend({},e),r);(i||h._data(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,o){var n=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=h.timers,s=h._data(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&gt.test(i)&&n(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(o),t=!1,r.splice(i,1));!t&&o||h.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,o=h._data(this),n=o[e+"queue"],i=o[e+"queueHooks"],r=h.timers,s=n?n.length:0;for(o.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete o.finish}))}}),h.each(["toggle","show","hide"],(function(e,t){var o=h.fn[t];h.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(ht(t,!0),e,n,i)}})),h.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){h.fn[e]=function(e,o,n){return this.animate(t,e,o,n)}})),h.timers=[],h.fx.tick=function(){var e,t=h.timers,o=0;for(lt=h.now();o<t.length;o++)(e=t[o])()||t[o]!==e||t.splice(o--,1);t.length||h.fx.stop(),lt=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){ct||(ct=e.setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){e.clearInterval(ct),ct=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(t,o){return t=h.fx&&h.fx.speeds[t]||t,o=o||"fx",this.queue(o,(function(o,n){var i=e.setTimeout(o,t);n.stop=function(){e.clearTimeout(i)}}))},function(){var e,t=n.createElement("input"),o=n.createElement("div"),i=n.createElement("select"),r=i.appendChild(n.createElement("option"));(o=n.createElement("div")).setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),o.appendChild(t),(e=o.getElementsByTagName("a")[0]).style.cssText="top:1px",g.getSetAttribute="t"!==o.className,g.style=/top/.test(e.getAttribute("style")),g.hrefNormalized="/a"===e.getAttribute("href"),g.checkOn=!!t.value,g.optSelected=r.selected,g.enctype=!!n.createElement("form").enctype,i.disabled=!0,g.optDisabled=!r.disabled,(t=n.createElement("input")).setAttribute("value",""),g.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),g.radioValue="t"===t.value}();var mt=/\r/g,vt=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(e){var t,o,n,i=this[0];return arguments.length?(n=h.isFunction(e),this.each((function(o){var i;1===this.nodeType&&(null==(i=n?e.call(this,o,h(this).val()):e)?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,(function(e){return null==e?"":e+""}))),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(o=t.get(i,"value"))?o:"string"==typeof(o=i.value)?o.replace(mt,""):null==o?"":o:void 0}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e)).replace(vt," ")}},select:{get:function(e){for(var t,o,n=e.options,i=e.selectedIndex,r="select-one"===e.type||i<0,s=r?null:[],a=r?i+1:n.length,l=i<0?a:r?i:0;l<a;l++)if(((o=n[l]).selected||l===i)&&(g.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!h.nodeName(o.parentNode,"optgroup"))){if(t=h(o).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var o,n,i=e.options,r=h.makeArray(t),s=i.length;s--;)if(n=i[s],h.inArray(h.valHooks.option.get(n),r)>-1)try{n.selected=o=!0}catch(e){n.scrollHeight}else n.selected=!1;return o||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],(function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t))return e.checked=h.inArray(h(e).val(),t)>-1}},g.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var yt,bt,_t=h.expr.attrHandle,Et=/^(?:checked|selected)$/i,wt=g.getSetAttribute,St=g.input;h.fn.extend({attr:function(e,t){return J(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){h.removeAttr(this,e)}))}}),h.extend({attr:function(e,t,o){var n,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?h.prop(e,t,o):(1===r&&h.isXMLDoc(e)||(t=t.toLowerCase(),i=h.attrHooks[t]||(h.expr.match.bool.test(t)?bt:yt)),void 0!==o?null===o?void h.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:(e.setAttribute(t,o+""),o):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=h.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&h.nodeName(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,n,i=0,r=t&&t.match(O);if(r&&1===e.nodeType)for(;o=r[i++];)n=h.propFix[o]||o,h.expr.match.bool.test(o)?St&&wt||!Et.test(o)?e[n]=!1:e[h.camelCase("default-"+o)]=e[n]=!1:h.attr(e,o,""),e.removeAttribute(wt?o:n)}}),bt={set:function(e,t,o){return!1===t?h.removeAttr(e,o):St&&wt||!Et.test(o)?e.setAttribute(!wt&&h.propFix[o]||o,o):e[h.camelCase("default-"+o)]=e[o]=!0,o}},h.each(h.expr.match.bool.source.match(/\w+/g),(function(e,t){var o=_t[t]||h.find.attr;St&&wt||!Et.test(t)?_t[t]=function(e,t,n){var i,r;return n||(r=_t[t],_t[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,_t[t]=r),i}:_t[t]=function(e,t,o){if(!o)return e[h.camelCase("default-"+t)]?t.toLowerCase():null}})),St&&wt||(h.attrHooks.value={set:function(e,t,o){if(!h.nodeName(e,"input"))return yt&&yt.set(e,t,o);e.defaultValue=t}}),wt||(yt={set:function(e,t,o){var n=e.getAttributeNode(o);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(o)),n.value=t+="","value"===o||t===e.getAttribute(o))return t}},_t.id=_t.name=_t.coords=function(e,t,o){var n;if(!o)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},h.valHooks.button={get:function(e,t){var o=e.getAttributeNode(t);if(o&&o.specified)return o.value},set:yt.set},h.attrHooks.contenteditable={set:function(e,t,o){yt.set(e,""!==t&&t,o)}},h.each(["width","height"],(function(e,t){h.attrHooks[t]={set:function(e,o){if(""===o)return e.setAttribute(t,"auto"),o}}}))),g.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,Ct=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return J(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))}}),h.extend({prop:function(e,t,o){var n,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&h.isXMLDoc(e)||(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==o?i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:e[t]=o:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.hrefNormalized||h.each(["href","src"],(function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),g.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){h.propFix[this.toLowerCase()]=this})),g.enctype||(h.propFix.enctype="encoding");var At=/[\t\r\n\f]/g;function xt(e){return h.attr(e,"class")||""}h.fn.extend({addClass:function(e){var t,o,n,i,r,s,a,l=0;if(h.isFunction(e))return this.each((function(t){h(this).addClass(e.call(this,t,xt(this)))}));if("string"==typeof e&&e)for(t=e.match(O)||[];o=this[l++];)if(i=xt(o),n=1===o.nodeType&&(" "+i+" ").replace(At," ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i!==(a=h.trim(n))&&h.attr(o,"class",a)}return this},removeClass:function(e){var t,o,n,i,r,s,a,l=0;if(h.isFunction(e))return this.each((function(t){h(this).removeClass(e.call(this,t,xt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(O)||[];o=this[l++];)if(i=xt(o),n=1===o.nodeType&&(" "+i+" ").replace(At," ")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");i!==(a=h.trim(n))&&h.attr(o,"class",a)}return this},toggleClass:function(e,t){var o=typeof e;return"boolean"==typeof t&&"string"===o?t?this.addClass(e):this.removeClass(e):h.isFunction(e)?this.each((function(o){h(this).toggleClass(e.call(this,o,xt(this),t),t)})):this.each((function(){var t,n,i,r;if("string"===o)for(n=0,i=h(this),r=e.match(O)||[];t=r[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==o||((t=xt(this))&&h._data(this,"__className__",t),h.attr(this,"class",t||!1===e?"":h._data(this,"__className__")||""))}))},hasClass:function(e){var t,o,n=0;for(t=" "+e+" ";o=this[n++];)if(1===o.nodeType&&(" "+xt(o)+" ").replace(At," ").indexOf(t)>-1)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){h.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}})),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var It=e.location,Nt=h.now(),Dt=/\?/,kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var o,n=null,i=h.trim(t+"");return i&&!h.trim(i.replace(kt,(function(e,t,i,r){return o&&t&&(n=0),0===n?e:(o=i||t,n+=!r-!i,"")})))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var o;if(!t||"string"!=typeof t)return null;try{e.DOMParser?o=(new e.DOMParser).parseFromString(t,"text/xml"):((o=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t))}catch(e){o=void 0}return o&&o.documentElement&&!o.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),o};var Rt=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ut={},Ft={},Bt="*/".concat("*"),jt=It.href,Wt=Ht.exec(jt.toLowerCase())||[];function qt(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var n,i=0,r=t.toLowerCase().match(O)||[];if(h.isFunction(o))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(o)):(e[n]=e[n]||[]).push(o)}}function zt(e,t,o,n){var i={},r=e===Ft;function s(a){var l;return i[a]=!0,h.each(e[a]||[],(function(e,a){var c=a(t,o,n);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function $t(e,t){var o,n,i=h.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&h.extend(!0,e,o),e}function Vt(e){return e.style&&e.style.display||h.css(e,"display")}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,h.ajaxSettings),t):$t(h.ajaxSettings,e)},ajaxPrefilter:qt(Ut),ajaxTransport:qt(Ft),ajax:function(t,o){"object"==typeof t&&(o=t,t=void 0),o=o||{};var n,i,r,s,a,l,c,u,g=h.ajaxSetup({},o),d=g.context||g,p=g.context&&(d.nodeType||d.jquery)?h(d):h.event,f=h.Deferred(),m=h.Callbacks("once memory"),v=g.statusCode||{},y={},b={},_=0,E="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!u)for(u={};t=Lt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var o=e.toLowerCase();return _||(e=b[o]=b[o]||e,y[e]=t),this},overrideMimeType:function(e){return _||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||E;return c&&c.abort(t),S(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||jt)+"").replace(Rt,"").replace(Mt,Wt[1]+"//"),g.type=o.method||o.type||g.method||g.type,g.dataTypes=h.trim(g.dataType||"*").toLowerCase().match(O)||[""],null==g.crossDomain&&(n=Ht.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===Wt[1]&&n[2]===Wt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Wt[3]||("http:"===Wt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=h.param(g.data,g.traditional)),zt(Ut,g,o,w),2===_)return w;for(i in(l=h.event&&g.global)&&0==h.active++&&h.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Pt.test(g.type),r=g.url,g.hasContent||(g.data&&(r=g.url+=(Dt.test(r)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ot.test(r)?r.replace(Ot,"$1_="+Nt++):r+(Dt.test(r)?"&":"?")+"_="+Nt++)),g.ifModified&&(h.lastModified[r]&&w.setRequestHeader("If-Modified-Since",h.lastModified[r]),h.etag[r]&&w.setRequestHeader("If-None-Match",h.etag[r])),(g.data&&g.hasContent&&!1!==g.contentType||o.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Bt+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(d,w,g)||2===_))return w.abort();for(i in E="abort",{success:1,error:1,complete:1})w[i](g[i]);if(c=zt(Ft,g,o,w)){if(w.readyState=1,l&&p.trigger("ajaxSend",[w,g]),2===_)return w;g.async&&g.timeout>0&&(a=e.setTimeout((function(){w.abort("timeout")}),g.timeout));try{_=1,c.send(y,S)}catch(e){if(!(_<2))throw e;S(-1,e)}}else S(-1,"No Transport");function S(t,o,n,i){var u,y,b,E,S,T=o;2!==_&&(_=2,a&&e.clearTimeout(a),c=void 0,s=i||"",w.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(E=function(e,t,o){for(var n,i,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in o)r=l[0];else{for(s in o){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),o[r]}(g,w,n)),E=function(e,t,o,n){var i,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(o[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(i in c)if((a=i.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(g,E,w,u),u?(g.ifModified&&((S=w.getResponseHeader("Last-Modified"))&&(h.lastModified[r]=S),(S=w.getResponseHeader("etag"))&&(h.etag[r]=S)),204===t||"HEAD"===g.type?T="nocontent":304===t?T="notmodified":(T=E.state,y=E.data,u=!(b=E.error))):(b=T,!t&&T||(T="error",t<0&&(t=0))),w.status=t,w.statusText=(o||T)+"",u?f.resolveWith(d,[y,T,w]):f.rejectWith(d,[w,T,b]),w.statusCode(v),v=void 0,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[w,g,u?y:b]),m.fireWith(d,[w,T]),l&&(p.trigger("ajaxComplete",[w,g]),--h.active||h.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,o){return h.get(e,t,o,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],(function(e,t){h[t]=function(e,o,n,i){return h.isFunction(o)&&(i=i||n,n=o,o=void 0),h.ajax(h.extend({url:e,type:t,dataType:i,data:o,success:n},h.isPlainObject(e)&&e))}})),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each((function(t){h(this).wrapAll(e.call(this,t))}));if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return h.isFunction(e)?this.each((function(t){h(this).wrapInner(e.call(this,t))})):this.each((function(){var t=h(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)}))},wrap:function(e){var t=h.isFunction(e);return this.each((function(o){h(this).wrapAll(t?e.call(this,o):e)}))},unwrap:function(){return this.parent().each((function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)})).end()}}),h.expr.filters.hidden=function(e){return g.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!h.contains(e.ownerDocument||n,e))return!0;for(;e&&1===e.nodeType;){if("none"===Vt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}(e)},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var Xt=/%20/g,Gt=/\[\]$/,Yt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;function Jt(e,t,o,n){var i;if(h.isArray(t))h.each(t,(function(t,i){o||Gt.test(e)?n(e,i):Jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,o,n)}));else if(o||"object"!==h.type(t))n(e,t);else for(i in t)Jt(e+"["+i+"]",t[i],o,n)}h.param=function(e,t){var o,n=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,(function(){i(this.name,this.value)}));else for(o in e)Jt(o,e[o],t,i);return n.join("&").replace(Xt,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&Qt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!Z.test(e))})).map((function(e,t){var o=h(this).val();return null==o?null:h.isArray(o)?h.map(o,(function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}})):{name:t.name,value:o.replace(Yt,"\r\n")}})).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?no():n.documentMode>8?oo():/^(get|post|head|put|delete|options)$/i.test(this.type)&&oo()||no()}:oo;var Zt=0,eo={},to=h.ajaxSettings.xhr();function oo(){try{return new e.XMLHttpRequest}catch(e){}}function no(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in eo)eo[e](void 0,!0)})),g.cors=!!to&&"withCredentials"in to,(to=g.ajax=!!to)&&h.ajaxTransport((function(t){var o;if(!t.crossDomain||g.cors)return{send:function(n,i){var r,s=t.xhr(),a=++Zt;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];for(r in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[r]&&s.setRequestHeader(r,n[r]+"");s.send(t.hasContent&&t.data||null),o=function(e,n){var r,l,c;if(o&&(n||4===s.readyState))if(delete eo[a],o=void 0,s.onreadystatechange=h.noop,n)4!==s.readyState&&s.abort();else{c={},r=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(e){l=""}r||!t.isLocal||t.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&i(r,l,c,s.getAllResponseHeaders())},t.async?4===s.readyState?e.setTimeout(o):s.onreadystatechange=eo[a]=o:o()},abort:function(){o&&o(void 0,!0)}}})),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),h.ajaxTransport("script",(function(e){if(e.crossDomain){var t,o=n.head||h("head")[0]||n.documentElement;return{send:function(i,r){(t=n.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,o){(o||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,o||r(200,"success"))},o.insertBefore(t,o.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var io=[],ro=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=io.pop()||h.expando+"_"+Nt++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",(function(t,o,n){var i,r,s,a=!1!==t.jsonp&&(ro.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ro.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ro,"$1"+i):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||h.error(i+" was not called"),s[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){s=arguments},n.always((function(){void 0===r?h(e).removeProp(i):e[i]=r,t[i]&&(t.jsonpCallback=o.jsonpCallback,io.push(i)),s&&h.isFunction(r)&&r(s[0]),s=r=void 0})),"script"})),h.parseHTML=function(e,t,o){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(o=t,t=!1),t=t||n;var i=S.exec(e),r=!o&&[];return i?[t.createElement(i[1])]:(i=ge([e],t,r),r&&r.length&&h(r).remove(),h.merge([],i.childNodes))};var so=h.fn.load;function ao(e){return h.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}h.fn.load=function(e,t,o){if("string"!=typeof e&&so)return so.apply(this,arguments);var n,i,r,s=this,a=e.indexOf(" ");return a>-1&&(n=h.trim(e.slice(a,e.length)),e=e.slice(0,a)),h.isFunction(t)?(o=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&h.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,s.html(n?h("<div>").append(h.parseHTML(e)).find(n):e)})).always(o&&function(e,t){s.each((function(){o.apply(this,r||[e.responseText,t,e])}))}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){h.fn[t]=function(e){return this.on(t,e)}})),h.expr.filters.animated=function(e){return h.grep(h.timers,(function(t){return e===t.elem})).length},h.offset={setOffset:function(e,t,o){var n,i,r,s,a,l,c=h.css(e,"position"),u=h(e),g={};"static"===c&&(e.style.position="relative"),a=u.offset(),r=h.css(e,"top"),l=h.css(e,"left"),("absolute"===c||"fixed"===c)&&h.inArray("auto",[r,l])>-1?(s=(n=u.position()).top,i=n.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),h.isFunction(t)&&(t=t.call(e,o,h.extend({},a))),null!=t.top&&(g.top=t.top-a.top+s),null!=t.left&&(g.left=t.left-a.left+i),"using"in t?t.using.call(e,g):u.css(g)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){h.offset.setOffset(this,e,t)}));var t,o,n={top:0,left:0},i=this[0],r=i&&i.ownerDocument;return r?(t=r.documentElement,h.contains(t,i)?(void 0!==i.getBoundingClientRect&&(n=i.getBoundingClientRect()),o=ao(r),{top:n.top+(o.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(o.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,o={top:0,left:0},n=this[0];return"fixed"===h.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(o=e.offset()),o.top+=h.css(e[0],"borderTopWidth",!0),o.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-o.top-h.css(n,"marginTop",!0),left:t.left-o.left-h.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position");)e=e.offsetParent;return e||qe}))}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var o=/Y/.test(t);h.fn[e]=function(n){return J(this,(function(e,n,i){var r=ao(e);if(void 0===i)return r?t in r?r[t]:r.document.documentElement[n]:e[n];r?r.scrollTo(o?h(r).scrollLeft():i,o?i:h(r).scrollTop()):e[n]=i}),e,n,arguments.length,null)}})),h.each(["top","left"],(function(e,t){h.cssHooks[t]=Xe(g.pixelPosition,(function(e,o){if(o)return o=$e(e,t),je.test(o)?h(e).position()[t]+"px":o}))})),h.each({Height:"height",Width:"width"},(function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},(function(o,n){h.fn[n]=function(n,i){var r=arguments.length&&(o||"boolean"!=typeof n),s=o||(!0===n||!0===i?"margin":"border");return J(this,(function(t,o,n){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?h.css(t,o,s):h.style(t,o,n,s)}),t,r?n:void 0,r,null)}}))})),h.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,n){return this.on(t,e,o,n)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)}}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return h}));var lo=e.jQuery,co=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=co),t&&e.jQuery===h&&(e.jQuery=lo),h},t||(e.jQuery=e.$=h),h})),function(e,t){"use strict";var o;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n=e(document);e.rails=o={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=o.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+o.csrfParam()+'"]').val(o.csrfToken())},fire:function(t,o,n){var i=e.Event(o);return t.trigger(i,n),!1!==i.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(n){var i,r,s,a,l,c;if(o.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){i=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),s=e(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(s.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(o.inputChangeSelector)?(i=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(o.buttonClickSelector)?(i=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(i=n.data("method"),r=o.href(n),s=n.data("params")||null);return c={type:i||"GET",data:s,dataType:l,beforeSend:function(e,i){if(i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),!o.fire(n,"ajax:beforeSend",[e,i]))return!1;n.trigger("ajax:send",e)},success:function(e,t,o){n.trigger("ajax:success",[e,t,o])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,o){n.trigger("ajax:error",[e,t,o])},crossDomain:o.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),o.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var o=document.createElement("a");try{return o.href=e,o.href=o.href,!((!o.protocol||":"===o.protocol)&&!o.host||t.protocol+"//"+t.host==o.protocol+"//"+o.host)}catch(e){return!0}},handleMethod:function(n){var i=o.href(n),r=n.data("method"),s=n.attr("target"),a=o.csrfToken(),l=o.csrfParam(),c=e('<form method="post" action="'+i+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===t||a===t||o.isCrossDomain(i)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,o){return t.is("form")?e(t[0].elements).filter(o):t.find(o)},disableFormElements:function(t){o.formElements(t,o.disableSelector).each((function(){o.disableFormElement(e(this))}))},disableFormElement:function(e){var o,n;o=e.is("button")?"html":"val",(n=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[o]()),e[o](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){o.formElements(t,o.enableSelector).each((function(){o.enableFormElement(e(this))}))},enableFormElement:function(e){var o=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[o](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),i=!1;if(!n)return!0;if(o.fire(e,"confirm")){try{i=o.confirm(n)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=o.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(t,o,n){var i,r,s,a=e(),l=o||"input,textarea",c=t.find(l),u={};return c.each((function(){(i=e(this)).is("input[type=radio]")?(s=i.attr("name"),u[s]||(0===t.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=t.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),u[s]=s)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))})),!!a.length&&a},nonBlankInputs:function(e,t){return o.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");n!==t&&(e.data("ujs:enable-with",e.html()),e.html(n)),e.bind("click.railsDisable",(function(e){return o.stopEverything(e)})),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},o.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter((function(e,t,n){e.crossDomain||o.CSRFProtection(n)})),e(window).on("pageshow.rails",(function(){e(e.rails.enableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)})),e(e.rails.linkDisableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)}))})),n.on("ajax:complete",o.linkDisableSelector,(function(){o.enableElement(e(this))})),n.on("ajax:complete",o.buttonDisableSelector,(function(){o.enableFormElement(e(this))})),n.on("click.rails",o.linkClickSelector,(function(t){var n=e(this),i=n.data("method"),r=n.data("params"),s=t.metaKey||t.ctrlKey;if(!o.allowAction(n))return o.stopEverything(t);if(!s&&n.is(o.linkDisableSelector)&&o.disableElement(n),o.isRemote(n)){if(s&&(!i||"GET"===i)&&!r)return!0;var a=o.handleRemote(n);return!1===a?o.enableElement(n):a.fail((function(){o.enableElement(n)})),!1}return i?(o.handleMethod(n),!1):void 0})),n.on("click.rails",o.buttonClickSelector,(function(t){var n=e(this);if(!o.allowAction(n)||!o.isRemote(n))return o.stopEverything(t);n.is(o.buttonDisableSelector)&&o.disableFormElement(n);var i=o.handleRemote(n);return!1===i?o.enableFormElement(n):i.fail((function(){o.enableFormElement(n)})),!1})),n.on("change.rails",o.inputChangeSelector,(function(t){var n=e(this);return o.allowAction(n)&&o.isRemote(n)?(o.handleRemote(n),!1):o.stopEverything(t)})),n.on("submit.rails",o.formSubmitSelector,(function(n){var i,r,s=e(this),a=o.isRemote(s);if(!o.allowAction(s))return o.stopEverything(n);if(s.attr("novalidate")===t)if(s.data("ujs:formnovalidate-button")===t){if((i=o.blankInputs(s,o.requiredInputSelector,!1))&&o.fire(s,"ajax:aborted:required",[i]))return o.stopEverything(n)}else s.data("ujs:formnovalidate-button",t);if(a){if(r=o.nonBlankInputs(s,o.fileInputSelector)){setTimeout((function(){o.disableFormElements(s)}),13);var l=o.fire(s,"ajax:aborted:file",[r]);return l||setTimeout((function(){o.enableFormElements(s)}),13),l}return o.handleRemote(s),!1}setTimeout((function(){o.disableFormElements(s)}),13)})),n.on("click.rails",o.formInputClickSelector,(function(t){var n=e(this);if(!o.allowAction(n))return o.stopEverything(t);var i=n.attr("name"),r=i?{name:i,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=e("#"+n.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))})),n.on("ajax:send.rails",o.formSubmitSelector,(function(t){this===t.target&&o.disableFormElements(e(this))})),n.on("ajax:complete.rails",o.formSubmitSelector,(function(t){this===t.target&&o.enableFormElements(e(this))})),e((function(){o.refreshCSRFTokens()})))}(jQuery),function(e){window.NestedFormEvents=function(){this.addFields=e.proxy(this.addFields,this),this.removeFields=e.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(t){var o=t.currentTarget,n=e(o).data("association"),i=e("#"+e(o).data("blueprint-id")).data("blueprint"),r=(e(o).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(/\[[a-z_]+\]$/,""),s=i.match(new RegExp("\\[([a-z_]+)\\]\\[new_"+n+"\\]"));if(s&&(r=r.replace(new RegExp("\\["+s[1]+"\\]\\[(new_)?\\d+\\]$"),"")),r)for(var a=r.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=r.match(/[0-9]+/g)||[],c=0;c<a.length;c++)l[c]&&(i=(i=i.replace(new RegExp("(_"+a[c]+")_.+?_","g"),"$1_"+l[c]+"_")).replace(new RegExp("(\\["+a[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var u=new RegExp("new_"+n,"g"),g=this.newId();i=e.trim(i.replace(u,g));var d=this.insertFields(i,n,o);return d.trigger({type:"nested:fieldAdded",field:d}).trigger({type:"nested:fieldAdded:"+n,field:d}),!1},newId:function(){return(new Date).getTime()},insertFields:function(t,o,n){var i=e(n).data("target");return i?e(t).appendTo(e(i)):e(t).insertBefore(n)},removeFields:function(t){var o=e(t.currentTarget),n=o.data("association");o.prev("input[type=hidden]").val("1");var i=o.closest(".fields");return i.hide(),i.trigger({type:"nested:fieldRemoved",field:i}).trigger({type:"nested:fieldRemoved:"+n,field:i}),!1}},window.nestedFormEvents=new NestedFormEvents,e(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(e){e.fn.closestChild=function(t){if(t&&""!=t){var o=[];for(o.push(this);o.length>0;)for(var n=o.shift().children(),i=0;i<n.length;++i){var r=e(n[i]);if(r.is(t))return r;o.push(r)}}return e()}}(jQuery),function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var o=e([0]),n=-1,i=this.length;++n<i&&(o.context=o[0]=this[n])&&!1!==t.call(o[0],n,o););return this}})}(jQuery),function(e,t){"use strict";function o(t){var o=e(document.createTextNode(""));t.before(o),o.before(t),o.remove()}function n(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return L[e]||e}))}function i(e,t){for(var o=0,n=t.length;n>o;o+=1)if(r(e,t[o]))return o;return-1}function r(e,o){return e===o||e!==t&&o!==t&&null!==e&&null!==o&&(e.constructor===String?e+""==o+"":o.constructor===String&&o+""==e+"")}function s(t,o){var n,i,r;if(null===t||t.length<1)return[];for(i=0,r=(n=t.split(o)).length;r>i;i+=1)n[i]=e.trim(n[i]);return n}function a(e){return e.outerWidth(!1)-e.width()}function l(o){var n="keyup-change-value";o.on("keydown",(function(){e.data(o,n)===t&&e.data(o,n,o.val())})),o.on("keyup",(function(){var i=e.data(o,n);i!==t&&o.val()!==i&&(e.removeData(o,n),o.trigger("keyup-change"))}))}function c(o){o.on("mousemove",(function(o){var n=R;(n===t||n.x!==o.pageX||n.y!==o.pageY)&&e(o.target).trigger("mousemove-filtered",o)}))}function u(e,o,n){var i;return n=n||t,function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout((function(){o.apply(n,t)}),e)}}function g(t){var o=0,n=0;if("selectionStart"in(t=e(t)[0]))o=t.selectionStart,n=t.selectionEnd-o;else if("selection"in document){t.focus();var i=document.selection.createRange();n=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),o=i.text.length-n}return{offset:o,length:n}}function d(e){e.preventDefault(),e.stopPropagation()}function h(t){if(!N){var o=t[0].currentStyle||window.getComputedStyle(t[0],null);(N=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:o.fontSize,fontFamily:o.fontFamily,fontStyle:o.fontStyle,fontWeight:o.fontWeight,letterSpacing:o.letterSpacing,textTransform:o.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(N)}return N.text(t.val()),N.width()}function p(t,o,n){var i,r,s=[];(i=e.trim(t.attr("class")))&&e((i=""+i).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&s.push(this)})),(i=e.trim(o.attr("class")))&&e((i=""+i).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&(r=n(this))&&s.push(r)})),t.attr("class",s.join(" "))}function f(e,t,o,i){var r=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),s=t.length;return 0>r?void o.push(i(e)):(o.push(i(e.substring(0,r))),o.push("<span class='select2-match'>"),o.push(i(e.substring(r,r+s))),o.push("</span>"),void o.push(i(e.substring(r+s,e.length))))}function m(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))}function v(o){var n,i=null,r=o.quietMillis||100,s=o.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout((function(){var n=o.data,r=s,c=o.transport||e.fn.select2.ajaxDefaults.transport,u={type:o.type||"GET",cache:o.cache||!1,jsonpCallback:o.jsonpCallback||t,dataType:o.dataType||"json"},g=e.extend({},e.fn.select2.ajaxDefaults.params,u);n=n?n.call(a,l.term,l.page,l.context):null,r="function"==typeof r?r.call(a,l.term,l.page,l.context):r,i&&"function"==typeof i.abort&&i.abort(),o.params&&(e.isFunction(o.params)?e.extend(g,o.params.call(a)):e.extend(g,o.params)),e.extend(g,{url:r,dataType:o.dataType,data:n,success:function(e){var t=o.results(e,l.page,l);l.callback(t)},error:function(e,t,o){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:o};l.callback(n)}}),i=c.call(a,g)}),r)}}function y(t){var o,n,i=t,r=function(e){return""+e.text};e.isArray(i)&&(i={results:n=i}),!1===e.isFunction(i)&&(n=i,i=function(){return n});var s=i();return s.text&&(r=s.text,e.isFunction(r)||(o=s.text,r=function(e){return e[o]})),function(t){var o,n=t.term,s={results:[]};return""===n?void t.callback(i()):(o=function(i,s){var a,l;if((i=i[0]).children){for(l in a={},i)i.hasOwnProperty(l)&&(a[l]=i[l]);a.children=[],e(i.children).each2((function(e,t){o(t,a.children)})),(a.children.length||t.matcher(n,r(a),i))&&s.push(a)}else t.matcher(n,r(i),i)&&s.push(i)},e(i().results).each2((function(e,t){o(t,s.results)})),void t.callback(s))}}function b(o){var n=e.isFunction(o);return function(i){var r=i.term,s={results:[]},a=n?o(i):o;e.isArray(a)&&(e(a).each((function(){var e=this.text!==t,o=e?this.text:this;(""===r||i.matcher(r,o))&&s.results.push(e?this:{id:this,text:this})})),i.callback(s))}}function _(t,o){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(o+" must be a string, function, or falsy value")}function E(t,o){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(o,n)}return t}function w(t){var o=0;return e.each(t,(function(e,t){t.children?o+=w(t.children):o++})),o}function S(){var t=this;e.each(arguments,(function(e,o){t[o].remove(),t[o]=null}))}function T(t,o){var n=function(){};return(n.prototype=new t).constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,o),n}if(window.Select2===t){var C,A,x,I,N,D,k,R={x:0,y:0},O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},L={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};D=e(document),I=function(){var e=1;return function(){return e++}}(),C=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(o){var n,r,s=".select2-results";this.opts=o=this.prepareOpts(o),this.id=o.id,o.element.data("select2")!==t&&null!==o.element.data("select2")&&o.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(o.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",o.element.attr("title")),this.body=e("body"),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",o.element.attr("style")),this.container.css(E(o.containerCss,this.opts.element)),this.container.addClass(E(o.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",d),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(o.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",d),this.results=n=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",d),c(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind((function(e){this._touchEvent=!0,this.highlightUnderEvent(e)}))),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),function(e,t){var o=u(80,(function(e){t.trigger("scroll-debounced",e)}));t.on("scroll",(function(e){i(e.target,t.get())>=0&&o(e)}))}(0,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",(function(e){e.stopPropagation()})),e(this.dropdown).on("change",".select2-input",(function(e){e.stopPropagation()})),e.fn.mousewheel&&n.mousewheel((function(e,t,o,i){var r=n.scrollTop();i>0&&0>=r-i?(n.scrollTop(0),d(e)):0>i&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),d(e))})),l(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",(function(){r.addClass("select2-focused")})),r.on("blur",(function(){r.removeClass("select2-focused")})),this.dropdown.on("mouseup",s,this.bind((function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(e){e.stopPropagation()})),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==o.maximumInputLength&&this.search.attr("maxlength",o.maximumInputLength);var a=o.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var g=o.element.prop("readonly");g===t&&(g=!1),this.readonly(g),k=k||function(){var t=e("<div class='select2-measure-scrollbar'></div>");t.appendTo("body");var o={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),o}(),this.autofocus=o.element.prop("autofocus"),o.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",o.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,o=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&e.each((function(){this.detachEvent("onpropertychange",n._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,o!==t&&(o.container.remove(),o.liveRegion.remove(),o.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),S.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(o){var n,i,a,l,c=this;if("select"===(n=o.element).get(0).tagName.toLowerCase()&&(this.select=i=o.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in o)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),o=e.extend({},{populateResults:function(n,i,r){var s,a=this.opts.id,l=this.liveRegion;s=function(n,i,u){var g,d,h,p,f,m,v,y,b,_,E=[];for(g=0,d=(n=o.sortResults(n,i,r)).length;d>g;g+=1)p=!(f=!0===(h=n[g]).disabled)&&a(h)!==t,m=h.children&&h.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),v.attr("role","presentation"),(y=e(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+I()),y.attr("role","option"),(_=o.formatResult(h,y,r,c.opts.escapeMarkup))!==t&&(y.html(_),v.append(y)),m&&((b=e("<ul></ul>")).addClass("select2-result-sub"),s(h.children,b,u+1),v.append(b)),v.data("select2-data",h),E.push(v[0]);i.append(E),l.text(o.formatMatches(n.length))},s(i,n,0)}},e.fn.select2.defaults,o),"function"!=typeof o.id&&(a=o.id,o.id=function(e){return e[a]}),e.isArray(o.element.data("select2Tags"))){if("tags"in o)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+o.element.attr("id");o.tags=o.element.data("select2Tags")}if(i?(o.query=this.bind((function(e){var o,i,r,s={results:[],more:!1},a=e.term;r=function(t,o){var n;t.is("option")?e.matcher(a,t.text(),t)&&o.push(c.optionToData(t)):t.is("optgroup")&&(n=c.optionToData(t),t.children().each2((function(e,t){r(t,n.children)})),n.children.length>0&&o.push(n))},o=n.children(),this.getPlaceholder()!==t&&o.length>0&&(i=this.getPlaceholderOption())&&(o=o.not(i)),o.each2((function(e,t){r(t,s.results)})),e.callback(s)})),o.id=function(e){return e.id}):"query"in o||("ajax"in o?((l=o.element.data("ajax-url"))&&l.length>0&&(o.ajax.url=l),o.query=v.call(o.element,o.ajax)):"data"in o?o.query=y(o.data):"tags"in o&&(o.query=b(o.tags),o.createSearchChoice===t&&(o.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),o.initSelection===t&&(o.initSelection=function(t,n){var i=[];e(s(t.val(),o.separator)).each((function(){var t={id:this,text:this},n=o.tags;e.isFunction(n)&&(n=n()),e(n).each((function(){return r(this.id,t.id)?(t=this,!1):void 0})),i.push(t)})),n(i)}))),"function"!=typeof o.query)throw"query function not defined for Select2 "+o.element.attr("id");if("top"===o.createSearchChoicePosition)o.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===o.createSearchChoicePosition)o.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof o.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return o},monitorSource:function(){var o,n=this.opts.element,i=this;n.on("change.select2",this.bind((function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var o=n.prop("readonly");o===t&&(o=!1),this.readonly(o),p(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass,this.opts.element)),p(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass,this.opts.element))})),n.length&&n[0].attachEvent&&n.each((function(){this.attachEvent("onpropertychange",i._sync)})),(o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new o((function(t){e.each(t,i._sync)})),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var o=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(o),!o.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,o,n,i,r,s=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),g=e(window),d=g.width(),h=g.height(),p=g.scrollLeft()+d,f=g.scrollTop()+h,m=a.top+l,v=a.left,y=f>=m+u,b=a.top-u>=g.scrollTop(),_=s.outerWidth(!1),w=p>=v+_;s.hasClass("select2-drop-above")?(o=!0,!b&&y&&(n=!0,o=!1)):(o=!1,!y&&b&&(n=!0,o=!0)),n&&(s.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),p=g.scrollLeft()+d,f=g.scrollTop()+h,m=a.top+l,w=p>=(v=a.left)+(_=s.outerWidth(!1)),s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),(_=s.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:k.width))>c?c=_:_=c,u=s.outerHeight(!1),w=p>=v+_):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(m-=(t=this.body.offset()).top,v-=t.left),w||(v=a.left+this.container.outerWidth(!1)-_),i={left:v,width:c},o?(i.top=a.top-u,i.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(i.top=m,i.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),i=e.extend(i,E(this.opts.dropdownCss,this.opts.element)),s.css(i)},shouldOpen:function(){var t;return!this.opened()&&!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),D.on("mousemove.select2Event",(function(e){R.x=e.pageX,R.y=e.pageY})),!0)},opening:function(){var t,n=this.containerEventName,i="scroll."+n,r="resize."+n,s="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",(function(n){o(t);var i,r=e("#select2-drop");r.length>0&&((i=r.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),n.preventDefault(),n.stopPropagation())}))),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each((function(){e(this).on(r+" "+i+" "+s,(function(){a.opened()&&a.positionDropdown()}))}))},close:function(){if(this.opened()){var t=this.containerEventName,o="scroll."+t,n="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each((function(){e(this).off(o).off(n).off(i)})),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),D.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,o,n,i,r,s,a,l,c=this.results;if(!(0>(o=this.highlight()))){if(0==o)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=(l=((n=e(t[o])).offset()||{}).top||0)+n.outerHeight(!0),o===t.length-1&&(a=c.find("li.select2-more-results")).length>0&&(i=a.offset().top+a.outerHeight(!0)),i>(r=c.offset().top+c.outerHeight(!0))&&c.scrollTop(c.scrollTop()+(i-r)),0>(s=l-c.offset().top)&&"none"!=n.css("display")&&c.scrollTop(c.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var o=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<o.length;){var i=e(o[n+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var o,n,r=this.findHighlightableChoices();return 0===arguments.length?i(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),(o=e(r[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",o.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(o.text()),void((n=o.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var o=e(t.target).closest(".select2-result-selectable");if(o.length>0&&!o.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(o))}else 0==o.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),o=this.resultsPage+1,n=this,i=this.search.val(),r=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:o,context:r,matcher:this.opts.matcher,callback:this.bind((function(s){n.opened()&&(n.opts.populateResults.call(this,e,s.results,{term:i,page:o,context:r}),n.postprocessResults(s,!1,!1),!0===s.more?(t.detach().appendTo(e).text(E(n.opts.formatLoadMore,n.opts.element,o+1)),window.setTimeout((function(){n.loadMoreIfNeeded()}),10)):t.remove(),n.positionDropdown(),n.resultsPage=o,n.context=s.context,this.opts.element.trigger({type:"select2-loaded",items:s}))}))}))},tokenize:function(){},updateResults:function(o){function n(){c.removeClass("select2-active"),d.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(u.text()):d.liveRegion.text(d.opts.formatMatches(u.find(".select2-result-selectable").length))}function i(e){u.html(e),n()}var s,a,l,c=this.search,u=this.results,g=this.opts,d=this,h=c.val(),p=e.data(this.container,"select2-last-term");if((!0===o||!p||!r(h,p))&&(e.data(this.container,"select2-last-term",h),!0===o||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var f=this.getMaximumSelectionSize();if(f>=1&&(s=this.data(),e.isArray(s)&&s.length>=f&&_(g.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+E(g.formatSelectionTooBig,g.element,f)+"</li>");if(c.val().length<g.minimumInputLength)return _(g.formatInputTooShort,"formatInputTooShort")?i("<li class='select2-no-results'>"+E(g.formatInputTooShort,g.element,c.val(),g.minimumInputLength)+"</li>"):i(""),void(o&&this.showSearch&&this.showSearch(!0));if(g.maximumInputLength&&c.val().length>g.maximumInputLength)return void(_(g.formatInputTooLong,"formatInputTooLong")?i("<li class='select2-no-results'>"+E(g.formatInputTooLong,g.element,c.val(),g.maximumInputLength)+"</li>"):i(""));g.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+E(g.formatSearching,g.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(a=this.tokenize())!=t&&null!=a&&c.val(a),this.resultsPage=1,g.query({element:g.element,term:c.val(),page:this.resultsPage,context:null,matcher:g.matcher,callback:this.bind((function(s){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(s.hasError!==t&&_(g.formatAjaxError,"formatAjaxError"))return void i("<li class='select2-ajax-error'>"+E(g.formatAjaxError,g.element,s.jqXHR,s.textStatus,s.errorThrown)+"</li>");if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),s.results))!==t&&null!==a&&d.id(a)!==t&&null!==d.id(a)&&0===e(s.results).filter((function(){return r(d.id(this),d.id(a))})).length&&this.opts.createSearchChoicePosition(s.results,a),0===s.results.length&&_(g.formatNoMatches,"formatNoMatches"))return void i("<li class='select2-no-results'>"+E(g.formatNoMatches,g.element,c.val())+"</li>");u.empty(),d.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),!0===s.more&&_(g.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+g.escapeMarkup(E(g.formatLoadMore,g.element,this.resultsPage))+"</li>"),window.setTimeout((function(){d.loadMoreIfNeeded()}),10)),this.postprocessResults(s,o),n(),this.opts.element.trigger({type:"select2-loaded",items:s})}}))})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout((function(){var t,o=e[0],n=e.val().length;e.focus(),(o.offsetWidth>0||o.offsetHeight>0)&&o===document.activeElement&&(o.setSelectionRange?o.setSelectionRange(n,n):o.createTextRange&&((t=o.createTextRange()).collapse(!1),t.select()))}),0)}(this.search)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),o=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");o?(this.highlight(t),this.onSelect(o,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var o=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&o||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(o.text())&&""===o.val())return o}},initContainerWidth:function(){var o=function(){var o,n,i,r,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((o=this.opts.element.attr("style"))!==t)for(r=0,s=(n=o.split(";")).length;s>r;r+=1)if(null!==(i=n[r].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return"resolve"===this.opts.width?(o=this.opts.element.css("width")).indexOf("%")>0?o:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==o&&this.container.css("width",o)}}),A=T(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var o,n,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(o=this.search.get(0)).createTextRange?((n=o.createTextRange()).collapse(!1),n.select()):o.setSelectionRange&&(i=this.search.val().length,o.setSelectionRange(i,i))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),S.call(this,"selection","focusser")},initContainer:function(){var t,n,i=this.container,r=this.dropdown,s=I();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)return void d(e);switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void d(e);case O.ENTER:return this.selectHighlighted(),void d(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void d(e)}}}))),this.search.on("blur",this.bind((function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.ESC){if(!1===this.opts.openOnEnter&&e.which===O.ENTER)return void d(e);if(e.which==O.DOWN||e.which==O.UP||e.which==O.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void d(e)}return e.which==O.DELETE||e.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void d(e)):void 0}}))),l(this.focusser),this.focusser.on("keyup-change input",this.bind((function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}}))),t.on("mousedown touchstart","abbr",this.bind((function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())}))),t.on("mousedown touchstart",this.bind((function(n){o(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(n)}))),r.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),t.on("focus",this.bind((function(e){d(e)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var o=this.selection.data("select2-data");if(o){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(o),choice:o}),this.triggerChange({removed:o}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,(function(o){o!==t&&null!==o&&(e.updateSelection(o),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(o,e.search.val()))}))}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),o=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter((function(){return this.selected&&!this.disabled}));t(o.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(o,n){var i=o.val(),s=null;t.query({matcher:function(e,o,n){var a=r(i,t.id(n));return a&&(s=n),a},callback:e.isFunction(n)?function(){n(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,o){var n=0,i=this;if(this.findHighlightableChoices().each2((function(e,t){return r(i.id(t.data("select2-data")),i.opts.element.val())?(n=e,!1):void 0})),!1!==o&&(!0===t&&n>=0?this.highlight(n):this.highlight(0)),!0===t){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(w(e.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var o=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(o,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var o,n,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(o=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),o!==t&&i.append(o),(n=this.opts.formatSelectionCssClass(e,i))!==t&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,o=!1,n=null,i=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(o=arguments[1]),this.select)this.select.val(e).find("option").filter((function(){return this.selected})).each2((function(e,t){return n=i.optionToData(t),!1})),this.updateSelection(n),this.setPlaceholder(),o&&this.triggerChange({added:n,removed:r});else{if(!e&&0!==e)return void this.clear(o);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,(function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),o&&i.triggerChange({added:e,removed:r})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var o,n=!1;return 0===arguments.length?((o=this.selection.data("select2-data"))==t&&(o=null),o):(arguments.length>1&&(n=arguments[1]),void(e?(o=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:o})):this.clear(n)))}}),x=T(C,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),o=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(e,t){n.push(o.optionToData(t))})),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(o,n){var i=s(o.val(),t.separator),a=[];t.query({matcher:function(o,n,s){var l=e.grep(i,(function(e){return r(e,t.id(s))})).length;return l&&a.push(s),l},callback:e.isFunction(n)?function(){for(var e=[],o=0;o<i.length;o++)for(var s=i[o],l=0;l<a.length;l++){var c=a[l];if(r(s,t.id(c))){e.push(c),a.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),S.call(this,"searchContainer","selection")},initContainer:function(){var t,o=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(o);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(){n.search[0].focus(),n.selectChoice(e(this))})),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()){++this.keydowns;var o=t.find(".select2-search-choice-focus"),n=o.prev(".select2-search-choice:not(.select2-locked)"),i=o.next(".select2-search-choice:not(.select2-locked)"),r=g(this.search);if(o.length&&(e.which==O.LEFT||e.which==O.RIGHT||e.which==O.BACKSPACE||e.which==O.DELETE||e.which==O.ENTER)){var s=o;return e.which==O.LEFT&&n.length?s=n:e.which==O.RIGHT?s=i.length?i:null:e.which===O.BACKSPACE?this.unselect(o.first())&&(this.search.width(10),s=n.length?n:i):e.which==O.DELETE?this.unselect(o.first())&&(this.search.width(10),s=i.length?i:null):e.which==O.ENTER&&(s=null),this.selectChoice(s),d(e),void(s&&s.length||this.open())}if((e.which===O.BACKSPACE&&1==this.keydowns||e.which==O.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void d(e);if(this.selectChoice(null),this.opened())switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void d(e);case O.ENTER:return this.selectHighlighted(),void d(e);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(e),void d(e)}if(e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.BACKSPACE&&e.which!==O.ESC){if(e.which===O.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)&&d(e),e.which===O.ENTER&&d(e)}}}))),this.search.on("keyup",this.bind((function(){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))}))),this.container.on("click",o,this.bind((function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}))),this.container.on("focus",o,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,(function(o){o!==t&&null!==o&&(e.updateSelection(o),e.close(),e.clearSearch())}))}},clearSearch:function(){var e=this.getPlaceholder(),o=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(o>0?o:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var o=[],n=[],r=this;e(t).each((function(){i(r.id(this),o)<0&&(o.push(r.id(this)),n.push(this))})),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each((function(){r.addSelectedChoice(this)})),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,o){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),o&&o.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(o){var n,i,r=!o.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?s:a,c=this.id(o),u=this.getVal();(n=this.opts.formatSelection(o,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+n+"</div>"),(i=this.opts.formatSelectionCssClass(o,l.find("div")))!=t&&l.addClass(i),r&&l.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind((function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),d(t),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",o),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var o,n,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(o=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(o),s.choice=o,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(n=i(this.id(o),r))>=0;)r.splice(n,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(o),choice:o}),this.triggerChange({removed:o}),!0}},postprocessResults:function(e,t,o){var n=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;r.each2((function(e,t){i(a.id(t.data("select2-data")),n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))})),s.each2((function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")})),-1==this.highlight()&&!1!==o&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&_(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+E(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,o,n,i=a(this.search);e=h(this.search)+10,t=this.search.offset().left,e>(n=(o=this.selection.width())-(t-this.selection.offset().left)-i)&&(n=o-i),40>n&&(n=o-i),0>=n&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:s(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var o;this.select?this.select.val(t):(o=[],e(t).each((function(){i(this,o)<0&&o.push(this)})),this.opts.element.val(0===o.length?"":o.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var o=0;o<t.length;o++)for(var n=0;n<e.length;n++)r(this.opts.id(t[o]),this.opts.id(e[n]))&&(t.splice(o,1),o>0&&o--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(o,n){var i,r=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!o&&0!==o)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(o),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(t){var o=e.map(t,r.id);r.setVal(o),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(i,r.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],o=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){t.push(o.opts.id(e(this).data("select2-data")))})),this.setVal(t),this.triggerChange()},data:function(t,o){var n,i,r=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map((function(){return e(this).data("select2-data")})).get():(i=this.data(),t||(t=[]),n=e.map(t,(function(e){return r.opts.id(e)})),this.setVal(n),this.updateSelection(t),this.clearSearch(),void(o&&this.triggerChange(this.buildChangeDetails(i,this.data()))))}}),e.fn.select2=function(){var o,n,r,s,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],g=["val","data"],d={search:"externalSearch"};return this.each((function(){if(0===l.length||"object"==typeof l[0])(o=0===l.length?{}:e.extend({},l[0])).element=e(this),"select"===o.element.get(0).tagName.toLowerCase()?a=o.element.prop("multiple"):(a=o.multiple||!1,"tags"in o&&(o.multiple=a=!0)),(n=a?new window.Select2.class.multi:new window.Select2.class.single).init(o);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,(n=e(this).data("select2"))===t)return;if("container"===(r=l[0])?s=n.container:"dropdown"===r?s=n.dropdown:(d[r]&&(r=d[r]),s=n[r].apply(n,l.slice(1))),i(l[0],u)>=0||i(l[0],g)>=0&&1==l.length)return!1}})),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,o,n){var i=[];return f(e.text,o.term,i,n),i.join("")},formatSelection:function(e,o,n){return e?n(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,o,n,i){var s,a,l,c,u,g=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=i.tokenSeparators.length;c>l&&(u=i.tokenSeparators[l],!((a=e.indexOf(u))>=0));l++);if(0>a)break;if(s=e.substring(0,a),e=e.substring(a+u.length),s.length>0&&(s=i.createSearchChoice.call(this,s,o))!==t&&null!==s&&i.id(s)!==t&&null!==i.id(s)){for(d=!1,l=0,c=o.length;c>l;l++)if(r(i.id(s),i.id(o[l]))){d=!0;break}d||n(s)}}return g!==e?e:void 0},escapeMarkup:m,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var o=t-e.length;return"Please enter "+o+" or more character"+(1==o?"":"s")},formatInputTooLong:function(e,t){var o=e.length-t;return"Please delete "+o+" character"+(1==o?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:y,tags:b},util:{debounce:u,markMatch:f,escapeMarkup:m,stripDiacritics:n},class:{abstract:C,single:A,multi:x}}}}(jQuery),jQuery.fn.caret=function(e){var t=this[0],o="true"===t.contentEditable;if(0==arguments.length){if(window.getSelection)return o?(t.focus(),(i=(n=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(t),i.setEnd(n.endContainer,n.endOffset),i.toString().length):t.selectionStart;if(document.selection){if(t.focus(),o){var n=document.selection.createRange();return(i=document.body.createTextRange()).moveToElementText(t),i.setEndPoint("EndToEnd",n),i.text.length}e=0;var i,r=t.createTextRange(),s=(i=document.selection.createRange().duplicate()).getBookmark();for(r.moveToBookmark(s);0!==r.moveStart("character",-1);)e++;return e}return t.selectionStart?t.selectionStart:0}return-1==e&&(e=this[o?"text":"val"]().length),window.getSelection?o?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e):document.body.createTextRange&&(o?((r=document.body.createTextRange()).moveToElementText(t),r.moveStart("character",e),r.collapse(!0),r.select()):((r=t.createTextRange()).move("character",e),r.select())),o||t.focus(),e},function(e,t){function o(t,o){var i,r,s,a=t.nodeName.toLowerCase();return"area"===a?(r=(i=t.parentNode).name,!(!t.href||!r||"map"!==i.nodeName.toLowerCase())&&!!(s=e("img[usemap=#"+r+"]")[0])&&n(s)):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||o)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}var i=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(o,n){return"number"==typeof o?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),n&&n.call(t)}),o)})):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(o){if(o!==t)return this.css("zIndex",o);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))},removeUniqueId:function(){return this.each((function(){r.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(o){return!!e.data(o,t)}})):function(t,o,n){return!!e.data(t,n[3])},focusable:function(t){return o(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&o(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(o,n){function i(t,o,n,i){return e.each(r,(function(){o-=parseFloat(e.css(t,"padding"+this))||0,n&&(o-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(o-=parseFloat(e.css(t,"margin"+this))||0)})),o}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(o){return o===t?a["inner"+n].call(this):this.each((function(){e(this).css(s,i(this,o)+"px")}))},e.fn["outer"+n]=function(t,o){return"number"!=typeof t?a["outer"+n].call(this,t):this.each((function(){e(this).css(s,i(this,t,!0,o)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(o){return arguments.length?t.call(this,e.camelCase(o)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,o,n){var i,r=e.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([o,n[i]])},call:function(e,t,o){var n,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;i.length>n;n++)e.options[i[n][0]]&&i[n][1].apply(e.element,o)}},hasScroll:function(t,o){if("hidden"===e(t).css("overflow"))return!1;var n=o&&"left"===o?"scrollLeft":"scrollTop",i=!1;return t[n]>0||(t[n]=1,i=t[n]>0,t[n]=0,i)}})}(jQuery),function(e,t){var o=0,n=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var o,n=0;null!=(o=t[n]);n++)try{e(o).triggerHandler("remove")}catch(e){}i(t)},e.widget=function(o,n,i){var r,s,a,l,c={},u=o.split(".")[0];o=o.split(".")[1],r=u+"-"+o,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},s=e[u][o],a=e[u][o]=function(e,o){return this._createWidget?(arguments.length&&this._createWidget(e,o),t):new a(e,o)},e.extend(a,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(l=new n).options=e.widget.extend({},l.options),e.each(i,(function(o,i){return e.isFunction(i)?(c[o]=function(){var e=function(){return n.prototype[o].apply(this,arguments)},t=function(e){return n.prototype[o].apply(this,e)};return function(){var o,n=this._super,r=this._superApply;return this._super=e,this._superApply=t,o=i.apply(this,arguments),this._super=n,this._superApply=r,o}}(),t):(c[o]=i,t)})),a.prototype=e.widget.extend(l,{widgetEventPrefix:s&&l.widgetEventPrefix||o},c,{constructor:a,namespace:u,widgetName:o,widgetFullName:r}),s?(e.each(s._childConstructors,(function(t,o){var n=o.prototype;e.widget(n.namespace+"."+n.widgetName,a,o._proto)})),delete s._childConstructors):n._childConstructors.push(a),e.widget.bridge(o,a)},e.widget.extend=function(o){for(var i,r,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(i in s[a])r=s[a][i],s[a].hasOwnProperty(i)&&r!==t&&(o[i]=e.isPlainObject(r)?e.isPlainObject(o[i])?e.widget.extend({},o[i],r):e.widget.extend({},r):r);return o},e.widget.bridge=function(o,i){var r=i.prototype.widgetFullName||o;e.fn[o]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each((function(){var n,i=e.data(this,r);return i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,l))!==i&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):t:e.error("no such method '"+s+"' for "+o+" widget instance"):e.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+s+"'")})):this.each((function(){var t=e.data(this,r);t?t.option(s||{})._init():e.data(this,r,new i(s,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(o,n){var i,r,s,a=o;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof o)if(a={},i=o.split("."),o=i.shift(),i.length){for(r=a[o]=e.widget.extend({},this.options[o]),s=0;i.length-1>s;s++)r[i[s]]=r[i[s]]||{},r=r[i[s]];if(o=i.pop(),1===arguments.length)return r[o]===t?null:r[o];r[o]=n}else{if(1===arguments.length)return this.options[o]===t?null:this.options[o];a[o]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(o,n,i){var r,s=this;"boolean"!=typeof o&&(i=n,n=o,o=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,a){function l(){return o||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var c=i.match(/^(\w+)\s*(.*)$/),u=c[1]+s.eventNamespace,g=c[2];g?r.delegate(g,u,l):n.bind(u,l)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var o=this;return setTimeout((function(){return("string"==typeof e?o[e]:e).apply(o,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,o,n){var i,r,s=this.options[t];if(n=n||{},(o=e.Event(o)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),o.target=this.element[0],r=o.originalEvent)for(i in r)i in o||(o[i]=r[i]);return this.element.trigger(o,n),!(e.isFunction(s)&&!1===s.apply(this.element[0],[o].concat(n))||o.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,o){e.Widget.prototype["_"+t]=function(n,i,r){"string"==typeof i&&(i={effect:i});var s,a=i?!0===i||"number"==typeof i?o:i.effect||o:t;"number"==typeof(i=i||{})&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=r,i.delay&&n.delay(i.delay),s&&e.effects&&e.effects.effect[a]?n[t](i):a!==t&&n[a]?n[a](i.duration,i.easing,r):n.queue((function(o){e(this)[t](),r&&r.call(n[0]),o()}))}}))}(jQuery),function(e){var t=!1;e(document).mouseup((function(){t=!1})),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(o){return!0===e.data(o.target,t.widgetName+".preventClickEvent")?(e.removeData(o.target,t.widgetName+".preventClickEvent"),o.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(o){if(!t){this._mouseStarted&&this._mouseUp(o),this._mouseDownEvent=o;var n=this,i=1===o.which,r=!("string"!=typeof this.options.cancel||!o.target.nodeName)&&e(o.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(o)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(o)&&this._mouseDelayMet(o)&&(this._mouseStarted=!1!==this._mouseStart(o),!this._mouseStarted)?(o.preventDefault(),0):(!0===e.data(o.target,this.widgetName+".preventClickEvent")&&e.removeData(o.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),o.preventDefault(),t=!0,0)))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function o(e,t,o){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?o/100:1)]}function n(t,o){return parseInt(e.css(t,o),10)||0}e.ui=e.ui||{};var i,r=Math.max,s=Math.abs,a=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,d=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,o,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),t=r.offsetWidth,n.css("overflow","scroll"),t===(o=r.offsetWidth)&&(o=n[0].clientWidth),n.remove(),i=t-o},getScrollInfo:function(t){var o=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===o||"auto"===o&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var o=e(t||window),n=e.isWindow(o[0]);return{element:o,isWindow:n,isDocument:!!o[0]&&9===o[0].nodeType,offset:o.offset()||{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:n?o.width():o.outerWidth(),height:n?o.height():o.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var i,d,p,f,m,v,y=e(t.of),b=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(b),E=(t.collision||"flip").split(" "),w={};return v=function(t){var o=t[0];return 9===o.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(o)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(t.at="left top"),d=v.width,p=v.height,f=v.offset,m=e.extend({},f),e.each(["my","at"],(function(){var e,o,n=(t[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=u.exec(n[0]),o=u.exec(n[1]),w[this]=[e?e[0]:0,o?o[0]:0],t[this]=[g.exec(n[0])[0],g.exec(n[1])[0]]})),1===E.length&&(E[1]=E[0]),"right"===t.at[0]?m.left+=d:"center"===t.at[0]&&(m.left+=d/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),i=o(w.at,d,p),m.left+=i[0],m.top+=i[1],this.each((function(){var l,c,u=e(this),g=u.outerWidth(),h=u.outerHeight(),v=n(this,"marginLeft"),S=n(this,"marginTop"),T=g+v+n(this,"marginRight")+_.width,C=h+S+n(this,"marginBottom")+_.height,A=e.extend({},m),x=o(w.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?A.left-=g:"center"===t.my[0]&&(A.left-=g/2),"bottom"===t.my[1]?A.top-=h:"center"===t.my[1]&&(A.top-=h/2),A.left+=x[0],A.top+=x[1],e.support.offsetFractions||(A.left=a(A.left),A.top=a(A.top)),l={marginLeft:v,marginTop:S},e.each(["left","top"],(function(o,n){e.ui.position[E[o]]&&e.ui.position[E[o]][n](A,{targetWidth:d,targetHeight:p,elemWidth:g,elemHeight:h,collisionPosition:l,collisionWidth:T,collisionHeight:C,offset:[i[0]+x[0],i[1]+x[1]],my:t.my,at:t.at,within:b,elem:u})})),t.using&&(c=function(e){var o=f.left-A.left,n=o+d-g,i=f.top-A.top,a=i+p-h,l={target:{element:y,left:f.left,top:f.top,width:d,height:p},element:{element:u,left:A.left,top:A.top,width:g,height:h},horizontal:0>n?"left":o>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};g>d&&d>s(o+n)&&(l.horizontal="center"),h>p&&p>s(i+a)&&(l.vertical="middle"),l.important=r(s(o),s(n))>r(s(i),s(a))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(A,{using:c}))}))},e.ui.position={fit:{left:function(e,t){var o,n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=i-a,c=a+t.collisionWidth-s-i;t.collisionWidth>s?l>0&&0>=c?(o=e.left+l+t.collisionWidth-s-i,e.left+=l-o):e.left=c>0&&0>=l?i:l>c?i+s-t.collisionWidth:i:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var o,n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=i-a,c=a+t.collisionHeight-s-i;t.collisionHeight>s?l>0&&0>=c?(o=e.top+l+t.collisionHeight-s-i,e.top+=l-o):e.top=c>0&&0>=l?i:l>c?i+s-t.collisionHeight:i:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var o,n,i=t.within,r=i.offset.left+i.scrollLeft,a=i.width,l=i.isWindow?i.scrollLeft:i.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,g=c+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(0>(o=e.left+d+h+p+t.collisionWidth-a-r)||s(u)>o)&&(e.left+=d+h+p):g>0&&((n=e.left-t.collisionPosition.marginLeft+d+h+p-l)>0||g>s(n))&&(e.left+=d+h+p)},top:function(e,t){var o,n,i=t.within,r=i.offset.top+i.scrollTop,a=i.height,l=i.isWindow?i.scrollTop:i.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,g=c+t.collisionHeight-a-l,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>u?(n=e.top+d+h+p+t.collisionHeight-a-r,e.top+d+h+p>u&&(0>n||s(u)>n)&&(e.top+=d+h+p)):g>0&&(o=e.top-t.collisionPosition.marginTop+d+h+p-l,e.top+d+h+p>g&&(o>0||g>s(o))&&(e.top+=d+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,o,n,i,r,s=document.getElementsByTagName("body")[0],a=document.createElement("div");for(r in t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(a),(o=s||document.documentElement).insertBefore(t,o.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=e(a).offset().left,e.support.offsetFractions=i>10&&11>i,t.innerHTML="",o.removeChild(t)}()}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var o=this.options;return!(this.helper||o.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(e(!0===o.iframeFix?"iframe":o.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),0)))},_mouseStart:function(t){var o=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,o){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!o){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var o=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0])||("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==o._trigger("stop",t)&&o._clear()})):!1!==this._trigger("stop",t)&&this._clear(),1))},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var o=this.options,n=e.isFunction(o.helper)?e(o.helper.apply(this.element[0],[t])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,n,i=this.options;return i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),void((n=(o=e(i.containment))[0])&&(t="hidden"!==o.css("overflow"),this.containment=[(parseInt(o.css("borderLeftWidth"),10)||0)+(parseInt(o.css("paddingLeft"),10)||0),(parseInt(o.css("borderTopWidth"),10)||0)+(parseInt(o.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(o.css("borderRightWidth"),10)||0)-(parseInt(o.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(o.css("borderBottomWidth"),10)||0)-(parseInt(o.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=o))):void(this.containment=null)},_convertPositionTo:function(t,o){o||(o=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:o.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:o.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var o,n,i,r,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),o=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):o=this.containment,t.pageX-this.offset.click.left<o[0]&&(l=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(c=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(l=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(c=o[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=o?i-this.offset.click.top>=o[1]||i-this.offset.click.top>o[3]?i:i-this.offset.click.top>=o[1]?i-s.grid[1]:i+s.grid[1]:i,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=o?r-this.offset.click.left>=o[0]||r-this.offset.click.left>o[2]?r:r-this.offset.click.left>=o[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,o,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[o,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,o,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,o){var n=e(this).data("ui-draggable"),i=n.options,r=e.extend({},o,{item:n.element});n.sortables=[],e(i.connectToSortable).each((function(){var o=e.data(this,"ui-sortable");o&&!o.options.disabled&&(n.sortables.push({instance:o,shouldRevert:o.options.revert}),o.refreshPositions(),o._trigger("activate",t,r))}))},stop:function(t,o){var n=e(this).data("ui-draggable"),i=e.extend({},o,{item:n.element});e.each(n.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))}))},drag:function(t,o){var n=e(this).data("ui-draggable"),i=this;e.each(n.sortables,(function(){var r=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(n.sortables,(function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(r=!1),r}))),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return o.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),o=e(this).data("ui-draggable").options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,o){var n=e(o.helper),i=e(this).data("ui-draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(t,o){var n=e(this).data("ui-draggable").options;n._opacity&&e(o.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var o=e(this).data("ui-draggable"),n=o.options,i=!1;o.scrollParent[0]!==document&&"HTML"!==o.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(o.overflowOffset.top+o.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?o.scrollParent[0].scrollTop=i=o.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-o.overflowOffset.top<n.scrollSensitivity&&(o.scrollParent[0].scrollTop=i=o.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(o.overflowOffset.left+o.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?o.scrollParent[0].scrollLeft=i=o.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-o.overflowOffset.left<n.scrollSensitivity&&(o.scrollParent[0].scrollLeft=i=o.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),!1!==i&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(o,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),o=t.options;t.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var o=e(this),n=o.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,o){var n,i,r,s,a,l,c,u,g,d,h=e(this).data("ui-draggable"),p=h.options,f=p.snapTolerance,m=o.offset.left,v=m+h.helperProportions.width,y=o.offset.top,b=y+h.helperProportions.height;for(g=h.snapElements.length-1;g>=0;g--)l=(a=h.snapElements[g].left)+h.snapElements[g].width,u=(c=h.snapElements[g].top)+h.snapElements[g].height,a-f>v||m>l+f||c-f>b||y>u+f||!e.contains(h.snapElements[g].item.ownerDocument,h.snapElements[g].item)?(h.snapElements[g].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[g].item})),h.snapElements[g].snapping=!1):("inner"!==p.snapMode&&(n=f>=Math.abs(c-b),i=f>=Math.abs(u-y),r=f>=Math.abs(a-v),s=f>=Math.abs(l-m),n&&(o.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),i&&(o.position.top=h._convertPositionTo("relative",{top:u,left:0}).top-h.margins.top),r&&(o.position.left=h._convertPositionTo("relative",{top:0,left:a-h.helperProportions.width}).left-h.margins.left),s&&(o.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left)),d=n||i||r||s,"outer"!==p.snapMode&&(n=f>=Math.abs(c-y),i=f>=Math.abs(u-b),r=f>=Math.abs(a-m),s=f>=Math.abs(l-v),n&&(o.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),i&&(o.position.top=h._convertPositionTo("relative",{top:u-h.helperProportions.height,left:0}).top-h.margins.top),r&&(o.position.left=h._convertPositionTo("relative",{top:0,left:a}).left-h.margins.left),s&&(o.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[g].snapping&&(n||i||r||s||d)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[g].item})),h.snapElements[g].snapping=n||i||r||s||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,o=this.data("ui-draggable").options,n=e.makeArray(e(o.stack)).sort((function(t,o){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(o).css("zIndex"),10)||0)}));n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each((function(o){e(this).css("zIndex",t+o)})),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,o){var n=e(o.helper),i=e(this).data("ui-draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(t,o){var n=e(this).data("ui-draggable").options;n._zIndex&&e(o.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,o){return e>t&&t+o>e}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,o=this.options,n=o.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},e.ui.ddmanager.droppables[o.scope]=e.ui.ddmanager.droppables[o.scope]||[],e.ui.ddmanager.droppables[o.scope].push(this),o.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,o=e.ui.ddmanager.droppables[this.options.scope];o.length>t;t++)o[t]===this&&o.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,o){"accept"===t&&(this.accept=e.isFunction(o)?o:function(e){return e.is(o)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),o&&this._trigger("activate",t,this.ui(o))},_deactivate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),o&&this._trigger("deactivate",t,this.ui(o))},_over:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(o)))},_out:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(o)))},_drop:function(t,o){var n=o||e.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(i=!0,!1):void 0})),!i&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,o,n){if(!o.offset)return!1;var i,r=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,a=r+e.helperProportions.width,l=s+e.helperProportions.height,c=o.offset.left,u=o.offset.top,g=c+o.proportions().width,d=u+o.proportions().height;switch(n){case"fit":return r>=c&&g>=a&&s>=u&&d>=l;case"intersect":return r+e.helperProportions.width/2>c&&g>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&d>l-e.helperProportions.height/2;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,t((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,u,o.proportions().height)&&t(i,c,o.proportions().width);case"touch":return(s>=u&&d>=s||l>=u&&d>=l||u>s&&l>d)&&(r>=c&&g>=r||a>=c&&g>=a||c>r&&a>g);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,o){var n,i,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=o?o.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;r.length>n;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(i=0;a.length>i;i++)if(a[i]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],o),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,o){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,o)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))})),n},dragStart:function(t,o){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)}))},drag:function(t,o){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,o),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,i,r,s=e.ui.intersect(t,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(i=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter((function(){return e.data(this,"ui-droppable").options.scope===i}))).length&&((n=e.data(r[0],"ui-droppable")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,o)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,o),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,o)))}}))},dragStop:function(t,o){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function o(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,o,n,i,r=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},o=0;t.length>o;o++)n=e.trim(t[o]),(i=e("<div class='ui-resizable-handle ui-resizable-"+n+"'></div>")).css({zIndex:s.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(t){var o,n,i,r;for(o in t=t||this.element,this.handles)this.handles[o].constructor===String&&(this.handles[o]=e(this.handles[o],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[o],this.element),r=/sw|ne|nw|se|n|s/.test(o)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()),e(this.handles[o]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")})),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())})).mouseleave((function(){s.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,o=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(o(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),o(this.originalElement),this},_mouseCapture:function(t){var o,n,i=!1;for(o in this.handles)((n=e(this.handles[o])[0])===t.target||e.contains(n,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(o){var n,i,r,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),i=t(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:i},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:o.pageX,top:o.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",o),!0},_mouseDrag:function(t){var o,n=this.helper,i={},r=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,g=t.pageX-r.left||0,d=t.pageY-r.top||0,h=this._change[s];return!!h&&(o=h.apply(this,[t,g,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(o=this._updateRatio(o,t)),o=this._respectSize(o,t),this._updateCache(o),this._propagate("resize",t),this.position.top!==a&&(i.top=this.position.top+"px"),this.position.left!==l&&(i.left=this.position.left+"px"),this.size.width!==c&&(i.width=this.size.width+"px"),this.size.height!==u&&(i.height=this.size.height+"px"),n.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var o,n,i,r,s,a,l,c=this.options,u=this;return this._helper&&(i=(n=(o=this._proportionallyResizeElements).length&&/textarea/i.test(o[0].nodeName))&&e.ui.hasScroll(o[0],"left")?0:u.sizeDiff.height,r=n?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-i},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i,r,s,a=this.options;s={minWidth:o(a.minWidth)?a.minWidth:0,maxWidth:o(a.maxWidth)?a.maxWidth:1/0,minHeight:o(a.minHeight)?a.minHeight:0,maxHeight:o(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>r&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),o(e.left)&&(this.position.left=e.left),o(e.top)&&(this.position.top=e.top),o(e.height)&&(this.size.height=e.height),o(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return o(e.height)?e.width=e.height*this.aspectRatio:o(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=o(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=o(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=o(e.width)&&t.minWidth&&t.minWidth>e.width,a=o(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),g=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&u&&(e.left=l-t.minWidth),i&&u&&(e.left=l-t.maxWidth),a&&g&&(e.top=c-t.minHeight),r&&g&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,o,n,i,r=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(i=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],o=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],n=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],t=0;o.length>t;t++)this.borderDif[t]=(parseInt(o[t],10)||0)+(parseInt(n[t],10)||0);i.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,o=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var o=this.originalSize;return{left:this.originalPosition.left+t,width:o.width-t}},n:function(e,t,o){var n=this.originalSize;return{top:this.originalPosition.top+o,height:n.height-o}},s:function(e,t,o){return{height:this.originalSize.height+o}},se:function(t,o,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,o,n]))},sw:function(t,o,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,o,n]))},ne:function(t,o,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,o,n]))},nw:function(t,o,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,o,n]))}},_propagate:function(t,o){e.ui.plugin.call(this,t,[o,this.ui()]),"resize"!==t&&this._trigger(t,o,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var o=e(this).data("ui-resizable"),n=o.options,i=o._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),s=r&&e.ui.hasScroll(i[0],"left")?0:o.sizeDiff.height,a=r?0:o.sizeDiff.width,l={width:o.size.width-a,height:o.size.height-s},c=parseInt(o.element.css("left"),10)+(o.position.left-o.originalPosition.left)||null,u=parseInt(o.element.css("top"),10)+(o.position.top-o.originalPosition.top)||null;o.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(o.element.css("width"),10),height:parseInt(o.element.css("height"),10),top:parseInt(o.element.css("top"),10),left:parseInt(o.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:n.width,height:n.height}),o._updateCache(n),o._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var o,n,i,r,s,a,l,c=e(this).data("ui-resizable"),u=c.options,g=c.element,d=u.containment,h=d instanceof e?d.get(0):/parent/.test(d)?g.parent().get(0):d;h&&(c.containerElement=e(h),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(o=e(h),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){n[e]=t(o.css("padding"+i))})),c.containerOffset=o.offset(),c.containerPosition=o.position(),c.containerSize={height:o.innerHeight()-n[3],width:o.innerWidth()-n[1]},i=c.containerOffset,r=c.containerSize.height,s=c.containerSize.width,a=e.ui.hasScroll(h,"left")?h.scrollWidth:s,l=e.ui.hasScroll(h)?h.scrollHeight:r,c.parentData={element:h,left:i.left,top:i.top,width:a,height:l}))},resize:function(t){var o,n,i,r,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,g={top:0,left:0},d=s.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(g=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-g.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,o=Math.abs((s._helper,s.offset.left-g.left+s.sizeDiff.width)),n=Math.abs((s._helper?s.offset.top-g.top:s.offset.top-l.top)+s.sizeDiff.height),i=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),i&&r&&(o-=Math.abs(s.parentData.left)),o+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-o,u&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),o=t.options,n=t.containerOffset,i=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!o.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-i.left-n.left,width:l,height:c}),t._helper&&!o.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-i.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable").options,o=function(t){e(t).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?o(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],o(t.alsoResize)):e.each(t.alsoResize,(function(e){o(e)}))},resize:function(t,o){var n=e(this).data("ui-resizable"),i=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(t,n){e(t).each((function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},s=n&&n.length?n:t.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,(function(e,t){var o=(i[t]||0)+(a[t]||0);o&&o>=0&&(r[t]=o||null)})),t.css(r)}))};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?l(i.alsoResize):e.each(i.alsoResize,(function(e,t){l(e,t)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),o=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),o=t.options,n=t.size,i=t.originalSize,r=t.originalPosition,s=t.axis,a="number"==typeof o.grid?[o.grid,o.grid]:o.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-i.width)/l)*l,g=Math.round((n.height-i.height)/c)*c,d=i.width+u,h=i.height+g,p=o.maxWidth&&d>o.maxWidth,f=o.maxHeight&&h>o.maxHeight,m=o.minWidth&&o.minWidth>d,v=o.minHeight&&o.minHeight>h;o.grid=a,m&&(d+=l),v&&(h+=c),p&&(d-=l),f&&(h-=c),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=h):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.top=r.top-g):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.left=r.left-u):(h-c>0?(t.size.height=h,t.position.top=r.top-g):(t.size.height=c,t.position.top=r.top+i.height-c),d-l>0?(t.size.width=d,t.position.left=r.left-u):(t.size.width=l,t.position.left=r.left+i.width-l))}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,o=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(o.options.filter,o.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),o=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:o.left,top:o.top,right:o.left+t.outerWidth(),bottom:o.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var o=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,o._trigger("unselecting",t,{unselecting:n.element}))})),e(t.target).parents().addBack().each((function(){var n,i=e.data(this,"selectable-item");return i?(n=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),i.unselecting=!n,i.selecting=n,i.selected=n,n?o._trigger("selecting",t,{selecting:i.element}):o._trigger("unselecting",t,{unselecting:i.element}),!1):void 0})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,n=this,i=this.options,r=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return r>a&&(o=a,a=r,r=o),s>l&&(o=l,l=s,s=o),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each((function(){var o=e.data(this,"selectable-item"),c=!1;o&&o.element!==n.element[0]&&("touch"===i.tolerance?c=!(o.left>a||r>o.right||o.top>l||s>o.bottom):"fit"===i.tolerance&&(c=o.left>r&&a>o.right&&o.top>s&&l>o.bottom),c?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,n._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),n._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,n._trigger("unselecting",t,{unselecting:o.element})))))})),!1}},_mouseStop:function(t){var o=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,o._trigger("unselected",t,{unselected:n.element})})),e(".ui-selecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,o._trigger("selected",t,{selected:n.element})})),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,o){return e>t&&t+o>e}function o(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||o(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,o){"disabled"===t?(this.options[t]=o,this.widget().toggleClass("ui-sortable-disabled",!!o)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,o){var n=null,i=!1,r=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each((function(){return e.data(this,r.widgetName+"-item")===r?(n=e(this),!1):void 0})),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!n||this.options.handle&&!o&&(e(this.options.handle,n).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,o,n){var i,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var o,n,i,r,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o=this.items.length-1;o>=0;o--)if(i=(n=this.items[o]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,o){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,o);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var o=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(o).each((function(){var o=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);o&&n.push((t.key||o[1]+"[]")+"="+(t.key&&t.expression?o[1]:o[2]))})),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var o=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},o.each((function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")})),n},_intersectsWith:function(e){var t=this.positionAbs.left,o=t+this.helperProportions.width,n=this.positionAbs.top,i=n+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,g="x"===this.options.axis||n+c>a&&l>n+c,d="y"===this.options.axis||t+u>r&&s>t+u,h=g&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:t+this.helperProportions.width/2>r&&s>o-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var o="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=o&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var o=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&o||"up"===i&&!o)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function o(){a.push(this)}var n,i,r,s,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(i=(r=e(c[n])).length-1;i>=0;i--)(s=e.data(r[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(o);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var o=0;t.length>o;o++)if(t[o]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var o,n,i,r,s,a,l,c,u=this.items,g=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(o=d.length-1;o>=0;o--)for(n=(i=e(d[o])).length-1;n>=0;n--)(r=e.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(g.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(o=g.length-1;o>=0;o--)for(s=g[o][1],n=0,c=(a=g[o][0]).length;c>n;n++)(l=e(a[n])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var o,n,i,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),o=this.items.length-1;o>=0;o--)(n=this.items[o]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(o=this.containers.length-1;o>=0;o--)r=this.containers[o].element.offset(),this.containers[o].containerCache.left=r.left,this.containers[o].containerCache.top=r.top,this.containers[o].containerCache.width=this.containers[o].element.outerWidth(),this.containers[o].containerCache.height=this.containers[o].element.outerHeight();return this},_createPlaceholder:function(t){var o,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(o=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+n+">",t.document[0]).addClass(o||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each((function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})):"img"===n&&i.attr("src",t.currentItem.attr("src")),o||i.css("visibility","hidden"),i},update:function(e,i){(!o||n.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var i,r,s,a,l,c,u,g,d,h,p=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&e.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",n,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",n,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(s=1e4,a=null,l=(h=p.floating||o(this.currentItem))?"left":"top",c=h?"width":"height",u=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!h||t(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(g=this.items[r].item.offset()[l],d=!1,Math.abs(g-u)>Math.abs(g+this.items[r][c]-u)&&(d=!0,g+=this.items[r][c]),s>Math.abs(g-u)&&(s=Math.abs(g-u),a=this.items[r],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[f].element,!0),this._trigger("change",n,this._uiHash()),this.containers[f]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",n,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var o=this.options,n=e.isFunction(o.helper)?e(o.helper.apply(this.element[0],[t,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||o.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||o.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],o=e(i.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[o.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,o.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,o.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,o.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,o){o||(o=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:o.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:o.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var o,n,i=this.options,r=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(o=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?o-this.offset.click.top>=this.containment[1]&&o-this.offset.click.top<=this.containment[3]?o:o-this.offset.click.top>=this.containment[1]?o-i.grid[1]:o+i.grid[1]:o,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,o,n){o?o[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){function o(e,t,o){return function(n){o._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var o=t||this;return{helper:o.helper,placeholder:o.placeholder||e([]),position:o.position,originalPosition:o.originalPosition,offset:o.positionAbs,item:o.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){var t=0,o={},n={};o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var o=e.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case o.RIGHT:case o.DOWN:r=this.headers[(i+1)%n];break;case o.LEFT:case o.UP:r=this.headers[(i-1+n)%n];break;case o.SPACE:case o.ENTER:this._eventHandler(t);break;case o.HOME:r=this.headers[0];break;case o.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var o,n=this.options,i=n.heightStyle,r=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(t){var o=e(this),n=o.attr("id"),i=o.next(),r=i.attr("id");n||(n=s+"-header-"+t,o.attr("id",n)),r||(r=s+"-panel-"+t,i.attr("id",r)),o.attr("aria-controls",r),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(o=r.height(),this.element.siblings(":visible").each((function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(o-=t.outerHeight(!0))})),this.headers.each((function(){o-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,o-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===i&&(o=0,this.headers.next().each((function(){o=Math.max(o,e(this).css("height","").height())})).height(o))},_activate:function(t){var o=this._findActive(t)[0];o!==this.active[0]&&(o=o||this.active[0],this._eventHandler({target:o,currentTarget:o,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var o={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){o[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,o),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var o=this.options,n=this.active,i=e(t.currentTarget),r=i[0]===n[0],s=r&&o.collapsible,a=s?e():i.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?e():i,newPanel:a};t.preventDefault(),r&&!o.collapsible||!1===this._trigger("beforeActivate",t,c)||(o.active=!s&&this.headers.index(i),this.active=r?e():i,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),o.icons&&n.children(".ui-accordion-header-icon").removeClass(o.icons.activeHeader).addClass(o.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),o.icons&&i.children(".ui-accordion-header-icon").removeClass(o.icons.header).addClass(o.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var o=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=o,this.prevHide=n,this.options.animate?this._animate(o,n,t):(n.hide(),o.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),o.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):o.length&&this.headers.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),o.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var r,s,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),g=this.options.animate||{},d=u&&g.down||g,h=function(){l._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(s=d),s=s||d.easing||g.easing,a=a||d.duration||g.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(o,{duration:a,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(n,{duration:a,easing:s,complete:h,step:function(e,o){o.now=Math.round(e),"height"!==o.prop?c+=o.now:"content"!==l.options.heightStyle&&(o.now=Math.round(r-t.outerHeight()-c),c=0)}})):t.animate(o,a,s,h):e.animate(n,a,s,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,o,n,i=this.element[0].nodeName.toLowerCase(),r="textarea"===i,s="input"===i;this.isMultiLine=!!r||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,n=!0,void(o=!0);t=!1,n=!1,o=!1;var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",i);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case r.UP:t=!0,this._keyEvent("previous",i);break;case r.DOWN:t=!0,this._keyEvent("next",i);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case r.TAB:this.menu.active&&this.menu.select(i);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:o=!0,this._searchTimeout(i)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!o){var i=e.ui.keyCode;switch(n.keyCode){case i.PAGE_UP:this._move("previousPage",n);break;case i.PAGE_DOWN:this._move("nextPage",n);break;case i.UP:this._keyEvent("previous",n);break;case i.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var o=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(n){n.target===t.element[0]||n.target===o||e.contains(o,n.target)||t.close()}))}))},menufocus:function(t,o){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));var n=o.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var o=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=o}))),!1!==this._trigger("select",e,{item:o})&&this._value(o.value),this.term=this._value(),this.close(e),this.selectedItem=o}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,o,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(o,n){n(e.ui.autocomplete.filter(t,o.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(t,i){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:o,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)}))},_suggest:function(t){var o=this.menu.element.empty();this._renderMenu(o,t),this.isNewMenu=!0,this.menu.refresh(),o.show(),this._resizeMenu(),o.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,o){var n=this;e.each(o,(function(e,o){n._renderItemData(t,o)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,o){return e("<li>").append(e("<a>").text(o.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,o){var n=RegExp(e.ui.autocomplete.escapeRegex(o),"i");return e.grep(t,(function(e){return n.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,o="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},r=function(t){var o=t.name,n=t.form,i=e([]);return o&&(o=o.replace(/'/g,"\\'"),i=n?e(n).find("[name='"+o+"']"):e("[name='"+o+"']",t.ownerDocument).filter((function(){return!this.form}))),i};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,s=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){s.disabled||this===t&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){s.disabled||e(this).removeClass(l)})).bind("click"+this.eventNamespace,(function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,(function(){n.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){return!s.disabled&&void 0})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];r(t).not(t).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){return!s.disabled&&(e(this).addClass("ui-state-active"),t=this,void n.document.one("mouseup",(function(){t=null})))})).bind("mouseup"+this.eventNamespace,(function(){return!s.disabled&&void e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){return!s.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,o;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(o=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",o)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?r(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(n),o=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(o)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var o="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(o,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(o,"mouseover",(function(){e.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}))}function i(t,o){for(var n in e.extend(t,o),o)null==o[n]&&(t[n]=o[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var r,s="datepicker";e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return i(this._defaults,e||{}),this},_attachDatepicker:function(t,o){var n,i,r;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(e(t),i)).settings=e.extend({},o||{}),"input"===n?this._connectDatepicker(t,r):i&&this._inlineDatepicker(t,r)},_newInst:function(t,o){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:o,dpDiv:o?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,o){var n=e(t);o.append=e([]),o.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,o),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(o),e.data(t,s,o),o.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,o){var n,i,r,s=this._get(o,"appendText"),a=this._get(o,"isRTL");o.append&&o.append.remove(),s&&(o.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](o.append)),t.unbind("focus",this._showDatepicker),o.trigger&&o.trigger.remove(),("focus"===(n=this._get(o,"showOn"))||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(i=this._get(o,"buttonText"),r=this._get(o,"buttonImage"),o.trigger=e(this._get(o,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:i,title:i}):i)),t[a?"before":"after"](o.trigger),o.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,o,n,i,r=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(o=0,n=0,i=0;e.length>i;i++)e[i].length>o&&(o=e[i].length,n=i);return n},r.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,o){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(o.dpDiv),e.data(t,s,o),this._setDate(o,this._getDefaultDate(o),!0),this._updateDatepicker(o),this._updateAlternate(o),o.settings.disabled&&this._disableDatepicker(t),o.dpDiv.css("display","block"))},_dialogDatepicker:function(t,o,n,r,a){var l,c,u,g,d,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],s,h)),i(h.settings,r||{}),o=o&&o.constructor===Date?this._formatDate(h,o):o,this._dialogInput.val(o),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,g=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+g,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],s,h),this},_destroyDatepicker:function(t){var o,n=e(t),i=e.data(t,s);n.hasClass(this.markerClassName)&&(o=t.nodeName.toLowerCase(),e.removeData(t,s),"input"===o?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===o||"span"===o)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var o,n,i=e(t),r=e.data(t,s);i.hasClass(this.markerClassName)&&("input"===(o=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===o||"span"===o)&&((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var o,n,i=e(t),r=e.data(t,s);i.hasClass(this.markerClassName)&&("input"===(o=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===o||"span"===o)&&((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,s)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(o,n,r){var s,a,l,c,u=this._getInst(o);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(s=n||{},"string"==typeof n&&((s={})[n]=r),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(o,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),i(u.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==t&&s.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(o):this._enableDatepicker(o)),this._attachments(e(o),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u)),t)},_changeDatepicker:function(e,t,o){this._optionDatepicker(e,t,o)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var o=this._getInst(e);o&&(this._setDate(o,t),this._updateDatepicker(o),this._updateAlternate(o))},_getDateDatepicker:function(e,t){var o=this._getInst(e);return o&&!o.inline&&this._setDateFromField(o,t),o?this._getDate(o):null},_doKeyDown:function(t){var o,n,i,r=e.datepicker._getInst(t.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv))[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,i[0]),(o=e.datepicker._get(r,"onSelect"))?(n=e.datepicker._formatDate(r),o.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(o){var n,i,r=e.datepicker._getInst(o.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==o.charCode?o.keyCode:o.charCode),o.ctrlKey||o.metaKey||" ">i||!n||n.indexOf(i)>-1):t},_doKeyUp:function(t){var o=e.datepicker._getInst(t.target);if(o.input.val()!==o.lastVal)try{e.datepicker.parseDate(e.datepicker._get(o,"dateFormat"),o.input?o.input.val():null,e.datepicker._getFormatConfig(o))&&(e.datepicker._setDateFromField(o),e.datepicker._updateAlternate(o),e.datepicker._updateDatepicker(o))}catch(e){}return!0},_showDatepicker:function(t){var o,n,r,s,a,l,c;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(o=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==o&&(e.datepicker._curInst.dpDiv.stop(!0,!0),o&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(r=(n=e.datepicker._get(o,"beforeShow"))?n.apply(t,[t,o]):{})&&(i(o.settings,r),o.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(o),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,o.dpDiv.empty(),o.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(o),a=e.datepicker._checkOffset(o,a,s),o.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),o.inline||(l=e.datepicker._get(o,"showAnim"),c=e.datepicker._get(o,"duration"),o.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?o.dpDiv.show(l,e.datepicker._get(o,"showOptions"),c):o.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(o)&&o.input.focus(),e.datepicker._curInst=o)))},_updateDatepicker:function(t){this.maxRows=4,r=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var o,n=this._getNumberOfMonths(t),i=n[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(o=t.yearshtml,setTimeout((function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,o,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return o.left-=this._get(t,"isRTL")?i-s:0,o.left-=n&&o.left===t.input.offset().left?e(document).scrollLeft():0,o.top-=n&&o.top===t.input.offset().top+a?e(document).scrollTop():0,o.left-=Math.min(o.left,o.left+i>l&&l>i?Math.abs(o.left+i-l):0),o.top-=Math.min(o.top,o.top+r>c&&c>r?Math.abs(r+a):0),o},_findPos:function(t){for(var o,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(o=e(t).offset()).left,o.top]},_hideDatepicker:function(t){var o,n,i,r,a=this._curInst;!a||t&&a!==e.data(t,s)||this._datepickerShowing&&(o=this._get(a,"showAnim"),n=this._get(a,"duration"),i=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[o]||e.effects[o])?a.dpDiv.hide(o,e.datepicker._get(a,"showOptions"),n,i):a.dpDiv["slideDown"===o?"slideUp":"fadeIn"===o?"fadeOut":"hide"](o?n:null,i),o||i(),this._datepickerShowing=!1,(r=this._get(a,"onClose"))&&r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var o=e(t.target),n=e.datepicker._getInst(o[0]);(o[0].id!==e.datepicker._mainDivId&&0===o.parents("#"+e.datepicker._mainDivId).length&&!o.hasClass(e.datepicker.markerClassName)&&!o.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||o.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,o,n){var i=e(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,o+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var o,n=e(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(o=new Date,i.selectedDay=o.getDate(),i.drawMonth=i.selectedMonth=o.getMonth(),i.drawYear=i.selectedYear=o.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,o,n){var i=e(t),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(o.options[o.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,o,n,i){var r,s=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((r=this._getInst(s[0])).selectedDay=r.currentDay=e("a",i).html(),r.selectedMonth=r.currentMonth=o,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var o=e(t);this._selectDate(o,"")},_selectDate:function(t,o){var n,i=e(t),r=this._getInst(i[0]);o=null!=o?o:this._formatDate(r),r.input&&r.input.val(o),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[o,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var o,n,i,r=this._get(t,"altField");r&&(o=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(o,n,this._getFormatConfig(t)),e(r).each((function(){e(this).val(i)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,o=new Date(e.getTime());return o.setDate(o.getDate()+4-(o.getDay()||7)),t=o.getTime(),o.setMonth(0),o.setDate(1),Math.floor(Math.round((t-o)/864e5)/7)+1},parseDate:function(o,n,i){if(null==o||null==n)throw"Invalid arguments";if(""==(n="object"==typeof n?""+n:n+""))return null;var r,s,a,l,c=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,g="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,y=-1,b=-1,_=!1,E=function(e){var t=o.length>r+1&&o.charAt(r+1)===e;return t&&r++,t},w=function(e){var t=E(e),o=RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),i=n.substring(c).match(o);if(!i)throw"Missing number at position "+c;return c+=i[0].length,parseInt(i[0],10)},S=function(o,i,r){var s=-1,a=e.map(E(o)?r:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,o){var i=o[1];return n.substr(c,i.length).toLowerCase()===i.toLowerCase()?(s=o[0],c+=i.length,!1):t})),-1!==s)return s+1;throw"Unknown name at position "+c},T=function(){if(n.charAt(c)!==o.charAt(r))throw"Unexpected literal at position "+c;c++};for(r=0;o.length>r;r++)if(_)"'"!==o.charAt(r)||E("'")?T():_=!1;else switch(o.charAt(r)){case"d":y=w("d");break;case"D":S("D",d,h);break;case"o":b=w("o");break;case"m":v=w("m");break;case"M":v=S("M",p,f);break;case"y":m=w("y");break;case"@":m=(l=new Date(w("@"))).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":m=(l=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":E("'")?T():_=!0;break;default:T()}if(n.length>c&&(a=n.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g>=m?0:-100)),b>-1)for(v=1,y=b;!((s=this._getDaysInMonth(m,v-1))>=y);)v++,y-=s;if((l=this._daylightSavingAdjust(new Date(m,v-1,y))).getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,o){if(!t)return"";var n,i=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,r=(o?o.dayNames:null)||this._defaults.dayNames,s=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,a=(o?o.monthNames:null)||this._defaults.monthNames,l=function(t){var o=e.length>n+1&&e.charAt(n+1)===t;return o&&n++,o},c=function(e,t,o){var n=""+t;if(l(e))for(;o>n.length;)n="0"+n;return n},u=function(e,t,o,n){return l(e)?n[t]:o[t]},g="",d=!1;if(t)for(n=0;e.length>n;n++)if(d)"'"!==e.charAt(n)||l("'")?g+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":g+=c("d",t.getDate(),2);break;case"D":g+=u("D",t.getDay(),i,r);break;case"o":g+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":g+=c("m",t.getMonth()+1,2);break;case"M":g+=u("M",t.getMonth(),s,a);break;case"y":g+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":g+=t.getTime();break;case"!":g+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?g+="'":d=!0;break;default:g+=e.charAt(n)}return g},_possibleChars:function(e){var t,o="",n=!1,i=function(o){var n=e.length>t+1&&e.charAt(t+1)===o;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||i("'")?o+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":o+="0123456789";break;case"D":case"M":return null;case"'":i("'")?o+="'":n=!0;break;default:o+=e.charAt(t)}return o},_get:function(e,o){return e.settings[o]!==t?e.settings[o]:this._defaults[o]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var o=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),r=i,s=this._getFormatConfig(e);try{r=this.parseDate(o,n,s)||i}catch(e){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,o,n){var i=null==o||""===o?n:"string"==typeof o?function(o){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),o,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(o.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=n.getFullYear(),r=n.getMonth(),s=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(o);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(i,r));break;case"y":case"Y":i+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(i,r))}l=a.exec(o)}return new Date(i,r,s)}(o):"number"==typeof o?isNaN(o)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(o):new Date(o.getTime());return(i=i&&"Invalid Date"==""+i?n:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,o){var n=!t,i=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),i===e.selectedMonth&&r===e.selectedYear||o||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var o=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(n,-o,"M")},next:function(){e.datepicker._adjustDate(n,+o,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,o,n,i,r,s,a,l,c,u,g,d,h,p,f,m,v,y,b,_,E,w,S,T,C,A,x,I,N,D,k,R,O,L,P,M,H,U,F,B=new Date,j=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),W=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),X=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),Y=1!==V[0]||1!==V[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-X,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)0>--Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,o=this._get(e,"prevText"),o=$?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,Z-G,1)),this._getFormatConfig(e)):o,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+o+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+o+"</span></a>",i=this._get(e,"nextText"),i=$?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z+G,1)),this._getFormatConfig(e)):i,r=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+i+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?K:j,s=$?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,g=this._get(e,"showWeek"),d=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),f=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;V[0]>w;w++){for(S="",this.maxRows=4,T=0;V[1]>T;T++){if(C=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),A=" ui-corner-all",x="",Y){if(x+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:x+=" ui-datepicker-group-first",A=" ui-corner-"+(W?"right":"left");break;case V[1]-1:x+=" ui-datepicker-group-last",A=" ui-corner-"+(W?"left":"right");break;default:x+=" ui-datepicker-group-middle",A=""}x+="'>"}for(x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?W?r:n:"")+(/all|right/.test(A)&&0===w?W?n:r:"")+this._generateMonthYearHeader(e,Z,ee,Q,J,w>0||T>0,p,f)+"</div><table class='ui-datepicker-calendar'><thead><tr>",I=g?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)I+="<th"+((E+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[N=(E+u)%7]+"'>"+h[N]+"</span></th>";for(x+=I+"</tr></thead><tbody>",D=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),k=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,R=Math.ceil((k+D)/7),O=Y&&this.maxRows>R?this.maxRows:R,this.maxRows=O,L=this._daylightSavingAdjust(new Date(ee,Z,1-k)),P=0;O>P;P++){for(x+="<tr>",M=g?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",E=0;7>E;E++)H=m?m.apply(e.input?e.input[0]:null,[L]):[!0,""],F=(U=L.getMonth()!==Z)&&!y||!H[0]||Q&&Q>L||J&&L>J,M+="<td class='"+((E+u+6)%7>=5?" ui-datepicker-week-end":"")+(U?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===L.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(U&&!v?"":" "+H[1]+(L.getTime()===K.getTime()?" "+this._currentClass:"")+(L.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(U&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(U&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===j.getTime()?" ui-state-highlight":"")+(L.getTime()===K.getTime()?" ui-state-active":"")+(U?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);x+=M+"</tr>"}++Z>11&&(Z=0,ee++),S+=x+="</tbody></table>"+(Y?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=S}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,o,n,i,r,s,a){var l,c,u,g,d,h,p,f,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(r||!m)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=n&&n.getFullYear()===o,c=i&&i.getFullYear()===o,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||i.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");_+="</select>"}if(y||(b+=_+(!r&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+o+"</span>";else{for(g=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),h=function(e){var t=e.match(/c[+\-].*/)?o+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},p=h(g[0]),f=Math.max(p,h(g[1]||"")),p=n?Math.max(p,n.getFullYear()):p,f=i?Math.min(f,i.getFullYear()):f,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===o?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!r&&m&&v?"":"&#xa0;")+_),b+"</div>"},_adjustInstDate:function(e,t,o){var n=e.drawYear+("Y"===o?t:0),i=e.drawMonth+("M"===o?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,i))+("D"===o?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,i,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===o||"Y"===o)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var o=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),i=o&&o>t?o:t;return n&&i>n?n:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,o,n){var i=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(o,n+(0>t?t:i[0]*i[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var o,n,i=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(o=l.split(":"),n=(new Date).getFullYear(),s=parseInt(o[0],10),a=parseInt(o[1],10),o[0].match(/[+\-].*/)&&(s+=n),o[1].match(/[+\-].*/)&&(a+=n)),(!i||t.getTime()>=i.getTime())&&(!r||t.getTime()<=r.getTime())&&(!s||t.getFullYear()>=s)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,o,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,o,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var o=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(o)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(o)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(o))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var o=e(this).css(t).offset().top;0>o&&e(this).css("top",t.top-o)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var o,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{(o=this.document[0].activeElement)&&"body"!==o.nodeName.toLowerCase()&&e(o).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var o=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return o&&!t&&this._trigger("focus",e),o},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function o(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),o.call(this),this._delay(o)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var o=this.uiDialog.find(":tabbable"),n=o.filter(":first"),i=o.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(i.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,o=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(o)||e.isArray(o)&&!o.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(o,(function(o,n){var i,r;n=e.isFunction(n)?{click:n,text:o}:n,n=e.extend({type:"button"},n),i=n.click,n.click=function(){i.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var o=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",n,t(i))},drag:function(e,n){o._trigger("drag",e,t(n))},stop:function(i,r){n.position=[r.position.left-o.document.scrollLeft(),r.position.top-o.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",i,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var o=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),s="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,i){e(this).addClass("ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",n,t(i))},resize:function(e,n){o._trigger("resize",e,t(n))},stop:function(i,r){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",i,t(r))}}).css("position",r)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var i=this,r=!1,s={};e.each(n,(function(e,n){i._setOption(e,n),e in t&&(r=!0),e in o&&(s[e]=n)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var o,n,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((o=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!o&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),n&&"string"==typeof t&&i.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,o,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),o="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:o,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,o=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay((function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",(function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(o)._focusTabbable())}))})),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,o=this.options.position,n=[],i=[0,0];o?(("string"==typeof o||"object"==typeof o&&"0"in o)&&(1===(n=o.split?o.split(" "):[o[0],o[1]]).length&&(n[1]=n[0]),e.each(["left","top"],(function(e,t){+n[e]===n[e]&&(i[e]=n[e],n[e]=t)})),o={my:n[0]+(0>i[0]?i[0]:"+"+i[0])+" "+n[1]+(0>i[1]?i[1]:"+"+i[1]),at:n.join(" ")}),o=e.extend({},e.ui.dialog.prototype.options.position,o)):o=e.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(o),t||this.uiDialog.hide()}})}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy((function(e){this.options.disabled&&e.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var o=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&o.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),o.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var o=e(t.currentTarget);o.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,o)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var o=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,o)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,i,r,s,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===i?s=!0:r=i+r,a=RegExp("^"+o(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())})),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),a=RegExp("^"+o(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())}))),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,o=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each((function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")})),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var o,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(o=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(o),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var o,n,i,r,s,a;this._hasScroll()&&(o=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-o-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>i?this.activeMenu.scrollTop(r+i):i+a>s&&this.activeMenu.scrollTop(r+i-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var o=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(o)},collapseAll:function(t,o){clearTimeout(this.timer),this.timer=this._delay((function(){var n=o?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,o){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(o,n)},nextPage:function(t){var o,n,i;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(o=e(this)).offset().top-n-i})),this.focus(t,o)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var o,n,i;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(o=e(this)).offset().top-n+i>0})),this.focus(t,o)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var o={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,o)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),t)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,o=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(o.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,o,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(o=n.values&&n.values.length||1,i.length>o&&(i.slice(o).remove(),i=i.slice(0,o)),t=i.length;o>t;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,o="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),o="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(o+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var o,n,i,r,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(o),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var o=Math.abs(n-c.values(t));(i>o||i===o&&(t===c._lastChangedValue||c.values(t)===u.min))&&(i=o,r=e(this),s=t)})),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),a=r.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-r.width()/2,top:t.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},o=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,o),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,o,n,i,r;return"horizontal"===this.orientation?(t=this.elementSize.width,o=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,o=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=o/t)>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),r=this._valueMin()+n*i,this._trimAlignValue(r)},_start:function(e,t){var o={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("start",e,o)},_slide:function(e,t,o){var n,i,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&o>n||1===t&&n>o)&&(o=n),o!==this.values(t)&&((i=this.values())[t]=o,r=this._trigger("slide",e,{handle:this.handles[t],value:o,values:i}),n=this.values(t?0:1),!1!==r&&this.values(t,o))):o!==this.value()&&!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:o}))&&this.value(o)},_stop:function(e,t){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("stop",e,o)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,o)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,o){var n,i,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(o),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=arguments[0],r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,o){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===o?(this.options.value=this._values(0),this.options.values=null):"max"===o&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;i>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,o,n;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(o=this.options.values.slice(),n=0;o.length>n;n+=1)o[n]=this._trimAlignValue(o[n]);return o}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,o=(e-this._valueMin())%t,n=e-o;return 2*Math.abs(o)>=t&&(n+=o>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,o,n,i,r,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each((function(n){o=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=o+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:o+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:o-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:o+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:o-t+"%"},{queue:!1,duration:a.animate}))),t=o})):(n=this.value(),i=this._valueMin(),r=this._valueMax(),o=r!==i?(n-i)/(r-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=o+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:o+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-o+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:o+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-o+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var o,n,i,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,o=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===this._valueMax())return;n=this._trimAlignValue(o+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===this._valueMin())return;n=this._trimAlignValue(o-i)}this._slide(t,r,n)},click:function(e){e.preventDefault()},keyup:function(t){var o=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,o),this._change(t,o),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},o=this.element;return e.each(["min","max","step"],(function(e,n){var i=o.attr(n);void 0!==i&&i.length&&(t[n]=i)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function o(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),o.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,o.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var o=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,o.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-o.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(e,t,o){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,o)}),e),this._spin(t*this.options.step,o)},_spin:function(e,t){var o=this.value()||0;this.counter||(this.counter=1),o=this._adjustValue(o+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:o})||(this._value(o),this.counter++)},_increment:function(t){var o=this.options.incremental;return o?e.isFunction(o)?o(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,o=t.indexOf(".");return-1===o?0:t.length-o-1},_adjustValue:function(e){var t,o,n=this.options;return o=e-(t=null!==n.min?n.min:0),e=t+(o=Math.round(o/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var o=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(o))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t((function(e){this._super(e),this._value(this.element.val())})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var o;""!==e&&null!==(o=this._parse(e))&&(t||(o=this._adjustValue(o)),e=this._format(o)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:t((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function o(e){return(e=e.cloneNode(!1)).hash.length>1&&decodeURIComponent(e.href.replace(i,""))===decodeURIComponent(location.href.replace(i,""))}var n=0,i=/#.*$/;e.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,o=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",o.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this._processTabs(),o.active=this._initialActive(),e.isArray(o.disabled)&&(o.disabled=e.unique(o.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(o.active):e(),this._refresh(),this.active.length&&this.load(o.active)},_initialActive:function(){var o=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===o&&(i&&this.tabs.each((function(n,r){return e(r).attr("aria-controls")===i?(o=n,!1):t})),null===o&&(o=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===o||-1===o)&&(o=!!this.tabs.length&&0)),!1!==o&&-1===(o=this.tabs.index(this.tabs.eq(o)))&&(o=!n&&0),!n&&!1===o&&this.anchors.length&&(o=0),o},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(o){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(o)){switch(o.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return o.preventDefault(),clearTimeout(this.activating),this._activate(i),t;case e.ui.keyCode.ENTER:return o.preventDefault(),clearTimeout(this.activating),this._activate(i!==this.options.active&&i),t;default:return}o.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),o.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(o){return o.altKey&&o.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):o.altKey&&o.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,o){for(var n=this.tabs.length-1;-1!==e.inArray((t>n&&(t=0),0>t&&(t=n),t),this.options.disabled);)t=o?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,o){return"active"===e?(this._activate(o),t):"disabled"===e?(this._setupDisabled(o),t):(this._super(e,o),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",o),o||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(o),"heightStyle"===e&&this._setupHeightStyle(o),t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+ ++n},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,o=this.tablist.children(":has(a[href])");t.disabled=e.map(o.filter(".ui-state-disabled"),(function(e){return o.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,i){var r,s,a,l=e(i).uniqueId().attr("id"),c=e(i).closest("li"),u=c.attr("aria-controls");o(i)?(r=i.hash,s=t.element.find(t._sanitizeSelector(r))):(r="#"+(a=t._tabId(c)),(s=t.element.find(r)).length||(s=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var o,n=0;o=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(o).addClass("ui-state-disabled").attr("aria-disabled","true"):e(o).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var o={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),(function(e,t){o[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,o),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var o,n=this.element.parent();"fill"===t?(o=n.height(),o-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(o-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){o-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,o-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(o=0,this.panels.each((function(){o=Math.max(o,e(this).height("").height())})).height(o))},_eventHandler:function(t){var o=this.options,n=this.active,i=e(t.currentTarget).closest("li"),r=i[0]===n[0],s=r&&o.collapsible,a=s?e():this._getPanelForTab(i),l=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:l,newTab:s?e():i,newPanel:a};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!o.collapsible||!1===this._trigger("beforeActivate",t,c)||(o.active=!s&&this.tabs.index(i),this.active=r?e():i,this.xhr&&this.xhr.abort(),l.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),t),this._toggle(t,c))},_toggle:function(t,o){function n(){r.running=!1,r._trigger("activate",t,o)}function i(){o.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=o.newPanel,a=o.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()})):(o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),i()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),o.oldTab.attr("aria-selected","false"),s.length&&a.length?o.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),o.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var o,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),o=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:o,currentTarget:o,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),o=t.data("ui-tabs-aria-controls");o?t.attr("aria-controls",o).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(o){var n=this.options.disabled;!1!==n&&(o===t?n=!1:(o=this._getIndex(o),n=e.isArray(n)?e.map(n,(function(e){return e!==o?e:null})):e.map(this.tabs,(function(e,t){return t!==o?t:null}))),this._setupDisabled(n))},disable:function(o){var n=this.options.disabled;if(!0!==n){if(o===t)n=!0;else{if(o=this._getIndex(o),-1!==e.inArray(o,n))return;n=e.isArray(n)?e.merge([o],n).sort():[o]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),s=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),l={tab:r,panel:a};o(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success((function(e){setTimeout((function(){a.html(e),i._trigger("load",n,l)}),1)})).complete((function(e,t){setTimeout((function(){"abort"===t&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr}),1)}))))},_ajaxSettings:function(t,o,n){var i=this;return{url:t.attr("href"),beforeSend:function(t,r){return i._trigger("beforeLoad",o,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var o=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+o))}})}(jQuery),function(e){var t=0;e.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,o){var n=this;return"disabled"===t?(this[o?"_disable":"_enable"](),void(this.options[t]=o)):(this._super(t,o),void("content"===t&&e.each(this.tooltips,(function(e,t){n._updateContent(t)}))))},_disable:function(){var t=this;e.each(this.tooltips,(function(o,n){var i=e.Event("blur");i.target=i.currentTarget=n[0],t.close(i,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var o=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each((function(){var t,n=e(this);n.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,o.close(t,!0)),n.attr("title")&&(n.uniqueId(),o.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))})),this._updateContent(n,t))},_updateContent:function(e,t){var o,n=this.options.content,i=this,r=t?t.type:null;return"string"==typeof n?this._open(t,e,n):void((o=n.call(e[0],(function(o){e.data("ui-tooltip-open")&&i._delay((function(){t&&(t.type=r),this._open(t,e,o)}))})))&&this._open(t,e,o))},_open:function(t,o,n){function i(e){l.of=e,r.is(":hidden")||r.position(l)}var r,s,a,l=e.extend({},this.options.position);if(n){if((r=this._find(o)).length)return void r.find(".ui-tooltip-content").html(n);o.is("[title]")&&(t&&"mouseover"===t.type?o.attr("title",""):o.removeAttr("title")),r=this._tooltip(o),function(t,o){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(o),t.data("ui-tooltip-id",o).attr("aria-describedby",e.trim(n.join(" ")))}(o,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):r.position(e.extend({of:o},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){r.is(":visible")&&(i(l.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:r}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=o[0],this.close(n,!0)}},remove:function(){this._removeTooltip(r)}},t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,o,s)}},close:function(t){var o=this,n=e(t?t.currentTarget:this.element),i=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),function(t){var o=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(o,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}(n),i.stop(!0),this._hide(i,this.options.hide,(function(){o._removeTooltip(e(this))})),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete o.parents[t]})),this.closing=!0,this._trigger("close",t,{tooltip:i}),this.closing=!1)},_tooltip:function(o){var n="ui-tooltip-"+t++,i=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]=o,i},_find:function(t){var o=t.data("ui-tooltip-id");return o?e("#"+o):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(o,n){var i=e.Event("blur");i.target=i.currentTarget=n[0],t.close(i,!0),e("#"+o).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}))}})}(jQuery),function(e,t){var o="ui-effects-";e.effects={effect:{}},function(e,t){function o(e,t,o){var n=u[t.type]||{};return null==e?o||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(o){var n=l(),i=n._rgba=[];return o=o.toLowerCase(),h(a,(function(e,r){var s,a=r.re.exec(o),l=a&&r.parse(a),u=r.space||"rgba";return l?(s=n[u](l),n[c[u].cache]=s[c[u].cache],i=n._rgba=s._rgba,!1):t})),i.length?("0,0,0,0"===i.join()&&e.extend(i,r.transparent),n):r[o]}function i(e,t,o){return 1>6*(o=(o+1)%1)?e+6*(t-e)*o:1>2*o?t:2>3*o?e+6*(t-e)*(2/3-o):e}var r,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,o,n,i){return new e.Color.fn.parse(t,o,n,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=l.support={},d=e("<p>")[0],h=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",g.rgba=d.style.backgroundColor.indexOf("rgba")>-1,h(c,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),l.fn=e.extend(l.prototype,{parse:function(i,s,a,u){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(s),s=t);var g=this,d=e.type(i),p=this._rgba=[];return s!==t&&(i=[i,s,a,u],d="array"),"string"===d?this.parse(n(i)||r._default):"array"===d?(h(c.rgba.props,(function(e,t){p[t.idx]=o(i[t.idx],t)})),this):"object"===d?(h(c,i instanceof l?function(e,t){i[t.cache]&&(g[t.cache]=i[t.cache].slice())}:function(t,n){var r=n.cache;h(n.props,(function(e,t){if(!g[r]&&n.to){if("alpha"===e||null==i[e])return;g[r]=n.to(g._rgba)}g[r][t.idx]=o(i[e],t,!0)})),g[r]&&0>e.inArray(null,g[r].slice(0,3))&&(g[r][3]=1,n.from&&(g._rgba=n.from(g[r])))}),this):t},is:function(e){var o=l(e),n=!0,i=this;return h(c,(function(e,r){var s,a=o[r.cache];return a&&(s=i[r.cache]||r.to&&r.to(i._rgba)||[],h(r.props,(function(e,o){return null!=a[o.idx]?n=a[o.idx]===s[o.idx]:t}))),n})),n},_space:function(){var e=[],t=this;return h(c,(function(o,n){t[n.cache]&&e.push(o)})),e.pop()},transition:function(e,t){var n=l(e),i=n._space(),r=c[i],s=0===this.alpha()?l("transparent"):this,a=s[r.cache]||r.to(s._rgba),g=a.slice();return n=n[r.cache],h(r.props,(function(e,i){var r=i.idx,s=a[r],l=n[r],c=u[i.type]||{};null!==l&&(null===s?g[r]=l:(c.mod&&(l-s>c.mod/2?s+=c.mod:s-l>c.mod/2&&(s-=c.mod)),g[r]=o((l-s)*t+s,i)))})),this[i](g)},blend:function(t){if(1===this._rgba[3])return this;var o=this._rgba.slice(),n=o.pop(),i=l(t)._rgba;return l(e.map(o,(function(e,t){return(1-n)*i[t]+n*e})))},toRgbaString:function(){var t="rgba(",o=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===o[3]&&(o.pop(),t="rgb("),t+o.join()+")"},toHslaString:function(){var t="hsla(",o=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e}));return 1===o[3]&&(o.pop(),t="hsl("),t+o.join()+")"},toHexString:function(t){var o=this._rgba.slice(),n=o.pop();return t&&o.push(~~(255*n)),"#"+e.map(o,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,o,n=e[0]/255,i=e[1]/255,r=e[2]/255,s=e[3],a=Math.max(n,i,r),l=Math.min(n,i,r),c=a-l,u=a+l,g=.5*u;return t=l===a?0:n===a?60*(i-r)/c+360:i===a?60*(r-n)/c+120:60*(n-i)/c+240,o=0===c?0:.5>=g?c/u:c/(2-u),[Math.round(t)%360,o,g,null==s?1:s]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,o=e[1],n=e[2],r=e[3],s=.5>=n?n*(1+o):n+o-n*o,a=2*n-s;return[Math.round(255*i(a,s,t+1/3)),Math.round(255*i(a,s,t)),Math.round(255*i(a,s,t-1/3)),r]},h(c,(function(n,i){var r=i.props,a=i.cache,c=i.to,u=i.from;l.fn[n]=function(n){if(c&&!this[a]&&(this[a]=c(this._rgba)),n===t)return this[a].slice();var i,s=e.type(n),g="array"===s||"object"===s?n:arguments,d=this[a].slice();return h(r,(function(e,t){var n=g["object"===s?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=o(n,t)})),u?((i=l(u(d)))[a]=d,i):l(d)},h(r,(function(t,o){l.fn[t]||(l.fn[t]=function(i){var r,a=e.type(i),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[o.idx];return"undefined"===a?u:("function"===a&&(i=i.call(this,u),a=e.type(i)),null==i&&o.empty?this:("string"===a&&(r=s.exec(i))&&(i=u+parseFloat(r[2])*("+"===r[1]?1:-1)),c[o.idx]=i,this[l](c)))})}))})),l.hook=function(t){var o=t.split(" ");h(o,(function(t,o){e.cssHooks[o]={set:function(t,i){var r,s,a="";if("transparent"!==i&&("string"!==e.type(i)||(r=n(i)))){if(i=l(r||i),!g.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{t.style[o]=i}catch(e){}}},e.fx.step[o]=function(t){t.colorInit||(t.start=l(t.elem,o),t.end=l(t.end),t.colorInit=!0),e.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],(function(o,n){t["border"+n+"Color"]=e})),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function o(t){var o,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[o=i[n]]&&(r[e.camelCase(o)]=i[o]);else for(o in i)"string"==typeof i[o]&&(r[o]=i[o]);return r}function n(t,o){var n,i,s={};for(n in o)i=o[n],t[n]!==i&&(r[n]||(e.fx.step[n]||!isNaN(parseFloat(i)))&&(s[n]=i));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,o){e.fx.step[o]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,o,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,s,a){var l=e.speed(r,s,a);return this.queue((function(){var r,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map((function(){return{el:e(this),start:o(this)}})),r=function(){e.each(i,(function(e,o){t[o]&&s[o+"Class"](t[o])}))},r(),c=c.map((function(){return this.end=o(this.el[0]),this.diff=n(this.start,this.end),this})),s.attr("class",a),c=c.map((function(){var t=this,o=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,n),o.promise()})),e.when.apply(e,c.get()).done((function(){r(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(s[0])}))}))},e.fn.extend({addClass:function(t){return function(o,n,i,r){return n?e.effects.animateClass.call(this,{add:o},n,i,r):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(o,n,i,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:o},n,i,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(o){return function(n,i,r,s,a){return"boolean"==typeof i||i===t?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,s,a):o.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,s)}}(e.fn.toggleClass),switchClass:function(t,o,n,i,r){return e.effects.animateClass.call(this,{add:o,remove:t},n,i,r)}})}(),function(){function n(t,o,n,i){return e.isPlainObject(t)&&(o=t,t=t.effect),t={effect:t},null==o&&(o={}),e.isFunction(o)&&(i=o,n=null,o={}),("number"==typeof o||e.fx.speeds[o])&&(i=n,n=o,o={}),e.isFunction(n)&&(i=n,n=null),o&&e.extend(t,o),n=n||o.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=i||o.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(o+t[n],e[0].style[t[n]])},restore:function(e,n){var i,r;for(r=0;n.length>r;r++)null!==n[r]&&((i=e.data(o+n[r]))===t&&(i=""),e.css(n[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var o,n;switch(e[0]){case"top":o=0;break;case"middle":o=.5;break;case"bottom":o=1;break;default:o=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:o}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,n){o[n]=t.css(n),isNaN(parseInt(o[n],10))&&(o[n]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),n.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t},setTransition:function(t,o,n,i){return i=i||{},e.each(o,(function(e,o){var r=t.cssUnit(o);r[0]>0&&(i[o]=r[0]*n+r[1])})),i}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(r)&&r.call(i[0]),e.isFunction(t)&&t()}var i=e(this),r=o.complete,a=o.mode;(i.is(":hidden")?"hide"===a:"show"===a)?(i[a](),n()):s.call(i[0],o,n)}var o=n.apply(this,arguments),i=o.mode,r=o.queue,s=e.effects.effect[o.effect];return e.fx.off||!s?i?this[i](o.duration,o.complete):this.each((function(){o.complete&&o.complete.call(this)})):!1===r?this.each(t):this.queue(r||"fx",t)},show:function(e){return function(t){if(i(t))return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(t){if(i(t))return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(t){if(i(t)||"boolean"==typeof t)return e.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var o=this.css(t),n=[];return e.each(["em","px","%","pt"],(function(e,t){o.indexOf(t)>0&&(n=[parseFloat(o),t])})),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,o){t[o]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,o=4;((t=Math.pow(2,--o))-1)/11>e;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,o){e.easing["easeIn"+t]=o,e.easing["easeOut"+t]=function(e){return 1-o(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?o(2*e)/2:1-o(-2*e+2)/2}}))}()}(jQuery),function(e){var t=/up|down|vertical/,o=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,i){var r,s,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,n.mode||"hide"),g=n.direction||"up",d=t.test(g),h=d?"height":"width",p=d?"top":"left",f=o.test(g),m={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),s=(r=e.effects.createWrapper(l).css({overflow:"hidden"}))[h](),a=parseFloat(r.css(p))||0,m[h]=v?s:0,f||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[p]=v?a:s+a),v&&(r.css(h,0),f||r.css(p,a+s)),r.animate(m,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),i()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,o){var n,i,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,u="show"===l,g=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(u||c?1:0),f=t.duration/p,m=t.easing,v="up"===g||"down"===g?"top":"left",y="up"===g||"left"===g,b=s.queue(),_=b.length;for((u||c)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[v]=0,s.css("opacity",0).css(v,y?2*-d:2*d).animate(r,f,m)),c&&(d/=Math.pow(2,h-1)),(r={})[v]=0,n=0;h>n;n++)(i={})[v]=(y?"-=":"+=")+d,s.animate(i,f,m).animate(r,f,m),d=c?2*d:d/2;c&&((i={opacity:0})[v]=(y?"-=":"+=")+d,s.animate(i,f,m)),s.queue((function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),o()})),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,p+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,o){var n,i,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(s,t.mode||"hide"),c="vertical"===(t.direction||"vertical"),u=c?"height":"width",g=c?"top":"left",d={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r=(i="IMG"===s[0].tagName?n:s)[u](),l&&(i.css(u,0),i.css(g,r/2)),d[u]=l?r:0,d[g]=l?0:r/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),o()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,o){var n,i=e(this),r=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(i,t.mode||"hide"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",g={opacity:a?1:0};e.effects.save(i,r),i.show(),e.effects.createWrapper(i),n=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&i.css("opacity",0).css(c,"pos"===u?-n:n),g[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,i.animate(g,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,r),e.effects.removeWrapper(i),o()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,o){function n(){v.push(this),v.length===u*g&&(d.css({visibility:"visible"}),e(v).remove(),h||d.hide(),o())}var i,r,s,a,l,c,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,g=u,d=e(this),h="show"===e.effects.setMode(d,t.mode||"hide"),p=d.show().css("visibility","hidden").offset(),f=Math.ceil(d.outerWidth()/g),m=Math.ceil(d.outerHeight()/u),v=[];for(i=0;u>i;i++)for(a=p.top+i*m,c=i-(u-1)/2,r=0;g>r;r++)s=p.left+r*f,l=r-(g-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*f,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:m,left:s+(h?l*f:0),top:a+(h?c*m:0),opacity:h?0:1}).animate({left:s+(h?0:l*f),top:a+(h?0:c*m),opacity:h?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e){e.effects.effect.fade=function(t,o){var n=e(this),i=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:o})}}(jQuery),function(e){e.effects.effect.fold=function(t,o){var n,i,r=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,g=/([0-9]+)%/.exec(u),d=!!t.horizFirst,h=l!==d,p=h?["width","height"]:["height","width"],f=t.duration/2,m={},v={};e.effects.save(r,s),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),i=h?[n.width(),n.height()]:[n.height(),n.width()],g&&(u=parseInt(g[1],10)/100*i[c?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),m[p[0]]=l?i[0]:u,v[p[1]]=l?i[1]:0,n.animate(m,f,t.easing).animate(v,f,t.easing,(function(){c&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),o()}))}}(jQuery),function(e){e.effects.effect.highlight=function(t,o){var n=e(this),i=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),e.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,i),o()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,o){var n,i=e(this),r=e.effects.setMode(i,t.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,c=2*(t.times||5)+(l?1:0),u=t.duration/c,g=0,d=i.queue(),h=d.length;for((s||!i.is(":visible"))&&(i.css("opacity",0).show(),g=1),n=1;c>n;n++)i.animate({opacity:g},u,t.easing),g=1-g;i.animate({opacity:g},u,t.easing),i.queue((function(){a&&i.hide(),o()})),h>1&&d.splice.apply(d,[1,0].concat(d.splice(h,c+1))),i.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,o){var n=e(this),i=e.effects.setMode(n,t.mode||"hide"),r="hide"===i,s=parseInt(t.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:o,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,o){var n=e(this),i=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"hide"===r?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u="horizontal"!==a?s/100:1,g="vertical"!==a?s/100:1;i.effect="size",i.queue=!1,i.complete=o,"effect"!==r&&(i.origin=l||["middle","center"],i.restore=!0),i.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),i.to={height:c.height*u,width:c.width*g,outerHeight:c.outerHeight*u,outerWidth:c.outerWidth*g},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},e.effects.effect.size=function(t,o){var n,i,r,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(s,t.mode||"effect"),h=t.restore||"effect"!==d,p=t.scale||"both",f=t.origin||["middle","center"],m=s.css("position"),v=h?a:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===d?(s.from=t.to||y,s.to=t.from||n):(s.from=t.from||("show"===d?y:n),s.to=t.to||("hide"===d?y:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===p||"both"===p)&&(r.from.y!==r.to.y&&(v=v.concat(u),s.from=e.effects.setTransition(s,u,r.from.y,s.from),s.to=e.effects.setTransition(s,u,r.to.y,s.to)),r.from.x!==r.to.x&&(v=v.concat(g),s.from=e.effects.setTransition(s,g,r.from.x,s.from),s.to=e.effects.setTransition(s,g,r.to.x,s.to))),("content"===p||"both"===p)&&r.from.y!==r.to.y&&(v=v.concat(c).concat(l),s.from=e.effects.setTransition(s,c,r.from.y,s.from),s.to=e.effects.setTransition(s,c,r.to.y,s.to)),e.effects.save(s,v),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),f&&(i=e.effects.getBaseline(f,n),s.from.top=(n.outerHeight-s.outerHeight())*i.y,s.from.left=(n.outerWidth-s.outerWidth())*i.x,s.to.top=(n.outerHeight-s.to.outerHeight)*i.y,s.to.left=(n.outerWidth-s.to.outerWidth)*i.x),s.css(s.from),("content"===p||"both"===p)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),g=g.concat(["marginLeft","marginRight"]),l=a.concat(u).concat(g),s.find("*[width]").each((function(){var o=e(this),n=o.height(),i=o.width(),s=o.outerHeight(),a=o.outerWidth();h&&e.effects.save(o,l),o.from={height:n*r.from.y,width:i*r.from.x,outerHeight:s*r.from.y,outerWidth:a*r.from.x},o.to={height:n*r.to.y,width:i*r.to.x,outerHeight:n*r.to.y,outerWidth:i*r.to.x},r.from.y!==r.to.y&&(o.from=e.effects.setTransition(o,u,r.from.y,o.from),o.to=e.effects.setTransition(o,u,r.to.y,o.to)),r.from.x!==r.to.x&&(o.from=e.effects.setTransition(o,g,r.from.x,o.from),o.to=e.effects.setTransition(o,g,r.to.x,o.to)),o.css(o.from),o.animate(o.to,t.duration,t.easing,(function(){h&&e.effects.restore(o,l)}))}))),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),e.effects.restore(s,v),h||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],(function(e,t){s.css(t,(function(t,o){var n=parseInt(o,10),i=e?s.to.left:s.to.top;return"auto"===o?i+"px":n+i+"px"}))}))),e.effects.removeWrapper(s),o()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,o){var n,i=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(i,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,g=Math.round(t.duration/u),d="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,p={},f={},m={},v=i.queue(),y=v.length;for(e.effects.save(i,r),i.show(),e.effects.createWrapper(i),p[d]=(h?"-=":"+=")+l,f[d]=(h?"+=":"-=")+2*l,m[d]=(h?"-=":"+=")+2*l,i.animate(p,g,t.easing),n=1;c>n;n++)i.animate(f,g,t.easing).animate(m,g,t.easing);i.animate(f,g,t.easing).animate(p,g/2,t.easing).queue((function(){"hide"===s&&i.hide(),e.effects.restore(i,r),e.effects.removeWrapper(i),o()})),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),i.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,o){var n,i=e(this),r=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(i,t.mode||"show"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,g={};e.effects.save(i,r),i.show(),n=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),a&&i.css(c,u?isNaN(n)?"-"+n:-n:n),g[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,i.animate(g,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,r),e.effects.removeWrapper(i),o()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,o){var n=e(this),i=e(t.to),r="fixed"===i.css("position"),s=e("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=i.offset(),u={top:c.top-a,left:c.left-l,height:i.innerHeight(),width:i.innerWidth()},g=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:g.top-a,left:g.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,(function(){d.remove(),o()}))}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}((function(e){"use strict";var t=0;e.ajaxTransport("iframe",(function(o){if(o.async){var n,i,r,s=o.initialIframeSrc||"javascript:false;";return{send:function(a,l){(n=e('<form style="display:none;"></form>')).attr("accept-charset",o.formAcceptCharset),r=/\?/.test(o.url)?"&":"?","DELETE"===o.type?(o.url=o.url+r+"_method=DELETE",o.type="POST"):"PUT"===o.type?(o.url=o.url+r+"_method=PUT",o.type="POST"):"PATCH"===o.type&&(o.url=o.url+r+"_method=PATCH",o.type="POST"),i=e('<iframe src="'+s+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",(function(){var t,r=e.isArray(o.paramName)?o.paramName:[o.paramName];i.unbind("load").bind("load",(function(){var t;try{if(!(t=i.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+s+'"></iframe>').appendTo(n),window.setTimeout((function(){n.remove()}),0)})),n.prop("target",i.prop("name")).prop("action",o.url).prop("method",o.type),o.formData&&e.each(o.formData,(function(t,o){e('<input type="hidden"/>').prop("name",o.name).val(o.value).appendTo(n)})),o.fileInput&&o.fileInput.length&&"POST"===o.type&&(t=o.fileInput.clone(),o.fileInput.after((function(e){return t[e]})),o.paramName&&o.fileInput.each((function(t){e(this).prop("name",r[t]||o.paramName)})),n.append(o.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),o.fileInput.removeAttr("form")),n.submit(),t&&t.length&&o.fileInput.each((function(o,n){var i=e(t[o]);e(n).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(n)}))})),n.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",s),n&&n.remove()}}}})),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var o=t&&t[0];return o&&e.isXMLDoc(o)?o:e.parseXML(o.XMLDocument&&o.XMLDocument.xml||e(o.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}((function(e){"use strict";function t(t){var o="dragover"===t;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var i=n.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:n}))&&(n.preventDefault(),o&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,o){return t=this.messages[t]||t.toString(),o&&e.each(o,(function(e,o){t=t.replace("{"+e+"}",o)})),t},formData:function(e){return e.serializeArray()},add:function(t,o){if(t.isDefaultPrevented())return!1;(o.autoUpload||!1!==o.autoUpload&&e(this).fileupload("option","autoUpload"))&&o.process().done((function(){o.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,o){var n=e-this.timestamp;return(!this.bitrate||!o||n>o)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var o;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(o=[],e.each(t.formData,(function(e,t){o.push({name:e,value:t})})),o):[]},_getTotal:function(t){var o=0;return e.each(t,(function(e,t){o+=t.size||1})),o},_initProgressObject:function(t){var o={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,o):t._progress=o},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,o){if(t.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(o._time&&o.progressInterval&&i-o._time<o.progressInterval&&t.loaded!==t.total)return;o._time=i,n=Math.floor(t.loaded/t.total*(o.chunkSize||o._progress.total))+(o.uploadedBytes||0),this._progress.loaded+=n-o._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,o.bitrateInterval),o._progress.loaded=o.loaded=n,o._progress.bitrate=o.bitrate=o._bitrateTimer.getBitrate(i,n,o.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),o),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var o=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",(function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,o._onProgress(e,t)})),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var o,n=this,i=t.files[0],r=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(o=this._getFormData(t),t.blob?o.push({name:s,value:t.blob}):e.each(t.files,(function(n,i){o.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||s,value:i})}))):(n._isInstanceOf("FormData",t.formData)?o=t.formData:(o=new FormData,e.each(this._getFormData(t),(function(e,t){o.append(t.name,t.value)}))),t.blob?o.append(s,t.blob,i.name):e.each(t.files,(function(i,r){(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&o.append("array"===e.type(t.paramName)&&t.paramName[i]||s,r,r.uploadName||r.name)}))),t.data=o):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var o=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&o&&o!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var o=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],o.each((function(){for(var t=e(this),o=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)n.push(o),i-=1})),n.length||(n=[o.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var o=e.extend({},this.options,t);return this._initFormSettings(o),this._initDataSettings(o),o},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,o,n){var i=e.Deferred(),r=i.promise();return o=o||this.options.context||r,!0===t?i.resolveWith(o,n):!1===t&&i.rejectWith(o,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,o){var n=this,i=function(t){return e.Deferred().resolveWith(n,t).promise()};o.process=function(t,r){return(t||r)&&(o._processQueue=this._processQueue=(this._processQueue||i([this])).pipe((function(){return o.errorThrown?e.Deferred().rejectWith(n,[o]).promise():i(arguments)})).pipe(t,r)),this._processQueue||i([this])},o.submit=function(){return"pending"!==this.state()&&(o.jqXHR=this.jqXHR=!1!==n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},o.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},o.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},o.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},o.progress=function(){return this._progress},o.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),o=t&&t.split("-"),n=o&&o.length>1&&parseInt(o[1],10);return n&&n+1},_chunkedUpload:function(t,o){t.uploadedBytes=t.uploadedBytes||0;var n,i,r=this,s=t.files[0],a=s.size,l=t.uploadedBytes,c=t.maxChunkSize||a,u=this._blobSlice,g=e.Deferred(),d=g.promise();return!(!(this._isXHRUpload(t)&&u&&(l||c<a))||t.data)&&(!!o||(l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(i=function(){var o=e.extend({},t),d=o._progress.loaded;o.blob=u.call(s,l,l+c,s.type),o.chunkSize=o.blob.size,o.contentRange="bytes "+l+"-"+(l+o.chunkSize-1)+"/"+a,r._initXHRData(o),r._initProgressListener(o),n=(!1!==r._trigger("chunksend",null,o)&&e.ajax(o)||r._getXHRPromise(!1,o.context)).done((function(n,s,c){l=r._getUploadedBytes(c)||l+o.chunkSize,d+o.chunkSize-o._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-o.uploadedBytes,total:l-o.uploadedBytes}),o),t.uploadedBytes=o.uploadedBytes=l,o.result=n,o.textStatus=s,o.jqXHR=c,r._trigger("chunkdone",null,o),r._trigger("chunkalways",null,o),l<a?i():g.resolveWith(o.context,[n,s,c])})).fail((function(e,t,n){o.jqXHR=e,o.textStatus=t,o.errorThrown=n,r._trigger("chunkfail",null,o),r._trigger("chunkalways",null,o),g.rejectWith(o.context,[e,t,n])}))},this._enhancePromise(d),d.abort=function(){return n.abort()},i(),d)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,o,n,i){var r=i._progress.total,s=i._response;i._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),s.result=i.result=t,s.textStatus=i.textStatus=o,s.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,o,n){var i=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),i.jqXHR=n.jqXHR=e,i.textStatus=n.textStatus=t,i.errorThrown=n.errorThrown=o,this._trigger("fail",null,n)},_onAlways:function(e,t,o,n){this._trigger("always",null,n)},_onSend:function(t,o){o.submit||this._addConvenienceMethods(t,o);var n,i,r,s,a=this,l=a._getAJAXSettings(o),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&a._getXHRPromise(!1,l.context,i)||a._chunkedUpload(l)||e.ajax(l)).done((function(e,t,o){a._onDone(e,t,o,l)})).fail((function(e,t,o){a._onFail(e,t,o,l)})).always((function(e,t,o){if(a._onAlways(e,t,o,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if("pending"===a._getDeferredState(n)){n.resolve();break}n=a._slots.shift()}0===a._active&&a._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),s=r.pipe(c)):(this._sequence=this._sequence.pipe(c,c),s=this._sequence),s.abort=function(){return i=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(l.context,i),c())},this._enhancePromise(s)):c()},_onAdd:function(t,o){var n,i,r,s,a=this,l=!0,c=e.extend({},this.options,o),u=o.files,g=u.length,d=c.limitMultiFileUploads,h=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,f=0,m=this._getParamName(c),v=0;if(!h||g&&void 0!==u[0].size||(h=void 0),(c.singleFileUploads||d||h)&&this._isXHRUpload(c))if(c.singleFileUploads||h||!d)if(!c.singleFileUploads&&h)for(r=[],n=[],s=0;s<g;s+=1)f+=u[s].size+p,(s+1===g||f+u[s+1].size+p>h||d&&s+1-v>=d)&&(r.push(u.slice(v,s+1)),(i=m.slice(v,s+1)).length||(i=m),n.push(i),v=s+1,f=0);else n=m;else for(r=[],n=[],s=0;s<g;s+=d)r.push(u.slice(s,s+d)),(i=m.slice(s,s+d)).length||(i=m),n.push(i);else r=[u],n=[m];return o.originalFiles=u,e.each(r||u,(function(i,s){var c=e.extend({},o);return c.files=r?s:[s],c.paramName=n[i],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),c)})),l},_replaceFileInput:function(t){var o=t.fileInput,n=o.clone(!0);t.fileInputClone=n,e("<form></form>").append(n)[0].reset(),o.after(n).detach(),e.cleanData(o.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===o[0]?n[0]:t})),o[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,o){var n,i=this,r=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},a=function(){n.readEntries((function(e){e.length?(l=l.concat(e),a()):function(e){i._handleFileTreeEntries(e,o+t.name+"/").done((function(e){r.resolve(e)})).fail(s)}(l)}),s)},l=[];return o=o||"",t.isFile?t._file?(t._file.relativePath=o,r.resolve(t._file)):t.file((function(e){e.relativePath=o,r.resolve(e)}),s):t.isDirectory?(n=t.createReader(),a()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,o){var n=this;return e.when.apply(e,e.map(t,(function(e){return n._handleFileTreeEntry(e,o)}))).pipe((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var o=(t=t||{}).items;return o&&o.length&&(o[0].webkitGetAsEntry||o[0].getAsEntry)?this._handleFileTreeEntries(e.map(o,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var o,n,i=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((o=e.makeArray(t.prop("files"))).length)void 0===o[0].name&&o[0].fileName&&e.each(o,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(n=t.prop("value")))return e.Deferred().resolve([]).promise();o=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(o).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var o=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always((function(i){n.files=i,o.options.replaceFileInput&&o._replaceFileInput(n),!1!==o._trigger("change",e.Event("change",{delegatedEvent:t}),n)&&o._onAdd(t,n)}))},_onPaste:function(t){var o=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};o&&o.length&&(e.each(o,(function(e,t){var o=t.getAsFile&&t.getAsFile();o&&n.files.push(o)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var o=this,n=t.dataTransfer,i={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always((function(n){i.files=n,!1!==o._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)&&o._onAdd(t,i)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,o){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,o),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),o=t.pop();return t.shift(),new RegExp(t.join("/"),o)},_isRegExpOption:function(t,o){return"url"!==t&&"string"===e.type(o)&&/^\/.*\/[igm]{0,3}$/.test(o)},_initDataAttributes:function(){var t=this,o=this.options,n=this.element.data();e.each(this.element[0].attributes,(function(e,i){var r,s=i.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),r=n[s],t._isRegExpOption(s,r)&&(r=t._getRegExp(r)),o[s]=r)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var o=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,o._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var o,n,i=this,r=e.Deferred(),s=r.promise();return s.abort=function(){return n=!0,o?o.abort():(r.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always((function(e){n||(e.length?(t.files=e,(o=i._onSend(null,t)).then((function(e,t,o){r.resolve(e,t,o)}),(function(e,t,o){r.reject(e,t,o)}))):r.reject())})),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(o,n){var i=e(this);n.process((function(){return i.fileupload("process",n)})),t.call(this,o,n)}},processActions:{},_processFile:function(t,o){var n=this,i=e.Deferred().resolveWith(n,[t]).promise();return this._trigger("process",null,t),e.each(t.processQueue,(function(t,r){var s=function(t){return o.errorThrown?e.Deferred().rejectWith(n,[o]).promise():n.processActions[r.action].call(n,t,r)};i=i.pipe(s,r.always&&s)})),i.done((function(){n._trigger("processdone",null,t),n._trigger("processalways",null,t)})).fail((function(){n._trigger("processfail",null,t),n._trigger("processalways",null,t)})),i},_transformProcessQueue:function(t){var o=[];e.each(t.processQueue,(function(){var n={},i=this.action,r=!0===this.prefix?i:this.prefix;e.each(this,(function(o,i){"string"===e.type(i)&&"@"===i.charAt(0)?n[o]=t[i.slice(1)||(r?r+o.charAt(0).toUpperCase()+o.slice(1):o)]:n[o]=i})),o.push(n)})),t.processQueue=o},processing:function(){return this._processing},process:function(t){var o=this,n=e.extend({},this.options,t);return n.processQueue&&n.processQueue.length&&(this._transformProcessQueue(n),0===this._processing&&this._trigger("processstart"),e.each(t.files,(function(i){var r=i?e.extend({},n):n,s=function(){return t.errorThrown?e.Deferred().rejectWith(o,[t]).promise():o._processFile(r,t)};r.index=i,o._processing+=1,o._processingQueue=o._processingQueue.pipe(s,s).always((function(){o._processing-=1,0===o._processing&&o._trigger("processstop")}))}))),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,o){if(o.disabled)return t;var n,i=e.Deferred(),r=this.options,s=t.files[t.index];return(o.minFileSize||o.maxFileSize)&&(n=s.size),"number"===e.type(o.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+t.files.length>o.maxNumberOfFiles?s.error=r.i18n("maxNumberOfFiles"):!o.acceptFileTypes||o.acceptFileTypes.test(s.type)||o.acceptFileTypes.test(s.name)?n>o.maxFileSize?s.error=r.i18n("maxFileSize"):"number"===e.type(n)&&n<o.minFileSize?s.error=r.i18n("minFileSize"):delete s.error:s.error=r.i18n("acceptFileTypes"),s.error||t.files.error?(t.files.error=!0,i.rejectWith(this,[t])):i.resolveWith(this,[t]),i.promise()}}})})),function(e){"use strict";var t=function(o,n){this.options=e.extend({},t.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(o),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};function o(o){return this.each((function(){var n=e(this),i=n.data("bs.affix"),r="object"==typeof o&&o;i||n.data("bs.affix",i=new t(this,r)),"string"==typeof o&&i[o]()}))}t.VERSION="3.3.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,o,n){var i=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=o&&"top"==this.affixed)return i<o&&"top";if("bottom"==this.affixed)return null!=o?!(i+this.unpin<=r.top)&&"bottom":!(i+s<=e-n)&&"bottom";var a=null==this.affixed,l=a?i:r.top;return null!=o&&l<=o?"top":null!=n&&l+(a?s:t)>=e-n&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o=this.$element.height(),n=this.options.offset,i=n.top,r=n.bottom,s=e("body").height();"object"!=typeof n&&(r=i=n),"function"==typeof i&&(i=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,o,i,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-o-r})}};var n=e.fn.affix;e.fn.affix=o,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var t=e(this),n=t.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),o.call(t,n)}))}))}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',o=function(o){e(o).on("click",t,this.close)};o.VERSION="3.3.1",o.TRANSITION_DURATION=150,o.prototype.close=function(t){var n=e(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=e(i);function s(){r.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s())};var n=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new o(this)),"string"==typeof t&&i[t].call(n)}))},e.fn.alert.Constructor=o,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,o.prototype.close)}(jQuery),function(e){"use strict";var t=function(o,n){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,n),this.isLoading=!1};function o(o){return this.each((function(){var n=e(this),i=n.data("bs.button"),r="object"==typeof o&&o;i||n.data("bs.button",i=new t(this,r)),"toggle"==o?i.toggle():o&&i.setState(o)}))}t.VERSION="3.3.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var o="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(e.proxy((function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(o).attr(o,o)):this.isLoading&&(this.isLoading=!1,n.removeClass(o).removeAttr(o))}),this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var o=this.$element.find("input");"radio"==o.prop("type")&&(o.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&o.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=o,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),o.call(n,"toggle"),t.preventDefault()})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))}))}(jQuery),function(e){"use strict";var t=function(t,o){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=o,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function o(o){return this.each((function(){var n=e(this),i=n.data("bs.carousel"),r=e.extend({},t.DEFAULTS,n.data(),"object"==typeof o&&o),s="string"==typeof o?o:r.slide;i||n.data("bs.carousel",i=new t(this,r)),"number"==typeof o?i.to(o):s?i[s]():r.interval&&i.pause().cycle()}))}t.VERSION="3.3.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var o="prev"==e?-1:1,n=(this.getItemIndex(t)+o)%this.$items.length;return this.$items.eq(n)},t.prototype.to=function(e){var t=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){t.to(e)})):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(o,n){var i=this.$element.find(".item.active"),r=n||this.getItemForDirection(o,i),s=this.interval,a="next"==o?"left":"right",l="next"==o?"first":"last",c=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[l]()}if(r.hasClass("active"))return this.sliding=!1;var u=r[0],g=e.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(g),!g.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(o),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",(function(){r.removeClass([o,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger(h)}),0)})).emulateTransitionEnd(t.TRANSITION_DURATION)):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=o,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var i=function(t){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),o.call(r,s),a&&r.data("bs.carousel").to(a),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var t=e(this);o.call(t,t.data())}))}))}(jQuery),function(e){"use strict";var t=function(o,n){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+o.id+'"], [data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function o(t){var o,n=t.attr("data-target")||(o=t.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function n(o){return this.each((function(){var n=e(this),i=n.data("bs.collapse"),r=e.extend({},t.DEFAULTS,n.data(),"object"==typeof o&&o);!i&&r.toggle&&"show"==o&&(r.toggle=!1),i||n.data("bs.collapse",i=new t(this,r)),"string"==typeof o&&i[o]()}))}t.VERSION="3.3.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var o,i=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(i&&i.length&&(o=i.data("bs.collapse"))&&o.transitioning)){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),o||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[s](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy((function(t,n){var i=e(n);this.addAriaAndCollapsedClass(o(i),i)}),this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var o=e.hasClass("in");e.attr("aria-expanded",o),t.toggleClass("collapsed",!o).attr("aria-expanded",o)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){var i=e(this);i.attr("data-target")||t.preventDefault();var r=o(i),s=r.data("bs.collapse")?"toggle":e.extend({},i.data(),{trigger:this});n.call(r,s)}))}(jQuery),function(e){"use strict";var t=".dropdown-backdrop",o='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(n){n&&3===n.which||(e(t).remove(),e(o).each((function(){var t=e(this),o=r(t),i={relatedTarget:this};o.hasClass("open")&&(o.trigger(n=e.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",i)))})))}function r(t){var o=t.attr("data-target");o||(o=(o=t.attr("href"))&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var n=o&&e(o);return n&&n.length?n:t.parent()}n.VERSION="3.3.1",n.prototype.toggle=function(t){var o=e(this);if(!o.is(".disabled, :disabled")){var n=r(o),s=n.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var a={relatedTarget:this};if(n.trigger(t=e.Event("show.bs.dropdown",a)),t.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var i=r(n),s=i.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&i.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.divider):visible a",l=i.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var o=e(this),i=o.data("bs.dropdown");i||o.data("bs.dropdown",i=new n(this)),"string"==typeof t&&i[t].call(o)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",o,n.prototype.toggle).on("keydown.bs.dropdown.data-api",o,n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',n.prototype.keydown)}(jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};function o(o){return this.each((function(){var n=e(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new t(this)),"string"==typeof o&&i[o]()}))}t.VERSION="3.3.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,o=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=o.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),o),this.activate(a,a.parent(),(function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})}))}}},t.prototype.activate=function(o,n,i){var r=n.find("> .active"),s=i&&e.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu")&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),r.removeClass("in")};var n=e.fn.tab;e.fn.tab=o,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var i=function(t){t.preventDefault(),o.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var o=!1,n=this;return e(this).one("bsTransitionEnd",(function(){o=!0})),setTimeout((function(){o||e(n).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var o in t)if(void 0!==e.style[o])return{end:t[o]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(e){"use strict";function t(o,n){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(o).is("body")?e(window):e(o),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function o(o){return this.each((function(){var n=e(this),i=n.data("bs.scrollspy"),r="object"==typeof o&&o;i||n.data("bs.scrollspy",i=new t(this,r)),"string"==typeof o&&i[o]()}))}t.VERSION="3.3.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",o=0;e.isWindow(this.$scrollElement[0])||(t="position",o=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map((function(){var n=e(this),i=n.data("target")||n.attr("href"),r=/^#./.test(i)&&e(i);return r&&r.length&&r.is(":visible")&&[[r[t]().top+o,i]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){n.offsets.push(this[0]),n.targets.push(this[1])}))},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),n=this.options.offset+o-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=o&&this.refresh(),t>=n)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)s!=r[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var o=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(o).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=o,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);o.call(t,t.data())}))}))}(jQuery),function(e){"use strict";var t=function(t,o){this.options=o,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};function o(o,n){return this.each((function(){var i=e(this),r=i.data("bs.modal"),s=e.extend({},t.DEFAULTS,i.data(),"object"==typeof o&&o);r||i.data("bs.modal",r=new t(this,s)),"string"==typeof o?r[o](n):s.show&&r.show(n)}))}t.VERSION="3.3.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(o){var n=this,i=e.Event("show.bs.modal",{relatedTarget:o});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.options.backdrop&&n.adjustBackdrop(),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:o});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",(function(){n.$element.trigger("focus").trigger(r)})).emulateTransitionEnd(t.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)})))},t.prototype.hide=function(o){o&&o.preventDefault(),o=e.Event("hide.bs.modal"),this.$element.trigger(o),this.isShown&&!o.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(o){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy((function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!o)return;r?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),o&&o()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):s()}else o&&o()},t.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},t.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=o,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&t.preventDefault(),r.one("show.bs.modal",(function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",(function(){n.is(":visible")&&n.trigger("focus")}))})),o.call(r,s,this)}))}(jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.1",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,o,n){this.enabled=!0,this.type=t,this.$element=e(o),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},o=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){o[e]!=n&&(t[e]=n)})),t},t.prototype.enter=function(t){var o=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(o&&o.$tip&&o.$tip.is(":visible"))o.hoverState="in";else{if(o||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o)),clearTimeout(o.timeout),o.hoverState="in",!o.options.delay||!o.options.delay.show)return o.show();o.timeout=setTimeout((function(){"in"==o.hoverState&&o.show()}),o.options.delay.show)}},t.prototype.leave=function(t){var o=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(o||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o)),clearTimeout(o.timeout),o.hoverState="out",!o.options.delay||!o.options.delay.hide)return o.hide();o.timeout=setTimeout((function(){"out"==o.hoverState&&o.hide()}),o.options.delay.hide)},t.prototype.show=function(){var o=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(o.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),g=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var h=a,p=this.options.container?e(this.options.container):this.$element.parent(),f=this.getPosition(p);a="bottom"==a&&u.bottom+d>f.bottom?"top":"top"==a&&u.top-d<f.top?"bottom":"right"==a&&u.right+g>f.width?"left":"left"==a&&u.left-g<f.left?"right":a,r.removeClass(h).addClass(a)}var m=this.getCalculatedOffset(a,u,g,d);this.applyPlacement(m,a);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}},t.prototype.applyPlacement=function(t,o){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==o&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(o,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var g=/top|bottom/.test(o),d=g?2*u.left-i+l:2*u.top-r+c,h=g?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],g)},t.prototype.replaceArrow=function(e,t,o){this.arrow().css(o?"left":"top",50*(1-e/t)+"%").css(o?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(o){var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);function s(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),o&&o()}if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var o=(t=t||this.$element)[0],n="BODY"==o.tagName,i=o.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=n?{top:0,left:0}:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,a,r)},t.prototype.getCalculatedOffset=function(e,t,o,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-o/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-o/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-o}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,o,n){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+n;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+o;c<s.left?i.left=s.left-c:u>s.width&&(i.left=s.left+s.width-u)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var o=this;t&&((o=e(t.currentTarget).data("bs."+this.type))||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o))),o.tip().hasClass("in")?o.leave(o):o.enter(o)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide((function(){e.$element.off("."+e.type).removeData("bs."+e.type)}))};var o=e.fn.tooltip;e.fn.tooltip=function(o){return this.each((function(){var n=e(this),i=n.data("bs.tooltip"),r="object"==typeof o&&o,s=r&&r.selector;(i||"destroy"!=o)&&(s?(i||n.data("bs.tooltip",i={}),i[s]||(i[s]=new t(this,r))):i||n.data("bs.tooltip",i=new t(this,r)),"string"==typeof o&&i[o]())}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=o,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype)).constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),o=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof o?"html":"append":"text"](o),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var o=e.fn.popover;e.fn.popover=function(o){return this.each((function(){var n=e(this),i=n.data("bs.popover"),r="object"==typeof o&&o,s=r&&r.selector;(i||"destroy"!=o)&&(s?(i||n.data("bs.popover",i={}),i[s]||(i[s]=new t(this,r))):i||n.data("bs.popover",i=new t(this,r)),"string"==typeof o&&i[o]())}))},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=o,this}}(jQuery),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,(function(){"use strict";function e(e,t){var o,n=document.createElement(e||"div");for(o in t)n[o]=t[o];return n}function t(e){for(var t=1,o=arguments.length;o>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,o,n){var i=["opacity",t,~~(100*e),o,n].join("-"),r=.01+o/n*100,s=Math.max(1-(1-e)/t*(100-r),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=a&&"-"+a+"-"||"";return u[i]||(g.insertRule("@"+c+"keyframes "+i+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",g.cssRules.length),u[i]=1),i}function n(e,t){var o,n,i=e.style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;c.length>n;n++)if(void 0!==i[o=c[n]+t])return o}function i(e,t){for(var o in t)e.style[n(e,o)||o]=t[o];return e}function r(e){for(var t=1;arguments.length>t;t++){var o=arguments[t];for(var n in o)void 0===e[n]&&(e[n]=o[n])}return e}function s(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function a(e){return void 0===this?new a(e):void(this.opts=r(e||{},a.defaults,d))}var l,c=["webkit","Moz","ms","O"],u={},g=function(){var o=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],o),o.sheet||o.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};a.defaults={},r(a.prototype,{spin:function(t){this.stop();var o,n,r=this,a=r.opts,c=r.el=i(e(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(t&&(t.insertBefore(c,t.firstChild||null),n=s(t),o=s(c),i(c,{left:("auto"==a.left?n.x-o.x+(t.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?n.y-o.y+(t.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),c.setAttribute("role","progressbar"),r.lines(c,r.opts),!l){var g,d=0,h=(a.lines-1)*(1-a.direction)/2,p=a.fps,f=p/a.speed,m=(1-a.opacity)/(f*a.trail/100),v=f/a.lines;!function e(){d++;for(var t=0;a.lines>t;t++)g=Math.max(1-(d+(a.lines-t)*v)%f*m,a.opacity),r.opacity(c,t*a.direction+h,g,a);r.timeout=r.el&&setTimeout(e,~~(1e3/p))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,r){function s(t,o){return i(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*c+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var a,c=0,u=(r.lines-1)*(1-r.direction)/2;r.lines>c;c++)a=i(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&o(r.opacity,r.trail,u+c*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(a,i(s("#000","0 0 4px #000"),{top:"2px"})),t(n,t(a,s(r.color,"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,o){e.childNodes.length>t&&(e.childNodes[t].style.opacity=o)}});var h=i(e("group"),{behavior:"url(#default#VML)"});return!n(h,"transform")&&h.adj?function(){function o(t,o){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',o)}g.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,n){function r(){return i(o("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function s(e,s,a){t(g,t(i(r(),{rotation:360/n.lines*e+"deg",left:~~s}),t(i(o("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),o("fill",{color:n.color,opacity:n.opacity}),o("stroke",{opacity:0}))))}var a,l=n.length+n.width,c=2*l,u=2*-(n.width+n.length)+"px",g=i(r(),{position:"absolute",top:u,left:u});if(n.shadow)for(a=1;n.lines>=a;a++)s(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;n.lines>=a;a++)s(a);return t(e,g)},a.prototype.opacity=function(e,t,o,n){var i=e.firstChild;n=n.shadow&&n.lines||0,i&&i.childNodes.length>t+n&&(i=(i=(i=i.childNodes[t+n])&&i.firstChild)&&i.firstChild)&&(i.opacity=o)}}():l=n(h,"animation"),a})),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(["spin"],t):e.Ladda=t(e.Spinner)}(this,(function(e){"use strict";function t(e){if(void 0!==e){e.querySelector(".ladda-label")||(e.innerHTML='<span class="ladda-label">'+e.innerHTML+"</span>");var t=o(e),i=document.createElement("span");i.className="ladda-spinner",e.appendChild(i);var r,s={start:function(){return e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(r),t.spin(i),this.setProgress(0),this},startAfter:function(e){return clearTimeout(r),r=setTimeout((function(){s.start()}),e),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(r),r=setTimeout((function(){t.stop()}),1e3),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var o=e.querySelector(".ladda-progress");0===t&&o&&o.parentNode?o.parentNode.removeChild(o):(o||((o=document.createElement("div")).className="ladda-progress",e.appendChild(o)),o.style.width=(t||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")}};return n.push(s),s}console.warn("Ladda button target must be defined.")}function o(t){var o,n=t.offsetHeight;n>32&&(n*=.8),t.hasAttribute("data-spinner-size")&&(n=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(o=t.getAttribute("data-spinner-color"));var i=.2*n;return new e({color:o||"#fff",lines:12,radius:i,length:.6*i,width:7>i?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}var n=[];return{bind:function(e,o){o=o||{};var n=[];"string"==typeof e?n=function(e){for(var t=[],o=0;e.length>o;o++)t.push(e[o]);return t}(document.querySelectorAll(e)):"object"==typeof e&&"string"==typeof e.nodeName&&(n=[e]);for(var i=0,r=n.length;r>i;i++)!function(){var e=n[i];if("function"==typeof e.addEventListener){var r=t(e),s=-1;e.addEventListener("click",(function(){r.startAfter(1),"number"==typeof o.timeout&&(clearTimeout(s),s=setTimeout(r.stop,o.timeout)),"function"==typeof o.callback&&o.callback.apply(null,[r])}),!1)}}()},create:t,stopAll:function(){for(var e=0,t=n.length;t>e;e++)n[e].stop()}}})),function(e){e(["jquery"],(function(e){return function(){function t(t,o){return t||(t=s()),(l=e("#"+t.containerId)).length||o&&(l=function(t){return(l=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),l}(t)),l}function o(t){for(var o=l.children(),i=o.length-1;i>=0;i--)n(e(o[i]),t)}function n(t,o,n){var i=!(!n||!n.force)&&n.force;return!(!t||!i&&0!==e(":focus",t).length||(t[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){a(t)}}),0))}function i(e){c&&c(e)}function r(o){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(t){var o=t&&!1!==c.closeMethod?c.closeMethod:c.hideMethod,n=t&&!1!==c.closeDuration?c.closeDuration:c.hideDuration,r=t&&!1!==c.closeEasing?c.closeEasing:c.hideEasing;if(!e(":focus",p).length||t)return clearTimeout(b.intervalId),p[o]({duration:n,easing:r,complete:function(){a(p),clearTimeout(h),c.onHidden&&"hidden"!==_.state&&c.onHidden(),_.state="hidden",_.endTime=new Date,i(_)}})}var c=s(),d=o.iconClass||c.iconClass;if(void 0!==o.optionsOverride&&(c=e.extend(c,o.optionsOverride),d=o.optionsOverride.iconClass||d),!function(e,t){if(e.preventDuplicates){if(t.message===u)return!0;u=t.message}return!1}(c,o)){g++,l=t(c,!0);var h=null,p=e("<div/>"),f=e("<div/>"),m=e("<div/>"),v=e("<div/>"),y=e(c.closeHtml),b={intervalId:null,hideEta:null,maxHideTime:null},_={toastId:g,state:"visible",startTime:new Date,options:c,map:o};return o.iconClass&&p.addClass(c.toastClass).addClass(d),function(){if(o.title){var e=o.title;c.escapeHtml&&(e=n(o.title)),f.append(e).addClass(c.titleClass),p.append(f)}}(),function(){if(o.message){var e=o.message;c.escapeHtml&&(e=n(o.message)),m.append(e).addClass(c.messageClass),p.append(m)}}(),c.closeButton&&(y.addClass(c.closeClass).attr("role","button"),p.prepend(y)),c.progressBar&&(v.addClass(c.progressClass),p.prepend(v)),c.rtl&&p.addClass("rtl"),c.newestOnTop?l.prepend(p):l.append(p),function(){var e="";switch(o.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}p.attr("aria-live",e)}(),p.hide(),p[c.showMethod]({duration:c.showDuration,easing:c.showEasing,complete:c.onShown}),c.timeOut>0&&(h=setTimeout(r,c.timeOut),b.maxHideTime=parseFloat(c.timeOut),b.hideEta=(new Date).getTime()+b.maxHideTime,c.progressBar&&(b.intervalId=setInterval((function(){var e=(b.hideEta-(new Date).getTime())/b.maxHideTime*100;v.width(e+"%")}),10))),c.closeOnHover&&p.hover((function(){clearTimeout(h),b.hideEta=0,p.stop(!0,!0)[c.showMethod]({duration:c.showDuration,easing:c.showEasing})}),(function(){(c.timeOut>0||c.extendedTimeOut>0)&&(h=setTimeout(r,c.extendedTimeOut),b.maxHideTime=parseFloat(c.extendedTimeOut),b.hideEta=(new Date).getTime()+b.maxHideTime)})),!c.onclick&&c.tapToDismiss&&p.click(r),c.closeButton&&y&&y.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),c.onCloseClick&&c.onCloseClick(e),r(!0)})),c.onclick&&p.click((function(e){c.onclick(e),r()})),i(_),c.debug&&console&&console.log(_),p}}function s(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},m.options)}function a(e){l||(l=t()),e.is(":visible")||(e.remove(),e=null,0===l.children().length&&(l.remove(),u=void 0))}var l,c,u,g=0,d="error",h="info",p="success",f="warning",m={clear:function(e,i){var r=s();l||t(r),n(e,r,i)||o(r)},remove:function(o){var n=s();return l||t(n),o&&0===e(":focus",o).length?void a(o):void(l.children().length&&l.remove())},error:function(e,t,o){return r({type:d,iconClass:s().iconClasses.error,message:e,optionsOverride:o,title:t})},getContainer:t,info:function(e,t,o){return r({type:h,iconClass:s().iconClasses.info,message:e,optionsOverride:o,title:t})},options:{},subscribe:function(e){c=e},success:function(e,t,o){return r({type:p,iconClass:s().iconClasses.success,message:e,optionsOverride:o,title:t})},version:"2.1.4",warning:function(e,t,o){return r({type:f,iconClass:s().iconClasses.warning,message:e,optionsOverride:o,title:t})}};return m}()}))}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,(function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,o){e.each(t,(function(e,t){return o(t,e)}))},map:e.map,filter:e.grep,every:function(t,o){var n=!0;return t?(e.each(t,(function(e,i){if(!(n=o.call(null,i,e,t)))return!1})),!!n):n},some:function(t,o){var n=!1;return t?(e.each(t,(function(e,i){if(n=o.call(null,i,e,t))return!1})),!!n):n},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,o){var n,i;return function(){var r,s,a=this,l=arguments;return r=function(){n=null,o||(i=e.apply(a,l))},s=o&&!n,clearTimeout(n),n=setTimeout(r,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var o,n,i,r,s,a;return s=0,a=function(){s=new Date,i=null,r=e.apply(o,n)},function(){var l=new Date,c=t-(l-s);return o=this,n=arguments,c<=0?(clearTimeout(i),i=null,s=l,r=e.apply(o,n)):i||(i=setTimeout(a,c)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),o=function(){"use strict";function e(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div role="listbox" class="'+e.menu+'"></div>'}}function o(e){var o={};return t.each(e,(function(e,t){o[t]="."+e})),o}function n(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var i={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(r){var s,a;return a=t.mixin({},i,r),{css:(s={css:n(),classes:a,html:e(a),selectors:o(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}}(),n=function(){"use strict";function o(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n;return n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(o.prototype,{_trigger:function(t,o){var n=e.Event("typeahead:"+t);return this.$el.trigger.call(this.$el,n,o||[]),n},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=n[e])&&this._trigger(t,[].slice.call(arguments,1))}}),o}(),i=function(){"use strict";function e(e,t,n,i){var r;if(!n)return this;for(t=t.split(o),n=i?function(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}(n,i):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function t(e,t,o){return function(){for(var n,i=0,r=e.length;!n&&i<r;i+=1)n=!1===e[i].apply(t,o);return!n}}var o=/\s+/,n=window.setImmediate?function(e){setImmediate((function(){e()}))}:function(e){setTimeout((function(){e()}),0)};return{onSync:function(t,o,n){return e.call(this,"sync",t,o,n)},onAsync:function(t,o,n){return e.call(this,"async",t,o,n)},off:function(e){var t;if(!this._callbacks)return this;for(e=e.split(o);t=e.shift();)delete this._callbacks[t];return this},trigger:function(e){var i,r,s,a,l;if(!this._callbacks)return this;for(e=e.split(o),s=[].slice.call(arguments,1);(i=e.shift())&&(r=this._callbacks[i]);)a=t(r.sync,this,[i].concat(s)),l=t(r.async,this,[i].concat(s)),a()&&n(l);return this}}}(),r=function(e){"use strict";function o(e){return r[e.toUpperCase()]||e}function n(e,n,i,r){for(var s,a=[],l=0,c=e.length;l<c;l++){var u=t.escapeRegExChars(e[l]);r&&(u=u.replace(/\S/g,o)),a.push(u)}return s=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},r={A:"[Aa--------]",B:"[Bb--]",C:"[Cc--]",D:"[Dd-----]",E:"[Ee------]",F:"[Ff--]",G:"[Gg--]",H:"[Hh---]",I:"[Ii---------]",J:"[Jj--]",K:"[Kk--]",L:"[Ll----]",M:"[Mm----]",N:"[Nn---]",O:"[Oo-----]",P:"[Pp---]",Q:"[Qq]",R:"[Rr-----]",S:"[Ss---]",T:"[Tt--]",U:"[Uu------]",V:"[Vv----]",W:"[Ww--]",X:"[Xx---]",Y:"[Yy--]",Z:"[Zz----]"};return function(o){var r;(o=t.mixin({},i,o)).node&&o.pattern&&(o.pattern=t.isArray(o.pattern)?o.pattern:[o.pattern],r=n(o.pattern,o.caseSensitive,o.wordsOnly,o.diacriticInsensitive),function e(t,o){for(var n,i=0;i<t.childNodes.length;i++)3===(n=t.childNodes[i]).nodeType?i+=o(n)?1:0:e(n,o)}(o.node,(function(t){var n,i,s;return(n=r.exec(t.data))&&(s=e.createElement(o.tagName),o.className&&(s.className=o.className),(i=t.splitText(n.index)).splitText(n[0].length),s.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(s,i)),!!n})))}}(window.document),s=function(){"use strict";function o(o,n){var i;(o=o||{}).input||e.error("input is missing"),n.mixin(this),this.$hint=e(o.hint),this.$input=e(o.input),this.$menu=e(o.menu),i=this.$input.attr("id")||t.guid(),this.$menu.attr("id",i+"_listbox"),this.$hint.attr({"aria-hidden":!0}),this.$input.attr({"aria-owns":i+"_listbox",role:"combobox","aria-autocomplete":"list","aria-expanded":!1}),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=function(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),this.onSync("cursorchange",this._updateDescendent)}function n(e,t){return o.normalizeQuery(e)===o.normalizeQuery(t)}function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},o.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(o.prototype,i,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=s[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var o;switch(e){case"up":case"down":o=!r(t);break;default:o=!1}o&&t.preventDefault()},_shouldTrigger:function(e,t){return"tab"!==e||!r(t)},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var o,i;i=!!(o=n(e,this.query))&&this.query.length!==e.length,this.query=e,t||o?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(e,t){this.$input.attr("aria-activedescendant",t)},bind:function(){var e,o,n,i,r=this;return e=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),n=t.bind(this._onKeydown,this),i=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",o).on("keydown.tt",n),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(e){s[e.which||e.keyCode]||t.defer(t.bind(r._onInput,r,e))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,o;o=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),(""===e||!o||this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,o,n;return e=this.$input.val().length,o=this.$input[0].selectionStart,t.isNumber(o)?o===e:!document.selection||((n=document.selection.createRange()).moveStart("character",-e),e===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")},setAriaExpanded:function(e){this.$input.attr("aria-expanded",e)}}),o}(),a=function(){"use strict";function o(o,n){(o=o||{}).templates=o.templates||{},o.templates.notFound=o.templates.notFound||o.templates.empty,o.source||e.error("missing source"),o.node||e.error("missing node"),o.name&&!function(e){return/^[_a-zA-Z0-9-]+$/.test(e)}(o.name)&&e.error("invalid dataset name: "+o.name),n.mixin(this),this.highlight=!!o.highlight,this.name=t.toStr(o.name||s()),this.limit=o.limit||5,this.displayFn=function(e){return e=e||t.stringify,t.isFunction(e)?e:function(t){return t[e]}}(o.display||o.displayKey),this.templates=function(o,n){return{notFound:o.notFound&&t.templatify(o.notFound),pending:o.pending&&t.templatify(o.pending),header:o.header&&t.templatify(o.header),footer:o.footer&&t.templatify(o.footer),suggestion:o.suggestion?function(n){var i=o.suggestion;return e(i(n)).attr("id",t.guid())}:function(o){return e('<div role="option">').attr("id",t.guid()).text(n(o))}}}(o.templates,this.displayFn),this.source=o.source.__ttAdapter?o.source.__ttAdapter():o.source,this.async=t.isUndefined(o.async)?this.source.length>2:!!o.async,this._resetLastSuggestion(),this.$el=e(o.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}var n,s;return n={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},s=t.getIdGenerator(),o.extractData=function(t){var o=e(t);return o.data(n.obj)?{dataset:o.data(n.dataset)||"",val:o.data(n.val)||"",obj:o.data(n.obj)||null}:null},t.mixin(o.prototype,i,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",t,!1,this.name)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",t,!0,this.name)},_renderSuggestions:function(e,t){var o;o=this._getSuggestionsFragment(e,t),this.$lastSuggestion=o.children().last(),this.$el.html(o).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var o,n;n=(o=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(o),this.$lastSuggestion=n},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(o,i){var s,a=this;return s=document.createDocumentFragment(),t.each(i,(function(t){var i,r;r=a._injectQuery(o,t),i=e(a.templates.suggestion(r)).data(n.dataset,a.name).data(n.obj,t).data(n.val,a.displayFn(t)).addClass(a.classes.suggestion+" "+a.classes.selectable),s.appendChild(i[0])})),this.highlight&&r({className:this.classes.highlight,node:s,pattern:o}),e(s)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,o){return t.isObject(o)?t.mixin({_query:e},o):o},update:function(t){function o(e){r||(r=!0,e=(e||[]).slice(0,n.limit),s=e.length,n._overwrite(t,e),s<n.limit&&n.async&&n.trigger("asyncRequested",t,n.name))}var n=this,i=!1,r=!1,s=0;this.cancel(),this.cancel=function(){i=!0,n.cancel=e.noop,n.async&&n.trigger("asyncCanceled",t,n.name)},this.source(t,o,(function(o){if(o=o||[],!i&&s<n.limit){n.cancel=e.noop;var r=Math.abs(s-n.limit);s+=r,n._append(t,o.slice(0,r)),n.async&&n.trigger("asyncReceived",t,n.name)}})),!r&&o([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),o}(),l=function(){"use strict";function o(o,n){var i=this;(o=o||{}).node||e.error("node is required"),n.mixin(this),this.$node=e(o.node),this.query=null,this.datasets=t.map(o.datasets,(function(t){var o=i.$node.find(t.node).first();return t.node=o.length?o:e("<div>").appendTo(i.$node),new a(t,n)}))}return t.mixin(o.prototype,i,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,o,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,o,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return t.every(this.datasets,t.bind((function(e){var t=e.isEmpty();return this.$node.attr("aria-expanded",!t),t}),this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,o,n,i;o=(t=e.position().top)+e.outerHeight(!0),n=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(n+t):i<o&&this.$node.scrollTop(n+(o-i))},bind:function(){var o,n=this;return o=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,o),this.$node.on("mouseover",this.selectors.selectable,(function(){n.setCursor(e(this))})),this.$node.on("mouseleave",(function(){n._removeCursor()})),t.each(this.datasets,(function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,o,n;return o=this.getActiveSelectable(),t=this._getSelectables(),-1===(n=(n=((n=(o?t.index(o):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:n)?null:t.eq(n)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?a.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){var o=e!==this.query;return o&&(this.query=e,t.each(this.datasets,(function(t){t.update(e)}))),o},empty:function(){t.each(this.datasets,(function(e){e.clear()})),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,(function(e){e.destroy()}))}}),o}(),c=function(){"use strict";function o(o){this.$el=e("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),o.$input.after(this.$el),t.each(o.menu.datasets,t.bind((function(e){e.onSync&&(e.onSync("rendered",t.bind(this.update,this)),e.onSync("cleared",t.bind(this.cleared,this)))}),this))}return t.mixin(o.prototype,{update:function(e,t){var o,n=t.length;o=1===n?{result:"result",is:"is"}:{result:"results",is:"are"},this.$el.text(n+" "+o.result+" "+o.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),o}(),u=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var o=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),o.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),o.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),o._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),o._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),o.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),g=function(){"use strict";function o(o,i){var r,s,a,l,c,u,g,d,h,p,f;(o=o||{}).input||e.error("missing input"),o.menu||e.error("missing menu"),o.eventBus||e.error("missing event bus"),i.mixin(this),this.eventBus=o.eventBus,this.minLength=t.isNumber(o.minLength)?o.minLength:1,this.input=o.input,this.menu=o.menu,this.enabled=!0,this.autoselect=!!o.autoselect,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),g=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),h=n(this,"isActive","isOpen","_onRightKeyed"),p=n(this,"_openIfActive","_onQueryChanged"),f=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",g,this).onSync("leftKeyed",d,this).onSync("rightKeyed",h,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",f,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(e){var o=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);t.each(o,(function(t){return e[t].apply(e,n)}))}}return t.mixin(o.prototype,{_hacks:function(){var o,n;o=this.input.$input||e("<div>"),n=this.menu.$node||e("<div>"),o.on("blur.tt",(function(e){var i,r,s;i=document.activeElement,r=n.is(i),s=n.has(i).length>0,t.isMsie()&&(r||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer((function(){o.focus()})))})),n.on("mousedown.tt",(function(e){e.preventDefault()}))},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,o,n){if(this._updateHint(),this.autoselect){var i=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(i)}this.eventBus.trigger("render",t,o,n)},_onAsyncRequested:function(e,t,o){this.eventBus.trigger("asyncrequest",o,t)},_onAsyncCanceled:function(e,t,o){this.eventBus.trigger("asynccancel",o,t)},_onAsyncReceived:function(e,t,o){this.eventBus.trigger("asyncreceive",o,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var o;(o=this.menu.getActiveSelectable())?this.select(o)&&(t.preventDefault(),t.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(t.preventDefault(),t.stopPropagation())},_onTabKeyed:function(e,t){var o;(o=this.menu.getActiveSelectable())?this.select(o)&&t.preventDefault():this.autoselect&&(o=this.menu.getTopSelectable())&&this.autocomplete(o)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=t.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,o,n,i,r,a;e=this.menu.getTopSelectable(),o=this.menu.getSelectableData(e),n=this.input.getInputValue(),!o||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=s.normalizeQuery(n),r=t.escapeRegExChars(i),(a=new RegExp("^(?:"+r+")(.+$)","i").exec(o.val))&&this.input.setHint(n+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.input.setAriaExpanded(!0),this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.input.setAriaExpanded(!1),this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj,t.dataset)||(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj,t.dataset),this.close(),0))},autocomplete:function(e){var t,o;return t=this.input.getQuery(),!(!(o=this.menu.getSelectableData(e))||t===o.val||this.eventBus.before("autocomplete",o.obj,o.dataset)||(this.input.setQuery(o.val),this.eventBus.trigger("autocomplete",o.obj,o.dataset),0))},moveCursor:function(e){var t,o,n,i,r,s;return t=this.input.getQuery(),o=this.menu.selectableRelativeToCursor(e),i=(n=this.menu.getSelectableData(o))?n.obj:null,r=n?n.dataset:null,s=o?o.attr("id"):null,this.input.trigger("cursorchange",s),!(this._minLengthMet()&&this.menu.update(t)||this.eventBus.before("cursorchange",i,r)||(this.menu.setCursor(o),n?"string"==typeof n.val&&this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",i,r),0))},destroy:function(){this.input.destroy(),this.menu.destroy()}}),o}();!function(){"use strict";function i(t,o){t.each((function(){var t,n=e(this);(t=n.data(h.typeahead))&&o(t,n)}))}function r(e){var o,n;o=e.data(h.www),n=e.parent().filter(o.selectors.wrapper),t.each(e.data(h.attrs),(function(o,n){t.isUndefined(o)?e.removeAttr(n):e.attr(n,o)})),e.removeData(h.typeahead).removeData(h.www).removeData(h.attr).removeClass(o.classes.input),n.length&&(e.detach().insertAfter(n),n.remove())}function a(o){var n;return(n=t.isJQuery(o)||t.isElement(o)?e(o).first():[]).length?n:null}var d,h,p;d=e.fn.typeahead,h={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},p={initialize:function(i,r){var d;return r=t.isArray(r)?r:[].slice.call(arguments,1),d=o((i=i||{}).classNames),this.each((function(){var o,p,f,m,v,y,b,_,E,w,S;t.each(r,(function(e){e.highlight=!!i.highlight})),o=e(this),p=e(d.html.wrapper),f=a(i.hint),m=a(i.menu),v=!1!==i.hint&&!f,y=!1!==i.menu&&!m,v&&(f=function(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(function(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}(e)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}(o,d)),y&&(m=e(d.html.menu).css(d.css.menu)),f&&f.val(""),o=function(e,t){e.data(h.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}(o,d),(v||y)&&(p.css(d.css.wrapper),o.css(v?d.css.input:d.css.inputWithNoHint),o.wrap(p).parent().prepend(v?f:null).append(y?m:null)),S=y?u:l,b=new n({el:o}),_=new s({hint:f,input:o,menu:m},d),E=new S({node:m,datasets:r},d),new c({$input:o,menu:E}),w=new g({input:_,menu:E,eventBus:b,minLength:i.minLength,autoselect:i.autoselect},d),o.data(h.www,d),o.data(h.typeahead,w)}))},isEnabled:function(){var e;return i(this.first(),(function(t){e=t.isEnabled()})),e},enable:function(){return i(this,(function(e){e.enable()})),this},disable:function(){return i(this,(function(e){e.disable()})),this},isActive:function(){var e;return i(this.first(),(function(t){e=t.isActive()})),e},activate:function(){return i(this,(function(e){e.activate()})),this},deactivate:function(){return i(this,(function(e){e.deactivate()})),this},isOpen:function(){var e;return i(this.first(),(function(t){e=t.isOpen()})),e},open:function(){return i(this,(function(e){e.open()})),this},close:function(){return i(this,(function(e){e.close()})),this},select:function(t){var o=!1,n=e(t);return i(this.first(),(function(e){o=e.select(n)})),o},autocomplete:function(t){var o=!1,n=e(t);return i(this.first(),(function(e){o=e.autocomplete(n)})),o},moveCursor:function(e){var t=!1;return i(this.first(),(function(o){t=o.moveCursor(e)})),t},val:function(e){var o;return arguments.length?(i(this,(function(o){o.setVal(t.toStr(e))})),this):(i(this.first(),(function(e){o=e.getVal()})),o)},destroy:function(){return i(this,(function(e,t){r(t),e.destroy()})),this}},e.fn.typeahead=function(e){return p[e]?p[e].apply(this,[].slice.call(arguments,1)):p.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=d,this}}()})),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}((function(){var e="object",t="function",o="undefined",n=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],i=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],r=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],s=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function a(o,n){var i=typeof o[n];return i==t||!(i!=e||!o[n])||"unknown"==i}function l(t,o){return!(typeof t[o]!=e||!t[o])}function c(e,t){return typeof e[t]!=o}function u(e){return function(t,o){for(var n=o.length;n--;)if(!e(t,o[n]))return!1;return!0}}var g=u(a),d=u(l),h=u(c);function p(e){return e&&g(e,s)&&h(e,r)}function f(e){return l(e,"body")?e.body:e.getElementsByTagName("body")[0]}var m,v={},y={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:l,isHostProperty:c,areHostMethods:g,areHostObjects:d,areHostProperties:h,isTextRange:p,getBody:f},features:{},modules:v,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==o||rangyAutoInitialize}};function b(e){l(window,"console")&&a(window.console,"log")&&window.console.log(e)}function _(e,t){t?window.alert(e):b(e)}function E(e){y.initialized=!0,y.supported=!1,_("Rangy is not supported on this page in your browser. Reason: "+e,y.config.alertOnFail)}y.fail=E,y.warn=function(e){_("Rangy warning: "+e,y.config.alertOnWarn)},{}.hasOwnProperty?y.util.extend=function(e,t,o){var n,i;for(var r in t)t.hasOwnProperty(r)&&(n=e[r],i=t[r],o&&null!==n&&"object"==typeof n&&null!==i&&"object"==typeof i&&y.util.extend(n,i,!0),e[r]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:E("hasOwnProperty not supported"),function(){var e=document.createElement("div");e.appendChild(document.createElement("span"));var t,o=[].slice;try{1==o.call(e.childNodes,0)[0].nodeType&&(t=function(e){return o.call(e,0)})}catch(e){}t||(t=function(e){for(var t=[],o=0,n=e.length;o<n;++o)t[o]=e[o];return t}),y.util.toArray=t}(),a(document,"addEventListener")?m=function(e,t,o){e.addEventListener(t,o,!1)}:a(document,"attachEvent")?m=function(e,t,o){e.attachEvent("on"+t,o)}:E("Document does not have required addEventListener or attachEvent method"),y.util.addListener=m;var w=[];function S(e){return e.message||e.description||String(e)}function T(){if(!y.initialized){var e,t=!1,o=!1;a(document,"createRange")&&(e=document.createRange(),g(e,i)&&h(e,n)&&(t=!0));var r=f(document);if(r&&"body"==r.nodeName.toLowerCase())if(r&&a(r,"createTextRange")&&p(e=r.createTextRange())&&(o=!0),t||o){var s;for(var l in y.initialized=!0,y.features={implementsDomRange:t,implementsTextRange:o},v)(s=v[l])instanceof A&&s.init(s,y);for(var c=0,u=w.length;c<u;++c)try{w[c](y)}catch(e){b("Rangy init listener threw an exception. Continuing. Detail: "+S(e))}}else E("Neither Range nor TextRange are available");else E("No body element found")}}y.init=T,y.addInitListener=function(e){y.initialized?e(y):w.push(e)};var C=[];function A(e,t,o){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=o}function x(e,t,o,n){var i=new A(t,o,(function(e){if(!e.initialized){e.initialized=!0;try{n(y,e),e.supported=!0}catch(e){b("Module '"+t+"' failed to load: "+S(e))}}}));v[t]=i}function I(){}y.addShimListener=function(e){C.push(e)},y.shim=y.createMissingNativeApi=function(e){e=e||window,T();for(var t=0,o=C.length;t<o;++t)C[t](e)},A.prototype={init:function(){for(var e,t,o=this.dependencies||[],n=0,i=o.length;n<i;++n){if(t=o[n],!((e=v[t])&&e instanceof A))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){y.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){y.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},y.createModule=function(e){var t,o;2==arguments.length?(t=arguments[1],o=[]):(t=arguments[2],o=arguments[1]);var n=x(0,e,o,t);y.initialized&&n.init()},y.createCoreModule=function(e,t,o){x(0,e,t,o)},y.RangePrototype=I,y.rangePrototype=new I,y.selectionPrototype=new function(){};var N=!1,D=function(e){N||(N=!0,!y.initialized&&y.config.autoInitialize&&T())};if(typeof window!=o){if(typeof document!=o)return a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",D,!1),m(window,"load",D),y.createCoreModule("DomUtil",[],(function(e,t){var o="undefined",n=e.util;n.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),n.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var i=document.createElement("div");n.areHostMethods(i,["insertBefore","appendChild","cloneNode"]||!n.areHostObjects(i,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),n.isHostProperty(i,"innerHTML")||t.fail("Element is missing innerHTML property");var r=document.createTextNode("test");n.areHostMethods(r,["splitText","deleteData","insertData","appendData","cloneNode"]||!n.areHostObjects(i,["previousSibling","nextSibling","childNodes","parentNode"])||!n.areHostProperties(r,["data"]))||t.fail("Incomplete Text Node implementation");var s=function(e,t){for(var o=e.length;o--;)if(e[o]===t)return!0;return!1};function a(e){for(var t=0;e=e.previousSibling;)++t;return t}function l(e,t){var o,n=[];for(o=e;o;o=o.parentNode)n.push(o);for(o=t;o;o=o.parentNode)if(s(n,o))return o;return null}function c(e,t,o){for(var n=o?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function u(e,t,o){for(var n,i=o?e:e.parentNode;i;){if((n=i.parentNode)===t)return i;i=n}return null}function g(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e,t){var o=t.nextSibling,n=t.parentNode;return o?n.insertBefore(e,o):n.appendChild(e),e}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=o)return e.ownerDocument;if(typeof e.document!=o)return e.document;if(e.parentNode)return h(e.parentNode);throw t.createError("getDocument: no document found for node")}function p(e){var n=h(e);if(typeof n.defaultView!=o)return n.defaultView;if(typeof n.parentWindow!=o)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function f(e){if(typeof e.contentDocument!=o)return e.contentDocument;if(typeof e.contentWindow!=o)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function m(e){return e&&n.isHostMethod(e,"setTimeout")&&n.isHostObject(e,"document")}var v,y=!1;function b(e){try{return e.parentNode,!1}catch(e){return!0}}function _(e){if(!e)return"[No node]";if(y&&b(e))return"[Broken node]";if(g(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+a(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function E(e){this.root=e,this._next=e}function w(e,t){this.node=e,this.offset=t}function S(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var o=t.firstChild;t.innerHTML="<br>",y=b(o),e.features.crashyTextNodes=y}(),typeof window.getComputedStyle!=o?v=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=o?v=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),E.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,o=this._current=this._next;if(this._current)if(e=o.firstChild)this._next=e;else{for(t=null;o!==this.root&&!(t=o.nextSibling);)o=o.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},w.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},S.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},S.prototype.toString=function(){return this.message},e.dom={arrayContains:s,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==o||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:a,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:l,isAncestorOf:c,isOrIsAncestorOf:function(e,t){return c(e,t,!0)},getClosestAncestorIn:u,isCharacterDataNode:g,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:d,splitDataNode:function(e,t,o){var n=e.cloneNode(!1);if(n.deleteData(0,t),e.deleteData(t,e.length-t),d(n,e),o)for(var i,r=0;i=o[r++];)i.node==e&&i.offset>t?(i.node=n,i.offset-=t):i.node==e.parentNode&&i.offset>a(e)&&++i.offset;return n},getDocument:h,getWindow:p,getIframeWindow:function(e){if(typeof e.contentWindow!=o)return e.contentWindow;if(typeof e.contentDocument!=o)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:f,getBody:n.getBody,isWindow:m,getContentDocument:function(e,t,o){var i;if(e?n.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?f(e):h(e):m(e)&&(i=e.document):i=document,!i)throw t.createError(o+"(): Parameter must be a Window object or DOM node");return i},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,o,n,i){var r,s,c,g,d;if(e==n)return o===i?0:o<i?-1:1;if(r=u(n,e,!0))return o<=a(r)?-1:1;if(r=u(e,n,!0))return a(r)<i?-1:1;if(!(s=l(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((c=e===s?s:u(e,s,!0))===(g=n===s?s:u(n,s,!0)))throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=s.firstChild;d;){if(d===c)return-1;if(d===g)return 1;d=d.nextSibling}},isBrokenNode:b,inspectNode:_,getComputedStyleProperty:v,fragmentFromNodeChildren:function(e){for(var t,o=h(e).createDocumentFragment();t=e.firstChild;)o.appendChild(t);return o},createIterator:function(e){return new E(e)},DomPosition:w},e.DOMException=S})),y.createCoreModule("DomRange",["DomUtil"],(function(e,t){var o=e.dom,n=e.util,i=o.DomPosition,r=e.DOMException,s=o.isCharacterDataNode,a=o.getNodeIndex,l=o.isOrIsAncestorOf,c=o.getDocument,u=o.comparePoints,g=o.splitDataNode,d=o.getClosestAncestorIn,h=o.getNodeLength,p=o.arrayContains,f=o.getRootContainer,m=e.features.crashyTextNodes;function v(e,t){return 3!=e.nodeType&&(l(e,t.startContainer)||l(e,t.endContainer))}function y(e){return e.document||c(e.startContainer)}function b(e){return new i(e.parentNode,a(e))}function _(e){return new i(e.parentNode,a(e)+1)}function E(e,t,n){var i=11==e.nodeType?e.firstChild:e;return s(t)?n==t.length?o.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:g(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function w(e,t,o){if(V(e),V(t),y(t)!=y(e))throw new r("WRONG_DOCUMENT_ERR");var n=u(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=u(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return o?n<=0&&i>=0:n<0&&i>0}function S(e){for(var t,o,n,i=y(e.range).createDocumentFragment();o=e.next();){if(t=e.isPartiallySelectedSubtree(),o=o.cloneNode(!t),t&&(n=e.getSubtreeIterator(),o.appendChild(S(n)),n.detach()),10==o.nodeType)throw new r("HIERARCHY_REQUEST_ERR");i.appendChild(o)}return i}function T(e,t,n){var i,r,s,a;for(n=n||{stop:!1};s=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(s))return void(n.stop=!0);if(T(a=e.getSubtreeIterator(),t,n),a.detach(),n.stop)return}else for(i=o.createIterator(s);r=i.next();)if(!1===t(r))return void(n.stop=!0)}function C(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(C(t=e.getSubtreeIterator()),t.detach()):e.remove()}function A(e){for(var t,o,n=y(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),o=e.getSubtreeIterator(),t.appendChild(A(o)),o.detach()):e.remove(),10==t.nodeType)throw new r("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function x(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+o.inspectNode(e.startContainer)+":"+e.startOffset+", "+o.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function I(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var o=e.commonAncestorContainer;this.sc===this.ec&&s(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==o||s(this.sc)?d(this.sc,o,!0):this.sc.childNodes[this.so],this._last=this.ec!==o||s(this.ec)?d(this.ec,o,!0):this.ec.childNodes[this.eo-1])}}I.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,s(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,o=this._current;!s(o)||o!==this.sc&&o!==this.ec?o.parentNode&&o.parentNode.removeChild(o):(e=o===this.sc?this.so:0)!=(t=o===this.ec?this.eo:o.length)&&o.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return v(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new he(y(this.range));var t=this._current,o=t,n=0,i=t,r=h(t);l(t,this.sc)&&(o=this.sc,n=this.so),l(t,this.ec)&&(i=this.ec,r=this.eo),de(e,o,n,i,r)}return new I(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var N=[1,3,4,5,7,8,10],D=[2,9,11],k=[1,3,4,5,7,8,10,11],R=[1,3,4,5,7,8];function O(e){return function(t,o){for(var n,i=o?t:t.parentNode;i;){if(n=i.nodeType,p(e,n))return i;i=i.parentNode}return null}}var L=O([9,11]),P=O([5,6,10,12]),M=O([6,10,12]);function H(e,t){if(M(e,t))throw new r("INVALID_NODE_TYPE_ERR")}function U(e,t){if(!p(t,e.nodeType))throw new r("INVALID_NODE_TYPE_ERR")}function F(e,t){if(t<0||t>(s(e)?e.length:e.childNodes.length))throw new r("INDEX_SIZE_ERR")}function B(e,t){if(L(e,!0)!==L(t,!0))throw new r("WRONG_DOCUMENT_ERR")}function j(e){if(P(e,!0))throw new r("NO_MODIFICATION_ALLOWED_ERR")}function W(e,t){if(!e)throw new r(t)}function q(e){return m&&o.isBrokenNode(e)||!p(D,e.nodeType)&&!L(e,!0)}function z(e,t){return t<=(s(e)?e.length:e.childNodes.length)}function $(e){return!!e.startContainer&&!!e.endContainer&&!q(e.startContainer)&&!q(e.endContainer)&&z(e.startContainer,e.startOffset)&&z(e.endContainer,e.endOffset)}function V(e){if(!$(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}var X=document.createElement("style"),G=!1;try{X.innerHTML="<b>x</b>",G=3==X.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=G;var Y=G?function(e){var t=this.startContainer,n=c(t);if(!t)throw new r("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:s(t)&&(i=o.parentElement(t)),(i=null===i||"HTML"==i.nodeName&&o.isHtmlNamespace(c(i).documentElement)&&o.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1)).innerHTML=e,o.fragmentFromNodeChildren(i)}:function(e){var t=y(this).createElement("body");return t.innerHTML=e,o.fragmentFromNodeChildren(t)};function K(e,t){V(e);var o=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset,l=o===i;s(i)&&r>0&&r<i.length&&g(i,r,t),s(o)&&n>0&&n<o.length&&(o=g(o,n,t),l?(r-=n,i=o):i==o.parentNode&&r>=a(o)&&r++,n=0),e.setStartAndEnd(o,n,i,r)}function Q(e){V(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,ee=1,te=2,oe=3,ne=0,ie=1,re=2,se=3;function ae(e){e.START_TO_START=Z,e.START_TO_END=ee,e.END_TO_END=te,e.END_TO_START=oe,e.NODE_BEFORE=ne,e.NODE_AFTER=ie,e.NODE_BEFORE_AND_AFTER=re,e.NODE_INSIDE=se}function le(e){ae(e),ae(e.prototype)}function ce(e,t){return function(){V(this);var o,n=this.startContainer,i=this.startOffset,r=this.commonAncestorContainer,s=new I(this,!0);n!==r&&(n=(o=_(d(n,r,!0))).node,i=o.offset),T(s,j),s.reset();var a=e(s);return s.detach(),t(this,n,i,n,i),a}}function ue(t,o){function i(e,t){return function(o){U(o,N),U(f(o),D);var n=(e?b:_)(o);(t?r:l)(this,n.node,n.offset)}}function r(e,t,n){var i=e.endContainer,r=e.endOffset;t===e.startContainer&&n===e.startOffset||(f(t)==f(i)&&1!=u(t,n,i,r)||(i=t,r=n),o(e,t,n,i,r))}function l(e,t,n){var i=e.startContainer,r=e.startOffset;t===e.endContainer&&n===e.endOffset||(f(t)==f(i)&&-1!=u(t,n,i,r)||(i=t,r=n),o(e,i,r,t,n))}var c=function(){};c.prototype=e.rangePrototype,t.prototype=new c,n.extend(t.prototype,{setStart:function(e,t){H(e,!0),F(e,t),r(this,e,t)},setEnd:function(e,t){H(e,!0),F(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,r=n;switch(e.length){case 3:r=e[2];break;case 4:i=e[2],r=e[3]}o(this,t,n,i,r)},setBoundary:function(e,t,o){this["set"+(o?"Start":"End")](e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){V(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){H(e,!0),o(this,e,0,e,h(e))},selectNode:function(e){H(e,!1),U(e,N);var t=b(e),n=_(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:ce(A,o),deleteContents:ce(C,o),canSurroundContents:function(){V(this),j(this.startContainer),j(this.endContainer);var e=new I(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},splitBoundaries:function(){K(this)},splitBoundariesPreservingPositions:function(e){K(this,e)},normalizeBoundaries:function(){V(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},l=function(o){var r=o.previousSibling;if(r&&r.nodeType==o.nodeType){e=o;var s=o.length;if(t=r.length,o.insertData(0,r.data),r.parentNode.removeChild(r),e==n)i+=t,n=e;else if(n==o.parentNode){var l=a(o);i==l?(n=o,i=s):i>l&&i--}}},c=!0;if(s(n))n.length==i&&r(n);else{if(i>0){var u=n.childNodes[i-1];u&&s(u)&&r(u)}c=!this.collapsed}if(c){if(s(e))0==t&&l(e);else if(t<e.childNodes.length){var g=e.childNodes[t];g&&s(g)&&l(g)}}else e=n,t=i;o(this,e,t,n,i)},collapseToPoint:function(e,t){H(e,!0),F(e,t),this.setStartAndEnd(e,t)}}),le(t)}function ge(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:o.getCommonAncestor(e.startContainer,e.endContainer)}function de(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=o.getDocument(t),ge(e)}function he(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ge(this)}n.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var o,n,i,r;V(this),B(this.startContainer,t.startContainer);var s=e==oe||e==Z?"start":"end",a=e==ee||e==Z?"start":"end";return o=this[s+"Container"],n=this[s+"Offset"],i=t[a+"Container"],r=t[a+"Offset"],u(o,n,i,r)},insertNode:function(e){if(V(this),U(e,k),j(this.startContainer),l(e,this.startContainer))throw new r("HIERARCHY_REQUEST_ERR");var t=E(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(V(this),this.collapsed)return y(this).createDocumentFragment();if(this.startContainer===this.endContainer&&s(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=y(this).createDocumentFragment()).appendChild(e),t;var o=new I(this,!0);return e=S(o),o.detach(),e},canSurroundContents:function(){V(this),j(this.startContainer),j(this.endContainer);var e=new I(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},surroundContents:function(e){if(U(e,R),!this.canSurroundContents())throw new r("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);E(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){V(this);for(var e,t=new he(y(this)),o=J.length;o--;)t[e=J[o]]=this[e];return t},toString:function(){V(this);var e=this.startContainer;if(e===this.endContainer&&s(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],o=new I(this,!0);return T(o,(function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)})),o.detach(),t.join("")},compareNode:function(e){V(this);var t=e.parentNode,o=a(e);if(!t)throw new r("NOT_FOUND_ERR");var n=this.comparePoint(t,o),i=this.comparePoint(t,o+1);return n<0?i>0?re:ne:i>0?ie:se},comparePoint:function(e,t){return V(this),W(e,"HIERARCHY_REQUEST_ERR"),B(e,this.startContainer),u(e,t,this.startContainer,this.startOffset)<0?-1:u(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Y,toHtml:function(){return Q(this)},intersectsNode:function(e,t){if(V(this),W(e,"NOT_FOUND_ERR"),c(e)!==y(this))return!1;var o=e.parentNode,n=a(e);W(o,"NOT_FOUND_ERR");var i=u(o,n,this.endContainer,this.endOffset),r=u(o,n+1,this.startContainer,this.startOffset);return t?i<=0&&r>=0:i<0&&r>0},isPointInRange:function(e,t){return V(this),W(e,"HIERARCHY_REQUEST_ERR"),B(e,this.startContainer),u(e,t,this.startContainer,this.startOffset)>=0&&u(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return w(this,e,!1)},intersectsOrTouchesRange:function(e){return w(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=u(this.startContainer,this.startOffset,e.startContainer,e.startOffset),o=u(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==o&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==u(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==u(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new r("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==se},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,h(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var o=t.getNodes([3]);if(o.length>0){t.setStart(o[0],0);var n=o.pop();return t.setEnd(n,n.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return V(this),function(e,t,o){var n,i=!(!t||!t.length),r=!!o;i&&(n=new RegExp("^("+t.join("|")+")$"));var a=[];return T(new I(e,!1),(function(t){if((!i||n.test(t.nodeType))&&(!r||o(t))){var l=e.startContainer;if(t!=l||!s(l)||e.startOffset!=l.length){var c=e.endContainer;t==c&&s(c)&&0==e.endOffset||a.push(t)}}})),a}(this,e,t)},getDocument:function(){return y(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=y(this),i=e.createRange(n);t=t||o.getBody(n),i.selectNodeContents(t);var r=this.intersection(i),s=0,a=0;return r&&(i.setEnd(r.startContainer,r.startOffset),a=(s=i.toString().length)+r.toString().length),{start:s,end:a,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,o=0;this.setStart(t,0),this.collapse(!0);for(var n,i,r,s,a=[t],l=!1,c=!1;!c&&(n=a.pop());)if(3==n.nodeType)i=o+n.length,!l&&e.start>=o&&e.start<=i&&(this.setStart(n,e.start-o),l=!0),l&&e.end>=o&&e.end<=i&&(this.setEnd(n,e.end-o),c=!0),o=i;else for(r=(s=n.childNodes).length;r--;)a.push(s[r])},getName:function(){return"DomRange"},equals:function(e){return he.rangesEqual(this,e)},isValid:function(){return $(this)},inspect:function(){return x(this)},detach:function(){}}),ue(he,de),n.extend(he,{rangeProperties:J,RangeIterator:I,copyComparisonConstants:le,createPrototypeRange:ue,inspect:x,toHtml:Q,getRangeDocument:y,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=he})),y.createCoreModule("WrappedRange",["DomRange"],(function(e,t){var o,n,i=e.dom,r=e.util,s=i.DomPosition,a=e.DomRange,l=i.getBody,c=i.getContentDocument,u=i.isCharacterDataNode;if(e.features.implementsDomRange&&function(){var n,s,u=a.rangeProperties;function g(e){for(var t,o=u.length;o--;)e[t=u[o]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}o=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,g(this)},a.createPrototypeRange(o,(function(e,t,o,n,i){var r=e.startContainer!==t||e.startOffset!=o,s=e.endContainer!==n||e.endOffset!=i,a=!e.equals(e.nativeRange);(r||s||a)&&(e.setEnd(n,i),e.setStart(t,o))})),(n=o.prototype).selectNode=function(e){this.nativeRange.selectNode(e),g(this)},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(e){this.nativeRange.surroundContents(e),g(this)},n.collapse=function(e){this.nativeRange.collapse(e),g(this)},n.cloneRange=function(){return new o(this.nativeRange.cloneRange())},n.refresh=function(){g(this)},n.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");l(document).appendChild(d);var h=document.createRange();h.setStart(d,0),h.setEnd(d,0);try{h.setStart(d,1),n.setStart=function(e,t){this.nativeRange.setStart(e,t),g(this)},n.setEnd=function(e,t){this.nativeRange.setEnd(e,t),g(this)},s=function(e){return function(t){this.nativeRange[e](t),g(this)}}}catch(e){n.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(o){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}g(this)},n.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(o){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}g(this)},s=function(e,t){return function(o){try{this.nativeRange[e](o)}catch(n){this.nativeRange[t](o),this.nativeRange[e](o)}g(this)}}}n.setStartBefore=s("setStartBefore","setEndBefore"),n.setStartAfter=s("setStartAfter","setEndAfter"),n.setEndBefore=s("setEndBefore","setStartBefore"),n.setEndAfter=s("setEndAfter","setStartAfter"),n.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},h.selectNodeContents(d),h.setEnd(d,3);var p=document.createRange();p.selectNodeContents(d),p.setEnd(d,4),p.setStart(d,2),-1==h.compareBoundaryPoints(h.START_TO_END,p)&&1==h.compareBoundaryPoints(h.END_TO_START,p)?n.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:n.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var f=document.createElement("div");f.innerHTML="123";var m=f.firstChild,v=l(document);v.appendChild(f),h.setStart(m,1),h.setEnd(m,2),h.deleteContents(),"13"==m.data&&(n.deleteContents=function(){this.nativeRange.deleteContents(),g(this)},n.extractContents=function(){var e=this.nativeRange.extractContents();return g(this),e}),v.removeChild(f),v=null,r.isHostMethod(h,"createContextualFragment")&&(n.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(d),n.getName=function(){return"WrappedRange"},e.WrappedRange=o,e.createNativeRange=function(e){return(e=c(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var g=function(e,t,o,n,r){var a=e.duplicate();a.collapse(o);var l=a.parentElement();if(i.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new s(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var g=i.getDocument(l).createElement("span");g.parentNode&&g.parentNode.removeChild(g);for(var d,h,p,f,m,v=o?"StartToStart":"StartToEnd",y=r&&r.containerElement==l?r.nodeIndex:0,b=l.childNodes.length,_=b,E=_;E==b?l.appendChild(g):l.insertBefore(g,l.childNodes[E]),a.moveToElementText(g),0!=(d=a.compareEndPoints(v,e))&&y!=_;){if(-1==d){if(_==y+1)break;y=E}else _=_==y+1?y:E;E=Math.floor((y+_)/2),l.removeChild(g)}if(m=g.nextSibling,-1==d&&m&&u(m)){var w;if(a.setEndPoint(o?"EndToStart":"EndToEnd",e),/[\r\n]/.test(m.data)){var S=a.duplicate(),T=S.text.replace(/\r\n/g,"\r").length;for(w=S.moveStart("character",T);-1==(d=S.compareEndPoints("StartToEnd",S));)w++,S.moveStart("character",1)}else w=a.text.length;f=new s(m,w)}else h=(n||!o)&&g.previousSibling,f=(p=(n||o)&&g.nextSibling)&&u(p)?new s(p,0):h&&u(h)?new s(h,h.data.length):new s(l,i.getNodeIndex(g));return g.parentNode.removeChild(g),{boundaryPosition:f,nodeInfo:{nodeIndex:E,containerElement:l}}},d=function(e,t){var o,n,r,s,a=e.offset,c=i.getDocument(e.node),g=l(c).createTextRange(),d=u(e.node);return d?n=(o=e.node).parentNode:(o=a<(s=e.node.childNodes).length?s[a]:null,n=e.node),(r=c.createElement("span")).innerHTML="&#feff;",o?n.insertBefore(r,o):n.appendChild(r),g.moveToElementText(r),g.collapse(!t),n.removeChild(r),d&&g[t?"moveStart":"moveEnd"]("character",a),g};((n=function(e){this.textRange=e,this.refresh()}).prototype=new a(document)).refresh=function(){var e,t,o,n,r=function(e){var t=e.parentElement(),o=e.duplicate();o.collapse(!0);var n=o.parentElement();(o=e.duplicate()).collapse(!1);var r=o.parentElement(),s=n==r?n:i.getCommonAncestor(n,r);return s==t?s:i.getCommonAncestor(t,s)}(this.textRange);0==(n=this.textRange).compareEndPoints("StartToEnd",n)?t=e=g(this.textRange,r,!0,!0).boundaryPosition:(e=(o=g(this.textRange,r,!0,!1)).boundaryPosition,t=g(this.textRange,r,!1,!1,o.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},n.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(n);var h=function(e){if(e.collapsed)return d(new s(e.startContainer,e.startOffset),!0);var t=d(new s(e.startContainer,e.startOffset),!0),o=d(new s(e.endContainer,e.endOffset),!1),n=l(a.getRangeDocument(e)).createTextRange();return n.setEndPoint("StartToStart",t),n.setEndPoint("EndToEnd",o),n};if(n.rangeToTextRange=h,n.prototype.toTextRange=function(){return h(this)},e.WrappedTextRange=n,!e.features.implementsDomRange||e.config.preferTextRange){var p=function(){return this}();void 0===p.Range&&(p.Range=n),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=n}}e.createRange=function(o){return o=c(o,t,"createRange"),new e.WrappedRange(e.createNativeRange(o))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new a(e)},e.createIframeRange=function(o){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(o)},e.createIframeRangyRange=function(o){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(o)},e.addShimListener((function(t){var o=t.document;void 0===o.createRange&&(o.createRange=function(){return e.createRange(o)}),o=t=null}))})),y.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],(function(e,t){e.config.checkSelectionRanges=!0;var o,n,i="boolean",r="number",s=e.dom,a=e.util,l=a.isHostMethod,c=e.DomRange,u=e.WrappedRange,g=e.DOMException,d=s.DomPosition,h=e.features,p="Control",f=s.getDocument,m=s.getBody,v=c.rangesEqual;function y(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function b(e,o){if(e){if(s.isWindow(e))return e;if(e instanceof $)return e.win;var n=s.getContentDocument(e,t,o);return s.getWindow(n)}return window}function _(e){return b(e,"getDocSelection").document.selection}function E(e){var t=!1;return e.anchorNode&&(t=1==s.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var w=l(window,"getSelection"),S=a.isHostObject(document,"selection");h.implementsWinGetSelection=w,h.implementsDocSelection=S;var T=S&&(!w||e.config.preferTextRange);T?(o=_,e.isSelectionValid=function(e){var t=b(e,"isSelectionValid").document,o=t.selection;return"None"!=o.type||f(o.createRange().parentElement())==t}):w?(o=function(e){return b(e,"getWinSelection").getSelection()},e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=o;var C=o(),A=e.createNativeRange(document),x=m(document),I=a.areHostProperties(C,["anchorNode","focusNode","anchorOffset","focusOffset"]);h.selectionHasAnchorAndFocus=I;var N=l(C,"extend");h.selectionHasExtend=N;var D=typeof C.rangeCount==r;h.selectionHasRangeCount=D;var k=!1,R=!0,O=N?function(t,o){var n=c.getRangeDocument(o),i=e.createRange(n);i.collapseToPoint(o.endContainer,o.endOffset),t.addRange(F(i)),t.extend(o.startContainer,o.startOffset)}:null;a.areHostMethods(C,["addRange","getRangeAt","removeAllRanges"])&&typeof C.rangeCount==r&&h.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var o=t.rangeCount,n=o>1,i=[],r=E(t),s=0;s<o;++s)i[s]=t.getRangeAt(s);var a=m(document),l=a.appendChild(document.createElement("div"));l.contentEditable="false";var c=l.appendChild(document.createTextNode("")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),t.addRange(u),R=1==t.rangeCount,t.removeAllRanges(),!n){var g=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(g&&parseInt(g[1])>=36)k=!1;else{var d=u.cloneRange();u.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),t.addRange(u),t.addRange(d),k=2==t.rangeCount}}for(a.removeChild(l),t.removeAllRanges(),s=0;s<o;++s)0==s&&r?O?O(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),h.selectionSupportsMultipleRanges=k,h.collapsedNonEditableSelectionsSupported=R;var L,P,M=!1;function H(e,t,o){var n=o?"end":"start",i=o?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function U(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function F(t){var o;return t instanceof c?((o=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),o.setStart(t.startContainer,t.startOffset)):t instanceof u?o=t.nativeRange:h.implementsDomRange&&t instanceof s.getWindow(t.startContainer).Range&&(o=t),o}function B(e){var o=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,o=e.length;t<o;++t)if(!s.isAncestorOf(e[0],e[t]))return!1;return!0}(o))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return o[0]}function j(e){return!!e&&void 0!==e.text}function W(e,t){var o=new u(t);e._ranges=[o],H(e,o,!1),e.rangeCount=1,e.isCollapsed=o.collapsed}function q(t){if(t._ranges.length=0,"None"==t.docSelection.type)U(t);else{var o=t.docSelection.createRange();if(j(o))W(t,o);else{t.rangeCount=o.length;for(var n,i=f(o.item(0)),r=0;r<t.rangeCount;++r)(n=e.createRange(i)).selectNode(o.item(r)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,H(t,t._ranges[t.rangeCount-1],!1)}}}function z(e,o){for(var n=e.docSelection.createRange(),i=B(o),r=f(n.item(0)),s=m(r).createControlRange(),a=0,l=n.length;a<l;++a)s.add(n.item(a));try{s.add(i)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),q(e)}function $(e,t,o){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=o,this.refresh()}function V(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}x&&l(x,"createControlRange")&&(L=x.createControlRange(),a.areHostProperties(L,["item","add"])&&(M=!0)),h.implementsControlRange=M,n=I?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},l(C,"getRangeAt")?P=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:I&&(P=function(t){var o=f(t.anchorNode),n=e.createRange(o);return n.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),n}),$.prototype=e.selectionPrototype;var X=[];function G(e,t){for(var o,n,i=X.length;i--;)if(n=(o=X[i]).selection,"deleteAll"==t)V(n);else if(o.win==e)return"delete"==t?(X.splice(i,1),!0):n;return"deleteAll"==t&&(X.length=0),null}var Y=function(e){if(e&&e instanceof $)return e.refresh(),e;var t=G(e=b(e,"getNativeSelection")),n=o(e),i=S?_(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new $(n,i,e),X.push({win:e,selection:t})),t};e.getSelection=Y,e.getIframeSelection=function(o){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(s.getIframeWindow(o))};var K,Q=$.prototype;function J(e,o){for(var n,i=f(o[0].startContainer),r=m(i).createControlRange(),s=0,a=o.length;s<a;++s){n=B(o[s]);try{r.add(n)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}r.select(),q(e)}if(!T&&I&&a.areHostMethods(C,["removeAllRanges","addRange"])){Q.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),U(this)};var Z=function(e,t){O(e.nativeSelection,t),e.refresh()};Q.addRange=D?function(t,o){var i;if(M&&S&&this.docSelection.type==p)z(this,t);else if(y(o)&&N)Z(this,t);else if(k?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(F(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var r=P(this.nativeSelection,this.rangeCount-1);r&&!v(r,t)&&(t=new u(r))}this._ranges[this.rangeCount-1]=t,H(this,t,ee(this.nativeSelection)),this.isCollapsed=n(this)}else this.refresh()}:function(e,t){y(t)&&N?Z(this,e):(this.nativeSelection.addRange(F(e)),this.refresh())},Q.setRanges=function(e){if(M&&S&&e.length>1)J(this,e);else{this.removeAllRanges();for(var t=0,o=e.length;t<o;++t)this.addRange(e[t])}}}else{if(!(l(C,"empty")&&l(A,"select")&&M&&T))return t.fail("No means of selecting a Range or TextRange was found"),!1;Q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=f(this.anchorNode);else if(this.docSelection.type==p){var t=this.docSelection.createRange();t.length&&(e=f(t.item(0)))}e&&(m(e).createTextRange().select(),this.docSelection.empty())}}catch(e){}U(this)},Q.addRange=function(t){this.docSelection.type==p?z(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,H(this,t,!1))},Q.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?J(this,e):t&&this.addRange(e[0])}}if(Q.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new g("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},T)K=function(t){var o;e.isSelectionValid(t.win)?o=t.docSelection.createRange():(o=m(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==p?q(t):j(o)?W(t,o):U(t)};else if(l(C,"getRangeAt")&&typeof C.rangeCount==r)K=function(t){if(M&&S&&t.docSelection.type==p)q(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var o=0,i=t.rangeCount;o<i;++o)t._ranges[o]=new e.WrappedRange(t.nativeSelection.getRangeAt(o));H(t,t._ranges[t.rangeCount-1],ee(t.nativeSelection)),t.isCollapsed=n(t)}else U(t)};else{if(!I||typeof C.isCollapsed!=i||typeof A.collapsed!=i||!h.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;K=function(e){var t,o=e.nativeSelection;o.anchorNode?(t=P(o,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=n(e)):U(e)}}Q.refresh=function(e){var t=e?this._ranges.slice(0):null,o=this.anchorNode,n=this.anchorOffset;if(K(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=o||this.anchorOffset!=n)return!0;for(;i--;)if(!v(t[i],this._ranges[i]))return!0;return!1}};var ee,te=function(e,t){var o=e.getAllRanges();e.removeAllRanges();for(var n=0,i=o.length;n<i;++n)v(t,o[n])||e.addRange(o[n]);e.rangeCount||U(e)};function oe(e,t){if(e.win.document!=f(t))throw new g("WRONG_DOCUMENT_ERR")}function ne(t){return function(o,n){var i;this.rangeCount?(i=this.getRangeAt(0))["set"+(t?"Start":"End")](o,n):(i=e.createRange(this.win.document)).setStartAndEnd(o,n),this.setSingleRange(i,this.isBackward())}}function ie(e){var t=[],o=new d(e.anchorNode,e.anchorOffset),n=new d(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var r=0,s=e.rangeCount;r<s;++r)t[r]=c.inspect(e.getRangeAt(r));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+o.inspect()+", focus: "+n.inspect()+"]"}Q.removeRange=M&&S?function(e){if(this.docSelection.type==p){for(var t=this.docSelection.createRange(),o=B(e),n=f(t.item(0)),i=m(n).createControlRange(),r=!1,s=0,a=t.length;s<a;++s)t.item(s)!==o||r?i.add(t.item(s)):r=!0;i.select(),q(this)}else te(this,e)}:function(e){te(this,e)},!T&&I&&h.implementsDomRange?(ee=E,Q.isBackward=function(){return ee(this)}):ee=Q.isBackward=function(){return!1},Q.isBackwards=Q.isBackward,Q.toString=function(){for(var e=[],t=0,o=this.rangeCount;t<o;++t)e[t]=""+this._ranges[t];return e.join("")},Q.collapse=function(t,o){oe(this,t);var n=e.createRange(t);n.collapseToPoint(t,o),this.setSingleRange(n),this.isCollapsed=!0},Q.collapseToStart=function(){if(!this.rangeCount)throw new g("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},Q.collapseToEnd=function(){if(!this.rangeCount)throw new g("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},Q.selectAllChildren=function(t){oe(this,t);var o=e.createRange(t);o.selectNodeContents(t),this.setSingleRange(o)},Q.deleteFromDocument=function(){if(M&&S&&this.docSelection.type==p){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var o=this.getAllRanges();if(o.length){this.removeAllRanges();for(var n=0,i=o.length;n<i;++n)o[n].deleteContents();this.addRange(o[i-1])}}},Q.eachRange=function(e,t){for(var o=0,n=this._ranges.length;o<n;++o)if(e(this.getRangeAt(o)))return t},Q.getAllRanges=function(){var e=[];return this.eachRange((function(t){e.push(t)})),e},Q.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},Q.callMethodOnEachRange=function(e,t){var o=[];return this.eachRange((function(n){o.push(n[e].apply(n,t))})),o},Q.setStart=ne(!0),Q.setEnd=ne(!1),e.rangePrototype.select=function(e){Y(this.getDocument()).setSingleRange(this,e)},Q.changeEachRange=function(e){var t=[],o=this.isBackward();this.eachRange((function(o){e(o),t.push(o)})),this.removeAllRanges(),o&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},Q.containsNode=function(e,t){return this.eachRange((function(o){return o.containsNode(e,t)}),!0)||!1},Q.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},Q.moveToBookmark=function(t){for(var o,n,i=[],r=0;o=t.rangeBookmarks[r++];)(n=e.createRange(this.win)).moveToBookmark(o),i.push(n);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},Q.toHtml=function(){var e=[];return this.eachRange((function(t){e.push(c.toHtml(t))})),e.join("")},h.implementsTextRange&&(Q.getNativeTextRange=function(){var o;if(o=this.docSelection){var n=o.createRange();if(j(n))return n;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),Q.getName=function(){return"WrappedSelection"},Q.inspect=function(){return ie(this)},Q.detach=function(){G(this.win,"delete"),V(this)},$.detachAll=function(){G(null,"deleteAll")},$.inspect=ie,$.isDirectionBackward=y,e.Selection=$,e.selectionPrototype=Q,e.addShimListener((function(e){void 0===e.getSelection&&(e.getSelection=function(){return Y(e)}),e=null}))})),y;E("No document found")}else E("No window found")}),this),function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}((function(e){e.createModule("SaveRestore",["WrappedRange"],(function(e,t){var o=e.dom,n="\ufeff";function i(e,t){return(t||document).getElementById(e)}function r(e,t){var i,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),s=o.getDocument(e.startContainer),a=e.cloneRange();return a.collapse(t),(i=s.createElement("span")).id=r,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(s.createTextNode(n)),a.insertNode(i),i}function s(e,o,n,r){var s=i(n,e);s?(o[r?"setStartBefore":"setEndBefore"](s),s.parentNode.removeChild(s)):t.warn("Marker element has been removed. Cannot restore selection.")}function a(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function l(t,o){var n,i=e.DomRange.getRangeDocument(t),s=t.toString();return t.collapsed?{document:i,markerId:(n=r(t,!1)).id,collapsed:!0}:(n=r(t,!1),{document:i,startMarkerId:r(t,!0).id,endMarkerId:n.id,collapsed:!1,backward:o,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function c(o,n){var r=o.document;void 0===n&&(n=!0);var a=e.createRange(r);if(o.collapsed){var l=i(o.markerId,r);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(l.parentNode.removeChild(l),a.collapseToPoint(c,c.length)):(a.collapseBefore(l),l.parentNode.removeChild(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else s(r,a,o.startMarkerId,!0),s(r,a,o.endMarkerId,!1);return n&&a.normalizeBoundaries(),a}function u(t,o){var n,r,s=[];(t=t.slice(0)).sort(a);for(var c=0,u=t.length;c<u;++c)s[c]=l(t[c],o);for(c=u-1;c>=0;--c)n=t[c],r=e.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(i(s[c].markerId,r)):(n.setEndBefore(i(s[c].endMarkerId,r)),n.setStartAfter(i(s[c].startMarkerId,r)));return s}function g(e){for(var t=[],o=e.length-1;o>=0;o--)t[o]=c(e[o],!0);return t}function d(e,t){var o=i(t,e);o&&o.parentNode.removeChild(o)}e.util.extend(e,{saveRange:l,restoreRange:c,saveRanges:u,restoreRanges:g,saveSelection:function(o){if(!e.isSelectionValid(o))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var n=e.getSelection(o),i=n.getAllRanges(),r=1==i.length&&n.isBackward(),s=u(i,r);return r?n.setSingleRange(i[0],"backward"):n.setRanges(i),{win:o,rangeInfos:s,restored:!1}},restoreSelection:function(t,o){if(!t.restored){var n=t.rangeInfos,i=e.getSelection(t.win),r=g(n);1==n.length&&o&&e.features.selectionHasExtend&&n[0].backward?(i.removeAllRanges(),i.addRange(r[0],!0)):i.setRanges(r),t.restored=!0}},removeMarkerElement:d,removeMarkers:function(e){for(var t,o=e.rangeInfos,n=0,i=o.length;n<i;++n)(t=o[n]).collapsed?d(e.doc,t.markerId):(d(e.doc,t.startMarkerId),d(e.doc,t.endMarkerId))}})}))}),this);var Base=function(){};Base.extend=function(e,t){var o=Base.prototype.extend;Base._prototyping=!0;var n=new this;o.call(n,e),n.base=function(){},delete Base._prototyping;var i=n.constructor,r=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==r)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||o).call(arguments[0],n)};return r.ancestor=this,r.extend=this.extend,r.forEach=this.forEach,r.implement=this.implement,r.prototype=n,r.toString=this.toString,r.valueOf=function(e){return"object"==e?r:i.valueOf()},o.call(r,t),"function"==typeof r.init&&r.init(),r},Base.prototype={extend:function(e,t){if(arguments.length>1){var o=this[e];if(o&&"function"==typeof t&&(!o.valueOf||o.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=o;var t=n.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var i=Base.prototype.extend;Base._prototyping||"function"==typeof this||(i=this.extend||i);for(var r={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)e[l]!=r[l]&&i.call(this,l,e[l]);for(var l in e)r[l]||i.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,o){for(var n in e)void 0===this.prototype[n]&&t.call(o,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){var e,t,o=navigator.userAgent,n=document.createElement("div"),i=-1!==o.indexOf("Gecko")&&-1===o.indexOf("KHTML"),r=-1!==o.indexOf("AppleWebKit/"),s=-1!==o.indexOf("Chrome/"),a=-1!==o.indexOf("Opera/");function l(e,t){var o,n=-1;return"Microsoft Internet Explorer"==navigator.appName?o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(o=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),o&&null!=o.exec(navigator.userAgent)&&(n=parseFloat(RegExp.$1)),-1!==n&&(!e||(t?"<"===t?e<n:">"===t?e>n:"<="===t?e<=n:">="===t?e>=n:void 0:e===n))}return{USER_AGENT:o,supported:function(){var e=this.USER_AGENT.toLowerCase(),t="contentEditable"in n,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,i=document.querySelector&&document.querySelectorAll,r=this.isIos()&&function(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}(e)<5||this.isAndroid()&&function(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}(e)<4||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return t&&o&&i&&!r},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return l()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return l()},hasCurrentStyleProperty:function(){return"currentStyle"in n},hasHistoryIssue:function(){return i&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in n||(n.setAttribute("on"+e,"return;"),"function"==typeof n["on"+e])},supportsEventsInIframeCorrectly:function(){return!a},supportsHTML5Tags:function(e){var t=e.createElement("div"),o="<article>foo</article>";return t.innerHTML=o,t.innerHTML.toLowerCase()===o},supportsCommand:(e={formatBlock:l(10,"<="),insertUnorderedList:l(),insertOrderedList:l()},t={insertHTML:i},function(o,n){if(!e[n]){try{return o.queryCommandSupported(n)}catch(e){}try{return o.queryCommandEnabled(n)}catch(e){return!!t[n]}}return!1}),doesAutoLinkingInContentEditable:function(){return l()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||a||r},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||l()||a},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var e,t,o=n.cloneNode(!1);return o.innerHTML="<p><div></div>",t=o.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(e){return(o.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return l(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return l()},hasProblemsSettingCaretAfterImg:function(){return l()},hasUndoInContextMenu:function(){return i||s||a},hasInsertNodeIssue:function(){return a},hasIframeFocusIssue:function(){return l()},createsNestedInvalidMarkupAfterPaste:function(){return r},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var o=t.length;o--;)if(-1!==wysihtml5.lang.array(e).indexOf(t[o]))return!0;return!1}return-1!==wysihtml5.lang.array(e).indexOf(t)},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var o=[],n=0,i=e.length;n<i;n++)t.contains(e[n])||o.push(e[n]);return o},get:function(){for(var t=0,o=e.length,n=[];t<o;t++)n.push(e[t]);return n},map:function(t,o){if(Array.prototype.map)return e.map(t,o);for(var n=e.length>>>0,i=new Array(n),r=0;r<n;r++)i[r]=t.call(o,e[r],r,e);return i},unique:function(){for(var t=[],o=e.length,n=0;n<o;)wysihtml5.lang.array(t).contains(e[n])||t.push(e[n]),n++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var o,n,i=0;if(e){for(o=this.events[e]||[],n=[];i<o.length;i++)o[i]!==t&&t&&n.push(o[i]);this.events[e]=n}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var o=this.events[e]||[],n=0;n<o.length;n++)o[n].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var o in t)e[o]=t[o];return this},get:function(){return e},clone:function(){var t,o={};for(t in e)o[t]=e[t];return o},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,o=/[&<>"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(e){return{by:function(t){return i.split(e).join(t)}}},escapeHTML:function(){return i.replace(o,(function(e){return n[e]}))}}}}(),function(e){var t=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),o=/((https?:\/\/|www\.)[^\s<]{3,})/gi,n=/([^\w\/\-](,?))$/i,i=100,r={")":"(","]":"[","}":"{"};function s(a,l){if(!(t.contains(a.nodeName)||a.className&&e.lang.array(a.className.split(" ")).contains(l))){if(a.nodeType!==e.TEXT_NODE||!a.data.match(o)){for(var c=e.lang.array(a.childNodes).get(),u=c.length,g=0;g<u;g++)s(c[g],l);return a}!function(t){var s=t.parentNode,a=e.lang.string(t.data).escapeHTML(),l=function(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}(s.ownerDocument);for(l.innerHTML="<span></span>"+a.replace(o,(function(e,t){var o=(t.match(n)||[])[1]||"",s=r[o];(t=t.replace(n,"")).split(s).length>t.split(o).length&&(t+=o,o="");var a=t,l=t;return t.length>i&&(l=l.substr(0,i)+"..."),"www."===a.substr(0,4)&&(a="http://"+a),'<a href="'+a+'">'+l+"</a>"+o})),l.removeChild(l.firstChild);l.firstChild;)s.insertBefore(l.firstChild,t);s.removeChild(t)}(a)}}e.dom.autoLink=function(o,n){return function(o,n){for(var i;o.parentNode;){if(i=(o=o.parentNode).nodeName,o.className&&e.lang.array(o.className.split(" ")).contains(n))return!0;if(t.contains(i))return!0;if("body"===i)return!1}return!1}(o,n)?o:(o===o.ownerDocument.documentElement&&(o=o.ownerDocument.body),s(o,n))},e.dom.autoLink.URL_REG_EXP=o}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,o){var n=e.classList;if(n)return n.add(o);t.hasClass(e,o)||(e.className+=" "+o)},t.removeClass=function(e,t){var o=e.classList;if(o)return o.remove(t);e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")},t.hasClass=function(e,t){var o=e.classList;if(o)return o.contains(t);var n=e.className;return n.length>0&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var o=e.createElement("li");return t.appendChild(o),o}return function(t,o,n){if("UL"===t.nodeName||"OL"===t.nodeName||"MENU"===t.nodeName)return t;var i,r,s,a,l,c,u,g,d,h=t.ownerDocument,p=function(e,t){return e.createElement(t)}(h,o),f=t.querySelectorAll("br"),m=f.length;for(d=0;d<m;d++)for(a=f[d];(l=a.parentNode)&&l!==t&&l.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(r=(i=wysihtml5.lang.array(t.childNodes).get()).length,d=0;d<r;d++)g=g||e(h,p),s=i[d],c="block"===wysihtml5.dom.getStyle("display").from(s),u="BR"===s.nodeName,!c||n&&wysihtml5.dom.hasClass(s,n)?u?g=g.firstChild?null:g:g.appendChild(s):((g=g.firstChild?e(h,p):g).appendChild(s),g=null);return 0===i.length&&e(h,p),t.parentNode.replaceChild(p,t),p}}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(o){for(var n,i=0,r=e.length;i<r;i++)n=e[i],void 0!==t[n]&&""!==t[n]&&(o[n]=t[n]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];e.copyStyles=function(o){return{from:function(n){(function(o){return!!function(o){for(var n=0,i=t.length;n<i;n++)if("border-box"===e.getStyle(t[n]).from(o))return t[n]}(o)&&parseInt(e.getStyle("width").from(o),10)<o.offsetWidth})(n)&&(o=wysihtml5.lang.array(o).without(t));for(var i,r="",s=o.length,a=0;a<s;a++)i=o[a],r+=i+":"+e.getStyle(i).from(n)+";";return{to:function(t){return e.setStyles(r).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,o,n,i){return e.dom.observe(t,n,(function(n){for(var r=n.target,s=e.lang.array(t.querySelectorAll(o));r&&r!==t;){if(s.contains(r)){i.call(r,n);break}r=r.parentNode}}))}}(wysihtml5),function(e){e.dom.domNode=function(t){var o=[e.ELEMENT_NODE,e.TEXT_NODE],n=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(i){var r=t.previousSibling,s=i&&i.nodeTypes?i.nodeTypes:o;return r?!e.lang.array(s).contains(r.nodeType)||i&&i.ignoreBlankTexts&&n(r)?e.dom.domNode(r).prev(i):r:null},next:function(i){var r=t.nextSibling,s=i&&i.nodeTypes?i.nodeTypes:o;return r?!e.lang.array(s).contains(r.nodeType)||i&&i.ignoreBlankTexts&&n(r)?e.dom.domNode(r).next(i):r:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(t,o){var n;return o=o||document,"object"==typeof t&&t.nodeType?(n=o.createElement("div")).appendChild(t):wysihtml5.browser.supportsHTML5Tags(o)?(n=o.createElement("div")).innerHTML=t:(function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var o=0,n=e.length;o<n;o++)t.createElement(e[o]);t._wysihtml5_supportsHTML5Tags=!0}}(o),n=function(e,t){var o=t.createElement("div");o.style.display="none",t.body.appendChild(o);try{o.innerHTML=e}catch(e){}return t.body.removeChild(o),o}(t,o)),n}}(),wysihtml5.dom.getParentElement=function(){function e(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function t(e,t,o){var n=(e.className||"").match(o)||[];return t?n[n.length-1]===t:!!n.length}return function(o,n,i,r){var s,a,l,c,u,g,d=n.cssStyle||n.styleRegExp,h=n.className||n.classRegExp;for(i=i||50;i--&&o&&"BODY"!==o.nodeName&&(!r||o!==r);){if(e(o)&&(u=o.nodeName,!(g=n.nodeName)||!g.length||("string"==typeof g?u===g:wysihtml5.lang.array(g).contains(u)))&&(!d||(s=o,a=n.cssStyle,l=n.styleRegExp,void 0,c=(s.getAttribute("style")||"").match(l)||[],a?c[c.length-1]===a:c.length))&&(!h||t(o,n.className,n.classRegExp)))return o;o=o.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){var e={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},t=/\-[a-z]/g;return function(o){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var i=n.ownerDocument,r=e[o]||o.replace(t,(function(e){return e.charAt(1).toUpperCase()})),s=n.style,a=n.currentStyle,l=s[r];if(l)return l;if(a)try{return a[r]}catch(e){}var c,u,g=i.defaultView||i.parentWindow,d=("height"===o||"width"===o)&&"TEXTAREA"===n.nodeName;return g.getComputedStyle?(d&&(c=s.overflow,s.overflow="hidden"),u=g.getComputedStyle(n,null).getPropertyValue(o),d&&(s.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var o=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||o.push(e):o=o.concat(wysihtml5.dom.getTextNodes(e,t));return o},wysihtml5.dom.hasElementWithTagName=function(){var e={},t=1;return function(o,n){var i=function(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=t++)}(o)+":"+n,r=e[i];return r||(r=e[i]=o.getElementsByTagName(n)),r.length>0}}(),function(e){var t={},o=1;e.dom.hasElementWithClassName=function(n,i){if(!e.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+i);var r=function(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=o++)}(n)+":"+i,s=t[r];return s||(s=t[r]=n.getElementsByClassName(i)),s.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e));var n=t.querySelector("head link");if(n)n.parentNode.insertBefore(o,n);else{var i=t.querySelector("head");i&&i.appendChild(o)}}}},function(e){e.dom.lineBreaks=function(t){function o(e){return"BR"===e.nodeName}function n(t){return!!o(t)||"block"===e.dom.getStyle("display").from(t)}return{add:function(o){var i=t.ownerDocument,r=e.dom.domNode(t).next({ignoreBlankTexts:!0}),s=e.dom.domNode(t).prev({ignoreBlankTexts:!0});r&&!n(r)&&e.dom.insert(i.createElement("br")).after(t),s&&!n(s)&&e.dom.insert(i.createElement("br")).before(t)},remove:function(n){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),r=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&o(i)&&i.parentNode.removeChild(i),r&&o(r)&&r.parentNode.removeChild(r)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,o){for(var n,i,r=0,s=(t="string"==typeof t?[t]:t).length;r<s;r++)i=t[r],e.addEventListener?e.addEventListener(i,o,!1):(n=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},o.call(e,t)},e.attachEvent("on"+i,n));return{stop:function(){for(var i,r=0,s=t.length;r<s;r++)i=t[r],e.removeEventListener?e.removeEventListener(i,o,!1):e.detachEvent("on"+i,n)}}},wysihtml5.dom.parse=function(){var e={1:function(e,n){var r,s,l=i.tags,u=e.nodeName.toLowerCase(),g=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(g&&"HTML"!=g&&(u=g+":"+u),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(u="div")),u in l){if(!(r=l[u])||r.remove)return null;if(r.unwrap)return!1;r="string"==typeof r?{rename_tag:r}:r}else{if(!e.firstChild)return null;r={rename_tag:t}}return s=e.ownerDocument.createElement(r.rename_tag||u),function(e,t,n,r){var s,a,l,u,g,d,h,p={},y=n.set_class,b=n.add_class,_=n.add_style,E=n.set_attributes,w=n.check_attributes,S=i.classes,T=0,C=[],A=[],x=[],I=[];if(E&&(p=wysihtml5.lang.object(E).clone()),w)for(u in w)(d=f[w[u]])&&((h=c(e,u))||"alt"===u&&"IMG"==e.nodeName)&&"string"==typeof(g=d(h))&&(p[u]=g);if(y&&C.push(y),b)for(u in b)(d=v[b[u]])&&"string"==typeof(l=d(c(e,u)))&&C.push(l);if(_)for(u in _)(d=m[_[u]])&&(newStyle=d(c(e,u)),"string"==typeof newStyle&&A.push(newStyle));if("string"==typeof S&&"any"===S&&e.getAttribute("class"))p.class=e.getAttribute("class");else{for(r||(S["_wysihtml5-temp-placeholder"]=1,S._rangySelectionBoundary=1,S["wysiwyg-tmp-selected-cell"]=1),(I=e.getAttribute("class"))&&(C=C.concat(I.split(o))),s=C.length;T<s;T++)S[a=C[T]]&&x.push(a);x.length&&(p.class=wysihtml5.lang.array(x).unique().join(" "))}for(u in p.class&&r&&(p.class=p.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(p.class)&&delete p.class),A.length&&(p.style=wysihtml5.lang.array(A).unique().join(" ")),p)try{t.setAttribute(u,p[u])}catch(e){}p.src&&(void 0!==p.width&&t.setAttribute("width",p.width),void 0!==p.height&&t.setAttribute("height",p.height))}(e,s,r,n),function(e,t,o){var n;if(o&&o.keep_styles)for(n in o.keep_styles)o.keep_styles.hasOwnProperty(n)&&("float"==n?(e.style.styleFloat&&(t.style.styleFloat=e.style.styleFloat),e.style.cssFloat&&(t.style.cssFloat=e.style.cssFloat)):e.style[n]&&(t.style[n]=e.style[n]))}(e,s,r),r.one_of_type&&!function(e,t,o,n){var i;if("SPAN"===e.nodeName&&!n&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(i in o)if(o.hasOwnProperty(i)&&t.type_definitions&&t.type_definitions[i]&&a(e,t.type_definitions[i]))return!0;return!1}(e,i,r.one_of_type,n)?(!r.remove_action||"unwrap"!=r.remove_action)&&null:(e=null,s.normalize&&s.normalize(),s)},3:function(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var o=e.data.replace(p,"");return e.ownerDocument.createTextNode(o)}t.data=e.data.replace(p,"")+t.data.replace(p,"")},8:function(e){if(i.comments)return e.ownerDocument.createComment(e.nodeValue)}},t="span",o=/\s+/,n={tags:{},classes:{}},i={},r=!1;function s(o,n,i){var a,l,c,u=o.nodeType,g=o.childNodes,d=g.length,h=e[u],p=0;if(r&&1===u&&wysihtml5.dom.hasClass(o,r))return o;if(!(l=h&&h(o,i))){if(!1===l){for(a=o.ownerDocument.createDocumentFragment(),p=d;p--;)g[p]&&(c=s(g[p],n,i))&&(g[p]===c&&p--,a.insertBefore(c,a.firstChild));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(o.nodeName.toLowerCase())&&o.parentNode.lastChild!==o&&(o.nextSibling&&3===o.nextSibling.nodeType&&/^\s/.test(o.nextSibling.nodeValue)||a.appendChild(o.ownerDocument.createTextNode(" "))),a.normalize&&a.normalize(),a}return null}for(p=0;p<d;p++)g[p]&&(c=s(g[p],n,i))&&(g[p]===c&&p--,l.appendChild(c));if(n&&l.nodeName.toLowerCase()===t&&(!l.childNodes.length||/^\s*$/gi.test(l.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==o.className&&"rangySelectionBoundary"!==o.className)||!l.attributes.length)){for(a=l.ownerDocument.createDocumentFragment();l.firstChild;)a.appendChild(l.firstChild);return a.normalize&&a.normalize(),a}return l.normalize&&l.normalize(),l}function a(e,t){var n,i,r,s,a,l=e.getAttribute("class"),u=e.getAttribute("style");if(t.methods)for(var g in t.methods)if(t.methods.hasOwnProperty(g)&&y[g]&&y[g](e))return!0;if(l&&t.classes){n=(l=l.replace(/^\s+/g,"").replace(/\s+$/g,"").split(o)).length;for(var d=0;d<n;d++)if(t.classes[l[d]])return!0}if(u&&t.styles)for(i in u=u.split(";"),t.styles)if(t.styles.hasOwnProperty(i))for(var h=u.length;h--;)if((a=u[h].split(":"))[0].replace(/\s/g,"").toLowerCase()===i&&(!0===t.styles[i]||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0;if(t.attrs)for(r in t.attrs)if(t.attrs.hasOwnProperty(r)&&"string"==typeof(s=c(e,r))&&s.search(t.attrs[r])>-1)return!0;return!1}var l=!wysihtml5.browser.supportsGetAttributeCorrectly();function c(e,t){return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}(e)?e.src:l&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)}var u,g,d,h,p=/\uFEFF/g,f={url:(u=/^https?:\/\//i,function(e){return e&&e.match(u)?e.replace(u,(function(e){return e.toLowerCase()})):null}),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,(function(e){return e.toLowerCase()})):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,(function(e){return e.toLowerCase()})):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return(t=(t||"").replace(e,""))||null}}(),any:function(e){return e}},m={align_text:(g={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(e){return g[String(e).toLowerCase()]})},v={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()},y={has_visible_contet:(h=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(e){if((d=(e.innerText||e.textContent).replace(/\s/g,""))&&d.length>0)return!0;for(var t=h.length;t--;)if(e.querySelector(h[t]))return!0;return!!(e.offsetWidth&&e.offsetWidth>0&&e.offsetHeight&&e.offsetHeight>0)})};return function(e,t){wysihtml5.lang.object(i).merge(n).merge(t.rules).get();var o,a,l,c=t.context||e.ownerDocument||document,u=c.createDocumentFragment(),g="string"==typeof e,d=!1;for(!0===t.clearInternals&&(d=!0),t.uneditableClass&&(r=t.uneditableClass),o=g?wysihtml5.dom.getAsDom(e,c):e;o.firstChild;)(a=s(l=o.firstChild,t.cleanUp,d))&&u.appendChild(a),l!==a&&o.removeChild(l);return o.innerHTML="",o.appendChild(u),g?wysihtml5.quirks.getCorrectInnerHTML(o):o}}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,o=wysihtml5.lang.array(e.childNodes).get(),n=o.length,i=0;i<n;i++)(t=o[i]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var o,n=e.ownerDocument.createElement(t);o=e.firstChild;)n.appendChild(o);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode)if(e.firstChild){for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}else e.parentNode.removeChild(e)},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function o(e){return"BR"===e.nodeName}function n(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}e.resolveList=function(e,i){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var r,s,a,l,c,u=e.ownerDocument,g=u.createDocumentFragment(),d=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(i)for(!d||t(d)||o(d)||n(g);c=e.firstElementChild||e.firstChild;){for(s=c.lastChild;r=c.firstChild;)a=r===s&&!t(r)&&!o(r),g.appendChild(r),a&&n(g);c.parentNode.removeChild(c)}else for(;c=e.firstElementChild||e.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;r=c.firstChild;)g.appendChild(r);else{for(l=u.createElement("p");r=c.firstChild;)l.appendChild(r);g.appendChild(l)}c.parentNode.removeChild(c)}e.parentNode.replaceChild(g,e)}}}(wysihtml5.dom),function(e){var t=document,o=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],i=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,o){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(o).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var o=this,n=t.createElement("iframe");return n.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,o._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,o._onLoadIframe(n))},n},_onLoadIframe:function(r){if(e.dom.contains(t.documentElement,r)){var s=this,a=r.contentWindow,l=r.contentWindow.document,c=t.characterSet||t.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},a.onerror=function(e,t,o){throw new Error("wysihtml5.Sandbox: "+e,t,o)},!e.browser.supportsSandboxedIframes()){var g,d;for(g=0,d=o.length;g<d;g++)this._unset(a,o[g]);for(g=0,d=n.length;g<d;g++)this._unset(a,n[g],e.EMPTY_FUNCTION);for(g=0,d=i.length;g<d;g++)this._unset(l,i[g]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout((function(){s.callback(s)}),0)}},_getHtml:function(t){var o,n=t.stylesheets,i="",r=0;if(n="string"==typeof n?[n]:n)for(o=n.length;r<o;r++)i+='<link rel="stylesheet" href="'+n[r]+'">';return t.stylesheets=i,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,o,n,i){try{t[o]=n}catch(e){}try{t.__defineGetter__(o,(function(){return n}))}catch(e){}if(i)try{t.__defineSetter__(o,(function(){}))}catch(e){}if(!e.browser.crashesWhenDefineProperty(o))try{var r={get:function(){return n}};i&&(r.set=function(){}),Object.defineProperty(t,o,r)}catch(e){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,o,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(o).get(),this.element=n?this._bindElement(n):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var o=this;if(!t){var n=this._getHtml();e.innerHTML=n}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout((function(){o.callback(o)}),0)},_getHtml:function(e){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(o){for(var n in t)o.setAttribute(e[n]||n,t[n])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var o=t.style;if("string"!=typeof e)for(var n in e)"float"===n?(o.cssFloat=e[n],o.styleFloat=e[n]):o[n]=e[n];else o.cssText+=";"+e}}},function(e){e.simulatePlaceholder=function(t,o,n){var i="placeholder",r=function(){var t=o.element.offsetWidth>0&&o.element.offsetHeight>0;o.hasPlaceholderSet()&&(o.clear(),o.element.focus(),t&&setTimeout((function(){var e=o.selection.getSelection();e.focusNode&&e.anchorNode||o.selection.selectNode(o.element.firstChild||o.element)}),0)),o.placeholderSet=!1,e.removeClass(o.element,i)},s=function(){o.isEmpty()&&(o.placeholderSet=!0,o.setValue(n),e.addClass(o.element,i))};t.on("set_placeholder",s).on("unset_placeholder",r).on("focus:composer",r).on("paste:composer",r).on("blur:composer",s),s()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var o=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===_isLoadedImage(e)?e.src:o&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)},function(e){var t=e.dom,o=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},n=function(e,o){e?(this.cell=e,this.table=t.getParentElement(e,{nodeName:["TABLE"]})):o&&(this.table=o,this.cell=this.table.querySelectorAll("th, td")[0])};function i(e,t){for(var o,n=[],i=0,r=e.length;i<r;i++)if(o=e[i].querySelectorAll(t))for(var s=o.length;s--;n.unshift(o[s]));return n}function r(e){e.parentNode.removeChild(e)}function s(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function a(e,t){for(var o=e.nextSibling;1!=o.nodeType;)if(o=o.nextSibling,!t||t==o.tagName.toLowerCase())return o;return null}n.prototype={addSpannedCellToMap:function(e,t,n,i,r,s){for(var a=[],l=n+(s?parseInt(s,10)-1:0),c=i+(r?parseInt(r,10)-1:0),u=n;u<=l;u++){void 0===t[u]&&(t[u]=[]);for(var g=i;g<=c;g++)t[u][g]=new o(e),t[u][g].isColspan=r&&parseInt(r,10)>1,t[u][g].isRowspan=s&&parseInt(s,10)>1,t[u][g].firstCol=g==i,t[u][g].lastCol=g==c,t[u][g].firstRow=u==n,t[u][g].lastRow=u==l,t[u][g].isReal=g==i&&u==n,t[u][g].spanCollection=a,a.push(t[u][g])}},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,o=e.spanCollection.length;t<o;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,n,i,r,s,a,l,c,u=[],g=this.getTableRows();for(e=0;e<g.length;e++)for(n=g[e],i=this.getRowCells(n),a=0,void 0===u[e]&&(u[e]=[]),r=0;r<i.length;r++){for(s=i[r];void 0!==u[e][a];)a++;l=t.getAttribute(s,"colspan"),c=t.getAttribute(s,"rowspan"),l||c?(this.addSpannedCellToMap(s,u,e,a,l,c),a+=l?parseInt(l,10):1):(u[e][a]=new o(s),a++)}return this.map=u,u},getRowCells:function(t){var o=this.table.querySelectorAll("table"),n=o?i(o,"th, td"):[],r=t.querySelectorAll("th, td");return n.length>0?e.lang.array(r).without(n):r},getTableRows:function(){var t=this.table.querySelectorAll("table"),o=t?i(t,"tr"):[],n=this.table.querySelectorAll("tr");return o.length>0?e.lang.array(n).without(o):n},getMapIndex:function(e){for(var t=this.map.length,o=this.map&&this.map[0]?this.map[0].length:0,n=0;n<t;n++)for(var i=0;i<o;i++)if(this.map[n][i].el===e)return{row:n,col:i};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var o=this.idx_start;this.idx_start=this.idx_end,this.idx_end=o}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}if(null!=this.idx_start&&null!=this.idx_end)for(var i=this.idx_start.row,r=this.idx_end.row;i<=r;i++)for(var s=this.idx_start.col,a=this.idx_end.col;s<=a;s++)t.push(this.map[i][s].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var o=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=o}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,o){for(var n,i=this.table.ownerDocument,r=i.createDocumentFragment(),s=0;s<t;s++){if(n=i.createElement(e),o)for(var a in o)o.hasOwnProperty(a)&&n.setAttribute(a,o[a]);n.appendChild(document.createTextNode("")),r.appendChild(n)}return r},correctColIndexForUnreals:function(e,t){for(var o=this.map[t],n=-1,i=0;i<e;i++)o[i].isReal&&n++;return n},getLastNewCellOnRow:function(e,t){for(var o,n,i=this.getRowCells(e),r=0,s=i.length;r<s;r++)if(o=i[r],!1===(n=this.getMapIndex(o))||void 0!==t&&n.row!=t)return o;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return!(e&&0!=e.length||(r(this.table),0))},splitRowToCells:function(e){if(e.isColspan){var o=parseInt(t.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(o>1){var i=this.createCells(n,o-1);s(e.el,i)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,o){var n=null,i=null;o=o||this.idx;for(var r=0,s=this.map[o.row].length;r<s;r++)if((i=this.map[o.row][r]).isReal&&(n=t.getParentElement(i.el,{nodeName:["TR"]})))return n;return null===n&&e&&(n=t.getParentElement(this.map[o.row][o.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(e,o,n,i,r){var a=this.getRealRowEl(!1,{row:e,col:o}),l=this.createCells(i,n);if(a){var c=this.correctColIndexForUnreals(o,e);c>=0?s(this.getRowCells(a)[c],l):a.insertBefore(l,a.firstChild)}else{var u=this.table.ownerDocument.createElement("tr");u.appendChild(l),s(t.getParentElement(r.el,{nodeName:["TR"]}),u)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var o=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=o}for(var n=this.idx_start.row,i=this.idx_end.row;n<=i;n++)for(var r=this.idx_start.col,s=this.idx_end.col;r<=s;r++)if(this.map[n][r].isColspan||this.map[n][r].isRowspan)return!1;return!0},decreaseCellSpan:function(e,o){var n=parseInt(t.getAttribute(e.el,o),10)-1;n>=1?e.el.setAttribute(o,n):(e.el.removeAttribute(o),"colspan"==o&&(e.isColspan=!1),"rowspan"==o&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,o,n,i,s,a,l;if(this.setTableMap(),this.map){for(n=0,i=this.map.length;n<i;n++){for(l=!0,s=0,a=(e=this.map[n]).length;s<a;s++)if(o=e[s],!(t.getAttribute(o.el,"rowspan")&&parseInt(t.getAttribute(o.el,"rowspan"),10)>1&&!0!==o.firstRow)){l=!1;break}if(l)for(s=0;s<a;s++)this.decreaseCellSpan(e[s],"rowspan")}var c=this.getTableRows();for(n=0,i=c.length;n<i;n++)0==(e=c[n]).childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&r(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var i=0;i<e;i++)this.map[i].length>t&&(t=this.map[i].length);for(var r=0;r<e;r++)for(var a=0;a<t;a++)this.map[r]&&!this.map[r][a]&&a>0&&(this.map[r][a]=new o(this.createCells("td",1)),(n=this.map[r][a-1])&&n.el&&n.el.parent&&s(this.map[r][a-1].el,this.map[r][a].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],o=t.getAttribute(e.el,"colspan")?parseInt(t.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var i=parseInt(t.getAttribute(e.el,"rowspan"),10);if(i>1)for(var r=1,s=i-1;r<=s;r++)this.injectRowAt(this.idx.row+r,this.idx.col,o,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,o=this.idx_end.col-this.idx_start.col+1,n=this.idx_start.row,i=this.idx_end.row;n<=i;n++)for(var s=this.idx_start.col,a=this.idx_end.col;s<=a;s++)n==this.idx_start.row&&s==this.idx_start.col?(t>1&&this.map[n][s].el.setAttribute("rowspan",t),o>1&&this.map[n][s].el.setAttribute("colspan",o)):(/^\s*<br\/?>\s*$/.test(this.map[n][s].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[n][s].el.innerHTML),r(this.map[n][s].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var o=this.getMapIndex(e.el),n=o.row+1,i={row:n,col:o.col};if(n<this.map.length){var r=this.getRealRowEl(!1,i);if(null!==r){var a=this.correctColIndexForUnreals(i.col,i.row);if(a>=0)s(this.getRowCells(r)[a],e.el);else{var l=this.getLastNewCellOnRow(r,n);null!==l?s(l,e.el):r.insertBefore(e.el,r.firstChild)}parseInt(t.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(t.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):r(e.el):parseInt(t.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(t.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],o=0,n=t.length;o<n;o++)t[o].isReal&&e.push(t[o].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,o=this.map.length;t<o;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=t.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var o=this.map[this.idx.row],n=0,i=o.length;n<i;n++)o[n].modified||(this.setCellAsModified(o[n]),this.removeRowCell(o[n]));r(e)}},removeColCell:function(e){e.isColspan?parseInt(t.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(t.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&r(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;e<t;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var o=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&t.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(t.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var n=this.map[this.idx.row],i=o.createElement("tr"),r=0,a=n.length;r<a;r++)n[r].modified||(this.setCellAsModified(n[r]),this.addRowCell(n[r],i,e));switch(e){case"below":s(this.getRealRowEl(!0),i);break;case"above":var l=t.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(i,l)}}},addRowCell:function(e,o,n){var i=e.isColspan?{colspan:t.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(t.getAttribute(e.el,"rowspan"),10)+1):o.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?o.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(t.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&("below"!=e&&"above"!=e||this.addRow(e),"before"!=e&&"after"!=e||this.addColumn(e))},addColCell:function(e,o,n){var i,r=e.el.tagName.toLowerCase();switch(n){case"before":i=!e.isColspan||e.firstCol;break;case"after":i=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(i){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(r,1),e.el);break;case"after":s(e.el,this.createCells(r,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,o+1,n)}else e.el.setAttribute("colspan",parseInt(t.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var o,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&t.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(t.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var i=0,r=this.map.length;i<r;i++)(o=this.map[i])[this.idx.col]&&((n=o[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,o,n){for(var i,r,l,c=parseInt(t.getAttribute(this.cell,"rowspan"),10)-1,u=t.getParentElement(e.el,{nodeName:["TR"]}),g=e.el.tagName.toLowerCase(),d=this.table.ownerDocument,h=0;h<c;h++)if(i=this.correctColIndexForUnreals(this.idx.col,o+h),u=a(u,"tr"))if(i>0)switch(n){case"before":r=this.getRowCells(u),i>0&&this.map[o+h][this.idx.col].el!=r[i]&&i==r.length-1?s(r[i],this.createCells(g,1)):r[i].parentNode.insertBefore(this.createCells(g,1),r[i]);break;case"after":s(this.getRowCells(u)[i],this.createCells(g,1))}else u.insertBefore(this.createCells(g,1),u.firstChild);else(l=d.createElement("tr")).appendChild(this.createCells(g,1)),this.table.appendChild(l)}},t.table={getCellsBetween:function(e,t){return new n(e).getMapElsTo(t)},addCells:function(e,t){new n(e).add(t)},removeCells:function(e,t){new n(e).remove(t)},mergeCellsBetween:function(e,t){new n(e).merge(t)},unmergeCell:function(e){new n(e).unmerge()},orderSelectionEnds:function(e,t){return new n(e).orderSelectionEnds(t)},indexOf:function(e){var t=new n(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new n(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new n(e).getRowElementsByCell()},findColumnByCell:function(e){return new n(e).getColumnElementsByCell()},canMerge:function(e,t){return new n(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var o,n=[];e.nodeType&&(e=[e]);for(var i=0,r=e.length;i<r;i++)if(o=e[i].querySelectorAll(t))for(var s=o.length;s--;n.unshift(o[s]));return n},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var o,n;if(o=9===e.nodeType?e:e.ownerDocument,n=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(o!==n)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var i=e,r=[],s=null;i;){if(i==t)return 10;r.push(i),i=i.parentNode}for(i=t,s=null;i;){if(i==e)return 20;var a=wysihtml5.lang.array(r).indexOf(i);if(-1!==a){var l=r[a];return wysihtml5.lang.array(l.childNodes).indexOf(r[a-1])>wysihtml5.lang.array(l.childNodes).indexOf(s)?2:4}s=i,i=i.parentNode}return 1},wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.quirks.cleanPastedHTML=function(){var e={"a u":wysihtml5.dom.replaceWithChildNodes};return function(t,o,n){o=o||e,n=n||t.ownerDocument||document;var i,r,s,a,l,c,u="string"==typeof t,g=0;for(l in i=u?wysihtml5.dom.getAsDom(t,n):t,o)for(s=i.querySelectorAll(l),r=o[l],a=s.length;g<a;g++)r(s[g]);var d=wysihtml5.dom.getTextNodes(i);for(c=d.length;c--;)d[c].nodeValue=d[c].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return s=t=o=null,u?i.innerHTML:i}}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout((function(){var t=e.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=t&&"<p>&nbsp;</p><p>&nbsp;</p>"!=t||(e.innerHTML="")}),0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){e.quirks.getCorrectInnerHTML=function(t){var o=t.innerHTML;if(-1===o.indexOf("%7E"))return o;var n,i,r,s,a=t.querySelectorAll("[href*='~'], [src*='~']");for(s=0,r=a.length;s<r;s++)n=a[s].href||a[s].src,i=e.lang.string(n).replace("~").by("%7E"),o=e.lang.string(o).replace(i).by(n);return o}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(o){e.dom.addClass(o,t),e.dom.removeClass(o,t);try{var n=o.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){var o=wysihtml5.dom,n={table:null,start:null,end:null,cells:null,select:function(e,i){n.start=e,n.end=i,n.table=o.getParentElement(n.start,{nodeName:["TABLE"]}),selectedCells=o.table.getCellsBetween(n.start,n.end),l(selectedCells),g(),t.fire("tableselect").fire("tableselect:composer")}},i="wysiwyg-tmp-selected-cell",r=null,s=null;function a(){if(e){var t=e.querySelectorAll("."+i);if(t.length>0)for(var n=0;n<t.length;n++)o.removeClass(t[n],i)}}function l(e){for(var t=0;t<e.length;t++)o.addClass(e[t],i)}function c(e){var i,r=null,s=o.getParentElement(e.target,{nodeName:["TD","TH"]});s&&n.table&&n.start&&(r=o.getParentElement(s,{nodeName:["TABLE"]}))&&r===n.table&&(a(),i=n.end,n.end=s,n.cells=o.table.getCellsBetween(n.start,s),n.cells.length>1&&t.composer.selection.deselect(),l(n.cells),n.end!==i&&t.fire("tableselectchange").fire("tableselectchange:composer"))}function u(e){r.stop(),s.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout((function(){g()}),0)}function g(){var i=o.observe(e.ownerDocument,"click",(function(e){i.stop(),o.getParentElement(e.target,{nodeName:["TABLE"]})!=n.table&&(a(),n.table=null,n.start=null,n.end=null,t.fire("tableunselect").fire("tableunselect:composer"))}))}return o.observe(e,"mousedown",(function(l){var g=wysihtml5.dom.getParentElement(l.target,{nodeName:["TD","TH"]});g&&function(l){n.start=l,n.end=l,n.cells=[l],n.table=o.getParentElement(n.start,{nodeName:["TABLE"]}),n.table&&(a(),o.addClass(l,i),r=o.observe(e,"mousemove",c),s=o.observe(e,"mouseup",u),t.fire("tableselectstart").fire("tableselectstart:composer"))}(g)})),n},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,o=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,n=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,i=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,r=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(s,a){var l,c,u=r(a),g=s.match(u),d=10;if(g){for(var h=g.length;h--;)g[h]=e.lang.string(g[h].split(":")[1]).trim();if(l=g[g.length-1],t.test(l))c=l.match(t);else if(o.test(l))c=l.match(o);else if(n.test(l))c=l.match(n),d=16;else if(i.test(l))return(c=l.match(i)).shift(),c.push(1),e.lang.array(c).map((function(e,t){return t<3?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)}));if(c)return c.shift(),c[3]||c.push(1),e.lang.array(c).map((function(e,t){return t<3?parseInt(e,d):parseFloat(e)}))}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var o=t.match(r("font-size"));return!!o&&e.lang.string(o[o.length-1].split(":")[1]).trim()}}}(wysihtml5),function(e){var t=e.dom;function o(e,t){for(var o=0;t!==e;)if(o++,!(t=t.parentNode))throw new Error("not a descendant of ancestor!");return o}function n(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,n=o(t,e.startContainer),i=o(t,e.endContainer);!e.canSurroundContents();)n>i?(e.setStartBefore(e.startContainer),n=o(t,e.startContainer)):(e.setEndAfter(e.endContainer),i=o(t,e.endContainer))}e.Selection=Base.extend({constructor:function(e,t,o){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=o||!1},getBookmark:function(){var e=this.getRange();return e&&n(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(o,n){var i=rangy.createRange(this.doc),r=o.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in o?o.canHaveHTML:"IMG"!==o.nodeName,a=r?o.innerHTML:o.data,l=""===a||a===e.INVISIBLE_SPACE,c=t.getStyle("display").from(o),u="block"===c||"list-item"===c;if(l&&r&&s&&!n)try{o.innerHTML=e.INVISIBLE_SPACE}catch(e){}s?i.selectNodeContents(o):i.selectNode(o),s&&l&&r?i.collapse(u):s&&l&&(i.setStartAfter(o),i.setEndAfter(o)),this.setSelection(i)},getSelectedNode:function(e){var t,o;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(o=this.doc.selection.createRange())&&o.length?o.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(o=this.getRange(this.doc))?o.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var e=this.getRange();n(e),this.setSelection(e)},getSelectedOwnNodes:function(e){for(var t=this.getOwnRanges(),o=[],n=0,i=t.length;n<i;n++)o.push(t[n].commonAncestorContainer||this.doc.body);return o},findNodesInSelection:function(t){for(var o,n=this.getOwnRanges(),i=[],r=0,s=n.length;r<s;r++)o=n[r].getNodes([1],(function(o){return e.lang.array(t).contains(o.nodeName)})),i=i.concat(o);return i},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),o=0,n=e.length;o<n;o++)if(t.containsNode(e[o]))return!0;return!1},deleteContents:function(){for(var e=this.getOwnRanges(),t=e.length;t--;)e[t].deleteContents();this.setSelection(e[0])},getPreviousNode:function(t,o){if(t||(t=this.getSelection().anchorNode),t===this.contain)return!1;var n,i=t.previousSibling;return i!==this.contain&&(i&&3!==i.nodeType&&1!==i.nodeType||i&&3===i.nodeType&&/^\s*$/.test(i.textContent)||o&&i&&1===i.nodeType&&!e.lang.array(["BR","HR","IMG"]).contains(i.nodeName)&&/^[\s]*$/.test(i.innerHTML)?i=this.getPreviousNode(i,o):i||t===this.contain||(n=t.parentNode)!==this.contain&&(i=this.getPreviousNode(n,o)),i!==this.contain&&i)},getSelectionParentsByTag:function(t){for(var o,n=this.getSelectedOwnNodes(),i=[],r=0,s=n.length;r<s;r++)(o=n[r].nodeName&&"LI"===n[r].nodeName?n[r]:e.dom.getParentElement(n[r],{nodeName:["LI"]},!1,this.contain))&&i.push(o);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,o=e.startOffset,n=rangy.createRange(this.doc);return n.selectNodeContents(t),n.setStart(t,o),n}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var e=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),o=this.getSelection(),n=this.getRange(),i=n.startContainer;return i.nodeType===e.TEXT_NODE?this.isCollapsed()&&i.nodeType===e.TEXT_NODE&&/^\s*$/.test(i.data.substr(0,n.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===o.anchorNode||t.endContainer===o.anchorNode)&&t.startOffset===o.anchorOffset)},caretIsInTheBeginnig:function(t){var o=this.getSelection(),n=o.anchorNode,i=o.anchorOffset;return t?0===i&&(n.nodeName&&n.nodeName===t.toUpperCase()||e.dom.getParentElement(n.parentNode,{nodeName:t},1)):0===i&&!this.getPreviousNode(n,!0)},caretIsBeforeUneditable:function(){var e=this.getSelection(),t=e.anchorNode;if(0===e.anchorOffset){var o=this.getPreviousNode(t,!0);if(o)for(var n=this.getOwnUneditables(),i=0,r=n.length;i<r;i++)if(o===n[i])return n[i]}return!1},executeAndRestoreRangy:function(e,t){var o=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(o);if(n)try{e()}catch(e){setTimeout((function(){throw e}),0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(o,n){var i,r,s,a,l,c,u,g,d=this.doc.body,h=n&&d.scrollTop,p=n&&d.scrollLeft,f="_wysihtml5-temp-placeholder",m='<span class="'+f+'">'+e.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(v){v.collapsed||(c=(u=v.cloneRange()).createContextualFragment(m),u.collapse(!1),u.insertNode(c),u.detach()),l=v.createContextualFragment(m),v.insertNode(l),c&&(i=this.contain.querySelectorAll("."+f),v.setStartBefore(i[0]),v.setEndAfter(i[i.length-1])),this.setSelection(v);try{o(v.startContainer,v.endContainer)}catch(e){setTimeout((function(){throw e}),0)}if((i=this.contain.querySelectorAll("."+f))&&i.length){g=rangy.createRange(this.doc),s=i[0].nextSibling,i.length>1&&(a=i[i.length-1].previousSibling),a&&s?(g.setStartBefore(s),g.setEndAfter(a)):(r=this.doc.createTextNode(e.INVISIBLE_SPACE),t.insert(r).after(i[0]),g.setStartBefore(r),g.setEndAfter(r)),this.setSelection(g);for(var y=i.length;y--;)i[y].parentNode.removeChild(i[y])}else this.contain.focus();n&&(d.scrollTop=h,d.scrollLeft=p);try{i.parentNode.removeChild(i)}catch(e){}}else o(d,d)},set:function(e,t){var o=rangy.createRange(this.doc);o.setStart(e,t||0),this.setSelection(o)},insertHTML:function(e){var t=rangy.createRange(this.doc).createContextualFragment(e),o=t.lastChild;this.insertNode(t),o&&this.setAfter(o)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,o=this.getOwnRanges(),n=[];if(0==o.length)return n;for(var i=o.length;i--;){t=this.doc.createElement(e.nodeName),n.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{o[i].surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(o[i].extractContents()),o[i].insertNode(t)}}return n},deblockAndSurround:function(t){var o,n,i,r=this.doc.createElement("div"),s=rangy.createRange(this.doc);if(r.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),(o=this.contain.querySelectorAll("."+t.className))[0])for(o[0].parentNode.insertBefore(r,o[0]),s.setStartBefore(o[0]),s.setEndAfter(o[o.length-1]),n=s.extractContents();n.firstChild;)if(1==(i=n.firstChild).nodeType&&e.dom.hasClass(i,t.className)){for(;i.firstChild;)r.appendChild(i.firstChild);"BR"!==i.nodeName&&r.appendChild(this.doc.createElement("br")),n.removeChild(i)}else r.appendChild(i);else r=null;return r},scrollIntoView:function(){var t,o,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight,r=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||((o=n.createElement("span")).innerHTML=e.INVISIBLE_SPACE,o);i&&(this.insertNode(r),t=function(e){var t=0;if(e.parentNode)do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}(r),r.parentNode.removeChild(r),t>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=t))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,o,n,i,r=this.doc.selection.createRange(),s=r.boundingTop,a=this.doc.body.scrollWidth;if(r.moveToPoint){for(0===s&&(o=this.doc.createElement("span"),this.insertNode(o),s=o.offsetTop,o.parentNode.removeChild(o)),s+=1,n=-10;n<a;n+=2)try{r.moveToPoint(n,s);break}catch(e){}for(e=s,t=this.doc.selection.createRange(),i=a;i>=0;i--)try{t.moveToPoint(i,e);break}catch(e){}r.setEndPoint("EndToEnd",t),r.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var o=this.getRange();return o?o.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var o=e.endContainer.previousElementSibling;o&&e.setEnd(o,this._endOffsetForNode(o))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var o=t.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&o},getRange:function(e){var t=this.getSelection(),o=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(o),o},getOwnUneditables:function(){var o=t.query(this.contain,"."+this.unselectableClass),n=t.query(o,"."+this.unselectableClass);return e.lang.array(o).without(n)},getOwnRanges:function(){var e,t=[],o=this.getRange();if(o&&t.push(o),this.unselectableClass&&this.contain&&o){var n,i=this.getOwnUneditables();if(i.length>0)for(var r=0,s=i.length;r<s;r++){e=[];for(var a=0,l=t.length;a<l;a++){if(t[a])switch(t[a].compareNode(i[r])){case 2:break;case 3:(n=t[a].cloneRange()).setEndBefore(i[r]),e.push(n),(n=t[a].cloneRange()).setStartAfter(i[r]),e.push(n);break;default:e.push(t[a])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(t).setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(t){var o=this.getRange(),n=o.commonAncestorContainer,i=o.startContainer,r=o.endContainer;if(n.nodeType===e.TEXT_NODE&&(n=n.parentNode),i.nodeType===e.TEXT_NODE&&!/^\s*$/.test(i.data.substr(o.startOffset)))return!1;if(r.nodeType===e.TEXT_NODE&&!/^\s*$/.test(r.data.substr(o.endOffset)))return!1;for(;i&&i!==n;){if(i.nodeType!==e.TEXT_NODE&&!e.dom.contains(n,i))return!1;if(e.dom.domNode(i).prev({ignoreBlankTexts:!0}))return!1;i=i.parentNode}for(;r&&r!==n;){if(r.nodeType!==e.TEXT_NODE&&!e.dom.contains(n,r))return!1;if(e.dom.domNode(r).next({ignoreBlankTexts:!0}))return!1;r=r.parentNode}return!!e.lang.array(t).contains(n.nodeName)&&n},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){var o="span",n=/\s+/g;function i(e,t,o){if(!e.className)return!1;var n=e.className.match(o)||[];return n[n.length-1]===t}function r(e,t,o){e.getAttribute("style")?(a(e,o),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function s(e,t){e.className&&(e.className=e.className.replace(t,""))}function a(e,t){var o,n=[];if(e.getAttribute("style")){for(var i=(o=e.getAttribute("style").split(";")).length;i--;)o[i].match(t)||/^\s*$/.test(o[i])||n.push(o[i]);n.length?e.setAttribute("style",n.join(";")):e.removeAttribute("style")}}function l(e,t){var o=[],n=t.split(";"),i=e.getAttribute("style");if(i){i=i.replace(/\s/gi,"").toLowerCase(),o.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var r=n.length;r-- >0;)/^\s*$/.test(n[r])||o.push(new RegExp("(^|\\s|;)"+n[r].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=0,a=o.length;s<a;s++)if(i.match(o[s]))return o[s]}return!1}function c(o,n,i,r){return i?l(o,i):r?e.dom.hasClass(o,r):t.dom.arrayContains(n,o.tagName.toLowerCase())}function u(e,t,o,n){for(var i=e.length;i--;)if(!c(e[i],t,o,n))return!1;return!!e.length}function g(e,o){return t.dom.isCharacterDataNode(e)?0==o?!!e.previousSibling:o!=e.length||!!e.nextSibling:o>0&&o<e.childNodes.length}function d(e,o,n,i){var r;if(t.dom.isCharacterDataNode(o)&&(0==n?(n=t.dom.getNodeIndex(o),o=o.parentNode):n==o.length?(n=t.dom.getNodeIndex(o)+1,o=o.parentNode):r=t.dom.splitDataNode(o,n)),!(r||i&&o===i)){var s;for((r=o.cloneNode(!1)).id&&r.removeAttribute("id");s=o.childNodes[n];)r.appendChild(s);t.dom.insertAfter(r,o)}return o==e?r:d(e,r.parentNode,t.dom.getNodeIndex(r),i)}function h(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function p(e,t,n,i,r,s,a){this.tagNames=e||[o],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=s,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}h.prototype={doMerge:function(){for(var e,t,o,n=[],i=0,r=this.textNodes.length;i<r;++i)t=(e=this.textNodes[i]).parentNode,n[i]=e.data,i&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=o=n.join(""),o},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,o=this.textNodes.length;t<o;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},p.prototype={getAncestorWithClass:function(o){for(var n;o;){if(n=this.cssClass?i(o,this.cssClass,this.similarClassRegExp):""===this.cssStyle,o.nodeType==e.ELEMENT_NODE&&"false"!=o.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,o.tagName.toLowerCase())&&n)return o;o=o.parentNode}return!1},getAncestorWithStyle:function(o){for(var n;o;){if(n=!!(this.cssStyle&&(i=o,r=this.similarStyleRegExp,i.getAttribute&&i.getAttribute("style")&&(i.getAttribute("style").match(r),i.getAttribute("style").match(r)))),o.nodeType==e.ELEMENT_NODE&&"false"!=o.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,o.tagName.toLowerCase())&&n)return o;o=o.parentNode}var i,r;return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),o=!1;return t?this.cssStyle&&(o="class"):(t=this.getAncestorWithStyle(e))&&(o="style"),{element:t,type:o}},postApply:function(e,t){for(var o,n,i,r=e[0],s=e[e.length-1],a=[],l=r,c=s,u=0,g=s.length,d=0,p=e.length;d<p;++d)i=null,(n=e[d])&&n.parentNode&&(i=this.getAdjacentMergeableTextNode(n.parentNode,!1)),i?(o||(o=new h(i),a.push(o)),o.textNodes.push(n),n===r&&(u=(l=o.firstTextNode).length),n===s&&(c=o.firstTextNode,g=o.getLength())):o=null;if(s&&s.parentNode){var f=this.getAdjacentMergeableTextNode(s.parentNode,!0);f&&(o||(o=new h(s),a.push(o)),o.textNodes.push(f))}if(a.length){for(d=0,p=a.length;d<p;++d)a[d].doMerge();t.setStart(l,u),t.setEnd(c,g)}},getAdjacentMergeableTextNode:function(t,o){var n,i=t.nodeType==e.TEXT_NODE,r=i?t.parentNode:t,s=o?"nextSibling":"previousSibling";if(i){if((n=t[s])&&n.nodeType==e.TEXT_NODE)return n}else if((n=r[s])&&this.areElementsMergeable(t,n))return n[o?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,o){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(o.tagName||"").toLowerCase())&&function(e,t){return e.className.replace(n," ")==t.className.replace(n," ")}(e,o)&&function(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var o,n,i,r=0,s=e.attributes.length;r<s;++r)if("class"!=(i=(o=e.attributes[r]).name)){if(n=t.attributes.getNamedItem(i),o.specified!=n.specified)return!1;if(o.specified&&o.nodeValue!==n.nodeValue)return!1}return!0}(e,o)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var o=e.parentNode;if(1==o.childNodes.length&&t.dom.arrayContains(this.tagNames,o.tagName.toLowerCase()))this.cssClass&&function(e,t,o){e.className?(s(e,o),e.className+=" "+t):e.className=t}(o,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(o,this.cssStyle,this.similarStyleRegExp);else{var n=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(n,e),n.appendChild(e)}},isRemovable:function(o){return t.dom.arrayContains(this.tagNames,o.tagName.toLowerCase())&&""===e.lang.string(o.className).trim()&&(!o.getAttribute("style")||""===e.lang.string(o.getAttribute("style")).trim())},undoToTextNode:function(e,t,o,n){var i,c,u,h,p=!o,f=o||n,m=!1;if(!t.containsNode(f)){var v=t.cloneRange();v.selectNode(f),v.isPointInRange(t.endContainer,t.endOffset)&&g(t.endContainer,t.endOffset)&&(d(f,t.endContainer,t.endOffset,this.container),t.setEndAfter(f)),v.isPointInRange(t.startContainer,t.startOffset)&&g(t.startContainer,t.startOffset)&&(f=d(f,t.startContainer,t.startOffset,this.container))}!p&&this.similarClassRegExp&&s(f,this.similarClassRegExp),p&&this.similarStyleRegExp&&(m="change"==(i=f,c=this.cssStyle,u=this.similarStyleRegExp,(h=l(i,c))?(a(i,h),"remove"):(r(i,c,u),"change"))),this.isRemovable(f)&&!m&&function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(f)},applyToRange:function(t){for(var o,n=t.length;n--;){if(!t[n].getNodes([e.TEXT_NODE]).length)try{var i=this.createContainer(t[n].endContainer.ownerDocument);return t[n].surroundContents(i),void this.selectNode(t[n],i)}catch(e){}if(t[n].splitBoundaries(),(o=t[n].getNodes([e.TEXT_NODE])).length){for(var r,s=0,a=o.length;s<a;++s)r=o[s],this.getMatchingAncestor(r).element||this.applyToTextNode(r);t[n].setStart(o[0],0),r=o[o.length-1],t[n].setEnd(r,r.length),this.normalize&&this.postApply(o,t[n])}}},undoToRange:function(t){for(var o,n,i,r=t.length;r--;){if((o=t[r].getNodes([e.TEXT_NODE])).length)t[r].splitBoundaries(),o=t[r].getNodes([e.TEXT_NODE]);else{var s=t[r].endContainer.ownerDocument.createTextNode(e.INVISIBLE_SPACE);t[r].insertNode(s),t[r].selectNode(s),o=[s]}for(var a=0,l=o.length;a<l;++a)t[r].isValid()&&(n=o[a],"style"===(i=this.getMatchingAncestor(n)).type?this.undoToTextNode(n,t[r],!1,i.element):i.element&&this.undoToTextNode(n,t[r],i.element));1==l?this.selectNode(t[r],o[0]):(t[r].setStart(o[0],0),n=o[o.length-1],t[r].setEnd(n,n.length),this.normalize&&this.postApply(o,t[r]))}},selectNode:function(t,o){var n=o.nodeType===e.ELEMENT_NODE,i=!("canHaveHTML"in o)||o.canHaveHTML,r=n?o.innerHTML:o.data,s=""===r||r===e.INVISIBLE_SPACE;if(s&&n&&i)try{o.innerHTML=e.INVISIBLE_SPACE}catch(e){}t.selectNodeContents(o),s&&n?t.collapse(!1):s&&(t.setStartAfter(o),t.setEndAfter(o))},getTextSelectedByRange:function(e,t){var o=t.cloneRange();o.selectNodeContents(e);var n=o.intersection(t),i=n?n.toString():"";return o.detach(),i},isAppliedToRange:function(t){for(var o,n,i=[],r="full",s=t.length;s--;){if(!(n=t[s].getNodes([e.TEXT_NODE])).length)return!!(o=this.getMatchingAncestor(t[s].startContainer).element)&&{elements:[o],coverage:r};for(var a,l=0,c=n.length;l<c;++l)a=this.getTextSelectedByRange(n[l],t[s]),(o=this.getMatchingAncestor(n[l]).element)&&""!=a?(i.push(o),1===e.dom.getTextNodes(o,!0).length?r="full":"full"===r&&(r="inline")):o||(r="partial")}return!!i.length&&{elements:i,coverage:r}},toggleRange:function(e){var t,o=this.isAppliedToRange(e);o?"full"===o.coverage?this.undoToRange(e):"inline"===o.coverage?(t=u(o.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(u(o.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=p}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var o=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=o&&o.exec,r=null;if(this.editor.fire("beforecommand:composer"),i)n.unshift(this.composer),r=i.apply(o,n);else try{r=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),r},state:function(e,t){var o=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=o&&o.state;if(i)return n.unshift(this.composer),i.apply(o,n);try{return this.doc.queryCommandState(e)}catch(e){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],o=wysihtml5.lang.array(arguments).get(),n=t&&t.stateValue;return!!n&&(o.unshift(this.composer),n.apply(t,o))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){var t,o=e.dom;e.commands.createLink={exec:function(n,i,r){var s=this.state(n,i);s?n.selection.executeAndRestore((function(){!function(e,t,o){for(var n,i=t.length;i--;){for(var r=(n=t[i].attributes).length;r--;)t[i].removeAttribute(n.item(r).name);for(var s in o)o.hasOwnProperty(s)&&t[i].setAttribute(s,o[s])}}(0,s,r)})):function(n,i){var r,s,a,l,c,u,g,d,h,p=n.doc,f="_wysihtml5-temp-"+ +new Date,m=0;for(e.commands.formatInline.exec(n,t,"A",f,/non-matching-class/g,t,t,!0,!0),r=(s=p.querySelectorAll("A."+f)).length;m<r;m++)for(h in(a=s[m]).removeAttribute("class"),i)"text"!==h&&a.setAttribute(h,i[h]);u=a,1===r&&(g=o.getTextContent(a),l=!!a.querySelector("*"),c=""===g||g===e.INVISIBLE_SPACE,!l&&c&&(o.setTextContent(a,i.text||a.href),d=p.createTextNode(" "),n.selection.setAfter(a),o.insert(d).after(a),u=d)),n.selection.setAfter(u)}(n,r="object"==typeof r?r:{href:r})},state:function(t,o){return e.commands.formatInline.state(t,o,"A")}}}(wysihtml5),function(e){var t=e.dom;e.commands.removeLink={exec:function(e,o){var n=this.state(e,o);n&&e.selection.executeAndRestore((function(){!function(e,o){for(var n,i,r=o.length,s=0;s<r;s++)n=o[s],i=t.getParentElement(n,{nodeName:"code"}),t.getTextContent(n).match(t.autoLink.URL_REG_EXP)&&!i?i=t.renameElement(n,"code"):t.replaceWithChildNodes(n)}(0,n)}))},state:function(t,o){return e.commands.formatInline.state(t,o,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(o,n,i){e.commands.formatInline.execWithToggle(o,n,"span","wysiwyg-font-size-"+i,t)},state:function(o,n,i){return e.commands.formatInline.state(o,n,"span","wysiwyg-font-size-"+i,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(o,n,i){i="object"==typeof i?i.size:i,/^\s*$/.test(i)||e.commands.formatInline.execWithToggle(o,n,"span",!1,!1,"font-size:"+i,t)},state:function(o,n,i){return e.commands.formatInline.state(o,n,"span",!1,!1,"font-size",t)},stateValue:function(t,o){var n,i=this.state(t,o);return i&&e.lang.object(i).isArray()&&(i=i[0]),!(!i||!(n=i.getAttribute("style")))&&e.quirks.styleParser.parseFontSize(n)}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(o,n,i){e.commands.formatInline.execWithToggle(o,n,"span","wysiwyg-color-"+i,t)},state:function(o,n,i){return e.commands.formatInline.state(o,n,"span","wysiwyg-color-"+i,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(o,n,i){var r,s=e.quirks.styleParser.parseColor("object"==typeof i?"color:"+i.color:"color:"+i,"color");s&&(r="color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(r+="color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),e.commands.formatInline.execWithToggle(o,n,"span",!1,!1,r,t))},state:function(o,n){return e.commands.formatInline.state(o,n,"span",!1,!1,"color",t)},stateValue:function(t,o,n){var i,r=this.state(t,o);return r&&e.lang.object(r).isArray()&&(r=r[0]),!!(r&&(i=r.getAttribute("style"))&&i)&&(val=e.quirks.styleParser.parseColor(i,"color"),e.quirks.styleParser.unparseColor(val,n))}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(o,n,i){var r,s=e.quirks.styleParser.parseColor("object"==typeof i?"background-color:"+i.color:"background-color:"+i,"background-color");s&&(r="background-color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(r+="background-color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),e.commands.formatInline.execWithToggle(o,n,"span",!1,!1,r,t))},state:function(o,n){return e.commands.formatInline.state(o,n,"span",!1,!1,"background-color",t)},stateValue:function(t,o,n){var i,r=this.state(t,o),s=!1;return r&&e.lang.object(r).isArray()&&(r=r[0]),!(!r||!(i=r.getAttribute("style")))&&(s=e.quirks.styleParser.parseColor(i,"background-color"),e.quirks.styleParser.unparseColor(s,n))}}}(wysihtml5),function(e){var t=e.dom,o=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];function n(t,o,n){t.className?(r(t,n),t.className=e.lang.string(t.className+" "+o).trim()):t.className=o}function i(t,o,n){s(t,n),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+o).trim()):t.setAttribute("style",o)}function r(t,o){var n=o.test(t.className);return t.className=t.className.replace(o,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),n}function s(t,o){var n=o.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(o,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),n}function a(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}e.commands.formatBlock={exec:function(l,c,u,g,d,h,p){l.doc;var f,m,v,y,b,_=this.state(l,c,u,g,d,h,p),E=l.config.useLineBreaks,w=E?"DIV":"P";u="string"==typeof u?u.toUpperCase():u,_.length?l.selection.executeAndRestoreRangy((function(){for(var o=_.length;o--;){if(d&&(m=r(_[o],d)),p&&(y=s(_[o],p)),(y||m)&&null===u&&_[o].nodeName!=w)return;var n=(l=_[o],!!e.lang.string(l.className).trim()),i=a(_[o]);n||i||!E&&"P"!==u?t.renameElement(_[o],"P"===u?"DIV":w):(e.dom.lineBreaks(_[o]).add(),t.replaceWithChildNodes(_[o]))}var l})):(null===u||e.lang.array(o).contains(u))&&(f=l.selection.findNodesInSelection(o).concat(l.selection.getSelectedOwnNodes()),l.selection.executeAndRestoreRangy((function(){for(var e=f.length;e--;)(b=t.getParentElement(f[e],{nodeName:o}))==l.element&&(b=null),b&&(u&&(b=t.renameElement(b,u)),g&&n(b,g,d),h&&i(b,h,p),v=!0)})),v)||function(t,o){t.selection.isCollapsed()&&t.selection.selectLine();for(var n,i=t.selection.surround(o),r=0,s=i.length;r<s;r++)e.dom.lineBreaks(i[r]).remove(),n=void 0,(n=i[r].lastChild)&&function(e){return"BR"===e.nodeName}(n)&&n.parentNode.removeChild(n)}(l,{nodeName:u||w,className:g||null,cssStyle:h||null})},state:function(o,n,i,r,s,a,l){var c,u=o.selection.getSelectedOwnNodes(),g=[];i="string"==typeof i?i.toUpperCase():i;for(var d=0,h=u.length;d<h;d++)(c=t.getParentElement(u[d],{nodeName:i,className:r,classRegExp:s,cssStyle:a,styleRegExp:l}))&&-1==e.lang.array(g).indexOf(c)&&g.push(c);return 0!=g.length&&g}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,o){var n,i,r,s=this.state(e);s?e.selection.executeAndRestore((function(){n=s.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(s),n&&wysihtml5.dom.replaceWithChildNodes(n)})):(r=(i=e.selection.getRange()).extractContents(),s=e.doc.createElement("pre"),n=e.doc.createElement("code"),o&&(n.className=o),s.appendChild(n),n.appendChild(r),i.insertNode(s),e.selection.selectNode(s))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){var t={strong:"b",em:"i",b:"strong",i:"em"},o={};function n(n,i,r,s,a,l){var c=n;return i&&(c+=":"+i),s&&(c+=":"+s),o[c]||(o[c]=new e.selection.HTMLApplier(function(e){var o=t[e];return o?[e.toLowerCase(),o.toLowerCase()]:[e.toLowerCase()]}(n),i,r,!0,s,a,l)),o[c]}e.commands.formatInline={exec:function(e,t,o,i,r,s,a,l,c){var u=e.selection.createRange(),g=e.selection.getOwnRanges();if(!g||0==g.length)return!1;e.selection.getSelection().removeAllRanges(),n(o,i,r,s,a,e.element).toggleRange(g),l?c||e.cleanUp():(u.setStart(g[0].startContainer,g[0].startOffset),u.setEnd(g[g.length-1].endContainer,g[g.length-1].endOffset),e.selection.setSelection(u),e.selection.executeAndRestore((function(){c||e.cleanUp()}),!0,!0))},execWithToggle:function(t,o,n,i,r,s,a){if(this.state(t,o,n,i,r,s,a)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()){var l=this.state(t,o,n,i,r)[0];t.selection.executeAndRestoreRangy((function(){l.parentNode,t.selection.selectNode(l,!0),e.commands.formatInline.exec(t,o,n,i,r,s,a,!0,!0)}))}else this.state(t,o,n,i,r,s,a)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy((function(){e.commands.formatInline.exec(t,o,n,i,r,s,a,!0,!0)})):e.commands.formatInline.exec(t,o,n,i,r,s,a)},state:function(o,i,r,s,a,l,c){var u,g,d=o.doc,h=t[r]||r;return!(!e.dom.hasElementWithTagName(d,r)&&!e.dom.hasElementWithTagName(d,h))&&!(s&&!e.dom.hasElementWithClassName(d,s))&&!(!(u=o.selection.getOwnRanges())||0===u.length)&&!(!(g=n(r,s,a,l,c,o.element).isAppliedToRange(u))||!g.elements)&&g.elements}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,o){var n=this.state(t,o),i=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore((function(){if(n)t.config.useLineBreaks&&e.dom.lineBreaks(n).add(),e.dom.unwrap(n);else if(t.selection.isCollapsed()&&t.selection.selectLine(),i){var o=i.ownerDocument.createElement("blockquote");e.dom.insert(o).after(i),o.appendChild(i)}else t.selection.surround({nodeName:"blockquote"})}))},state:function(t,o){var n=t.selection.getSelectedNode();return e.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,t.element)||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,o){e.commands.support(t)?e.doc.execCommand(t,!1,o):e.selection.insertHTML(o)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(o,n,i){i="object"==typeof i?i:{src:i};var r,s,a=o.doc,l=this.state(o);if(l)return o.selection.setBefore(l),(s=l.parentNode).removeChild(l),e.dom.removeEmptyTextNodes(s),"A"!==s.nodeName||s.firstChild||(o.selection.setAfter(s),s.parentNode.removeChild(s)),void e.quirks.redraw(o.element);for(var c in l=a.createElement(t),i)l.setAttribute("className"===c?"class":c,i[c]);o.selection.insertNode(l),e.browser.hasProblemsSettingCaretAfterImg()?(r=a.createTextNode(e.INVISIBLE_SPACE),o.selection.insertNode(r),o.selection.setAfter(r)):o.selection.setAfter(l)},state:function(o){var n,i,r,s=o.doc;return!!e.dom.hasElementWithTagName(s,t)&&!!(n=o.selection.getSelectedNode())&&(n.nodeName===t?n:n.nodeType===e.ELEMENT_NODE&&(i=o.selection.getText(),!(i=e.lang.string(i).trim())&&1===(r=o.selection.getNodes(e.ELEMENT_NODE,(function(e){return"IMG"===e.nodeName}))).length&&r[0]))}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(o,n){o.commands.support(n)?(o.doc.execCommand(n,!1,null),e.browser.autoScrollsToCaret()||o.selection.scrollIntoView()):o.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var o=t.length;o--;)if(e.nodeName===t[o])return!0}return!1},o=function(o,n,i){var r={el:null,other:!1};if(o){var s=e.dom.getParentElement(o,{nodeName:"LI"}),a="UL"===n?"OL":"UL";t(o,n)?r.el=o:t(o,a)?r={el:o,other:!0}:s&&(t(s.parentNode,n)?r.el=s.parentNode:t(s.parentNode,a)&&(r={el:s.parentNode,other:!0}))}return r.el&&!i.element.contains(r.el)&&(r.el=null),r},n=function(e,o){for(var n=o.selection.getOwnRanges(),i=[],r=n.length;r--;)i=i.concat(n[r].getNodes([1],(function(o){return t(o,e)})));return i};return{exec:function(t,i,r){var s=t.doc,a="OL"===r?"insertOrderedList":"insertUnorderedList",l=t.selection.getSelectedNode(),c=o(l,r,t);c.el?c.other?function(t,o,i){var r="UL"===o?"OL":"UL";i.selection.executeAndRestore((function(){for(var s=[t].concat(n(r,i)),a=s.length;a--;)e.dom.renameElement(s[a],o.toLowerCase())}))}(c.el,r,t):function(t,o,i){var r,s="UL"===o?"OL":"UL";i.selection.executeAndRestore((function(){var a=n(s,i);if(a.length)for(var l=a.length;l--;)e.dom.renameElement(a[l],o.toLowerCase());else{for(var c=(r=n(["OL","UL"],i)).length;c--;)e.dom.resolveList(r[c],i.config.useLineBreaks);e.dom.resolveList(t,i.config.useLineBreaks)}}))}(c.el,r,t):t.commands.support(a)?s.execCommand(a,!1,null):function(t,o){o.selection.executeAndRestoreRangy((function(){var n,i,r="_wysihtml5-temp-"+(new Date).getTime(),s=o.selection.deblockAndSurround({nodeName:"div",className:r});s.innerHTML=s.innerHTML.replace(/\uFEFF/g,""),s&&(n=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(s.innerHTML),i=e.dom.convertToList(s,t.toLowerCase(),o.parent.config.uneditableContainerClassname),n&&o.selection.selectNode(i.querySelector("li"),!0))}))}(r,t)},state:function(e,t,n){var i=e.selection.getSelectedNode(),r=o(i,n,e);return!(!r.el||r.other)&&r.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",o=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,t,o)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",o=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,t,o)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",o=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,t,o)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",o=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,t,o)}}}(wysihtml5),function(e){var t="text-align: right;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,null,null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,null,null,t,o)}}}(wysihtml5),function(e){var t="text-align: left;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,null,null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,null,null,t,o)}}}(wysihtml5),function(e){var t="text-align: center;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(n,i){return e.commands.formatBlock.exec(n,"formatBlock",null,null,null,t,o)},state:function(n,i){return e.commands.formatBlock.state(n,"formatBlock",null,null,null,t,o)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(e){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(e){return!1}},wysihtml5.commands.createTable={exec:function(e,t,o){var n,i,r;if(o&&o.cols&&o.rows&&parseInt(o.cols,10)>0&&parseInt(o.rows,10)>0){for(r=o.tableStyle?'<table style="'+o.tableStyle+'">':"<table>",r+="<tbody>",i=0;i<o.rows;i++){for(r+="<tr>",n=0;n<o.cols;n++)r+="<td>&nbsp;</td>";r+="</tr>"}r+="</tbody></table>",e.commands.exec("insertHTML",r)}},state:function(e,t){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e,t){if(e.tableSelection){var o=e.tableSelection.start,n=e.tableSelection.end;if(o&&n&&o==n&&(wysihtml5.dom.getAttribute(o,"colspan")&&parseInt(wysihtml5.dom.getAttribute(o,"colspan"),10)>1||wysihtml5.dom.getAttribute(o,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(o,"rowspan"),10)>1))return[o]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,o){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var n=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==o||"above"==o?wysihtml5.dom.table.addCells(n.start,o):"after"!=o&&"below"!=o||wysihtml5.dom.table.addCells(n.end,o),setTimeout((function(){e.tableSelection.select(n.start,n.end)}),0)}},state:function(e,t){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,o){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var n,i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),r=wysihtml5.dom.table.indexOf(i.start),s=e.tableSelection.table;wysihtml5.dom.table.removeCells(i.start,o),setTimeout((function(){(n=wysihtml5.dom.table.findCell(s,r))||("row"==o&&(n=wysihtml5.dom.table.findCell(s,{row:r.row-1,col:r.col})),"column"==o&&(n=wysihtml5.dom.table.findCell(s,{row:r.row,col:r.col-1}))),n&&e.tableSelection.select(n,n)}),0)}},state:function(e,t){return!1}},wysihtml5.commands.indentList={exec:function(e,t,o){var n=e.selection.getSelectionParentsByTag("LI");return!!n&&this.tryToPushLiLevel(n,e.selection)},state:function(e,t){return!1},tryToPushLiLevel:function(e,t){var o,n,i,r,s,a=!1;return t.executeAndRestoreRangy((function(){for(var t=e.length;t--;)r=e[t],o="OL"===r.parentNode.nodeName?"OL":"UL",n=r.ownerDocument.createElement(o),i=wysihtml5.dom.domNode(r).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),s=i?i.querySelector("ul, ol"):null,i&&(s?s.appendChild(r):(n.appendChild(r),i.appendChild(n)),a=!0)})),a}},wysihtml5.commands.outdentList={exec:function(e,t,o){var n=e.selection.getSelectionParentsByTag("LI");return!!n&&this.tryToPullLiLevel(n,e)},state:function(e,t){return!1},tryToPullLiLevel:function(e,t){var o,n,i,r,s,a=!1,l=this;return t.selection.executeAndRestoreRangy((function(){for(var c=e.length;c--;)if((r=e[c]).parentNode&&("OL"===(o=r.parentNode).tagName||"UL"===o.tagName)){if(a=!0,n=wysihtml5.dom.getParentElement(o.parentNode,{nodeName:["OL","UL"]},!1,t.element),i=wysihtml5.dom.getParentElement(o.parentNode,{nodeName:["LI"]},!1,t.element),n&&i)r.nextSibling&&(s=l.getAfterList(o,r),r.appendChild(s)),n.insertBefore(r,i.nextSibling);else{r.nextSibling&&(s=l.getAfterList(o,r),r.appendChild(s));for(var u=r.childNodes.length;u--;)o.parentNode.insertBefore(r.childNodes[u],o.nextSibling);o.parentNode.insertBefore(document.createElement("br"),o.nextSibling),r.parentNode.removeChild(r)}0===o.childNodes.length&&o.parentNode.removeChild(o)}})),a},getAfterList:function(e,t){for(var o=e.nodeName,n=document.createElement(o);t.nextSibling;)n.appendChild(t.nextSibling);return n}},function(e){var t="data-wysihtml5-selection-node",o="data-wysihtml5-selection-offset",n=(e.INVISIBLE_SPACE,e.INVISIBLE_SPACE,e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var e,t=this;this.composer.sandbox.getDocument(),n.observe(this.element,"keydown",(function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var o=e.keyCode,n=90===o&&!e.shiftKey,i=90===o&&e.shiftKey||89===o;n?(t.undo(),e.preventDefault()):i&&(t.redo(),e.preventDefault())}})),n.observe(this.element,"keydown",(function(o){var n=o.keyCode;n!==e&&(e=n,8!==n&&46!==n||t.transact())})),this.editor.on("newword:composer",(function(){t.transact()})).on("beforecommand:composer",(function(){t.transact()}))},transact:function(){var n,i,r,s,a,l=this.historyStr[this.position-1],c=this.composer.getValue(!1,!1),u=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(c!==l){(this.historyStr.length=this.historyDom.length=this.position)>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,u&&(i=(n=this.composer.selection.getRange())&&n.startContainer?n.startContainer:this.element,r=n&&n.startOffset?n.startOffset:0,i.nodeType===e.ELEMENT_NODE?s=i:(s=i.parentNode,a=this.getChildNodeIndex(s,i)),s.setAttribute(o,r),void 0!==a&&s.setAttribute(t,a));var g=this.element.cloneNode(!!c);this.historyDom.push(g),this.historyStr.push(c),s&&(s.removeAttribute(o),s.removeAttribute(t))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var n,i,r,s=0,a=e.childNodes,l=e.childNodes.length;s<l;s++)this.element.appendChild(a[s].cloneNode(!0));e.hasAttribute(o)?(n=e.getAttribute(o),r=e.getAttribute(t),i=this.element):(n=(i=this.element.querySelector("["+o+"]")||this.element).getAttribute(o),r=i.getAttribute(t),i.removeAttribute(o),i.removeAttribute(t)),null!==r&&(i=this.getChildNodeByIndex(i,+r)),this.composer.selection.set(i,n)},getChildNodeIndex:function(e,t){for(var o=0,n=e.childNodes,i=n.length;o<i;o++)if(n[o]===t)return o},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,o){this.parent=e,this.element=t,this.config=o,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",(function(){e.parent.on("change_view",(function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout((function(){e.focus()}),0)):e.hide()}))}))},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,o=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,o){this.base(e,t,o),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=o.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,o){var n=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return!1!==t&&(n=this.parent.parse(n,!1!==o)),n},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(t){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var o=this.element.lastChild;t&&o&&this.selection&&("BR"===o.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea((function(){e._create()}),{},this.editableArea):(this.sandbox=new t.ContentEditableArea((function(){e._create()})),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox((function(){e._create()}),{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var o=this.textarea.element;t.insert(this.editableArea).after(o),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var i=this.config.name;i&&(t.addClass(this.element,i),this.config.contentEditableMode||t.addClass(this.editableArea,i)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var r="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");r&&t.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||o.isIos()||setTimeout((function(){n.focus(!0)}),100),o.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,i=o.canDisableAutoLinking(),r=o.doesAutoLinkingInContentEditable();if(i&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!r||r&&i)&&(this.parent.on("newword:composer",(function(){t.getTextContent(n.element).match(t.autoLink.URL_REG_EXP)&&n.selection.executeAndRestore((function(o,i){for(var r=n.element.querySelectorAll("."+n.config.uneditableContainerClassname),s=!1,a=r.length;a--;)e.dom.contains(r[a],i)&&(s=!0);s||t.autoLink(i.parentNode,[n.config.uneditableContainerClassname])}))})),t.observe(this.element,"blur",(function(){t.autoLink(n.element,[n.config.uneditableContainerClassname])})));var s=this.sandbox.getDocument().getElementsByTagName("a"),a=t.autoLink.URL_REG_EXP,l=function(o){var n=e.lang.string(t.getTextContent(o)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};t.observe(this.element,"keydown",(function(e){if(s.length){var o,i=n.selection.getSelectedNode(e.target.ownerDocument),r=t.getParentElement(i,{nodeName:"A"},4);r&&(o=l(r),setTimeout((function(){var e=l(r);e!==o&&e.match(a)&&r.setAttribute("href",e)}),0))}}))}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),o.supportsEvent("resizeend")){var n=["width","height"],i=n.length,r=this.element;t.observe(r,"resizeend",(function(t){var o,s=t.target||t.srcElement,a=s.style,l=0;if("IMG"===s.nodeName){for(;l<i;l++)a[o=n[l]]&&(s.setAttribute(o,parseInt(a[o],10)),a[o]="");e.quirks.redraw(r)}}))}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){var n=this,i=["LI","P","H1","H2","H3","H4","H5","H6"],r=["UL","OL","MENU"];function s(e){var o=t.getParentElement(e,{nodeName:["P","DIV"]},2);o&&t.contains(n.element,o)&&n.selection.executeAndRestore((function(){n.config.useLineBreaks?t.replaceWithChildNodes(o):"P"!==o.nodeName&&t.renameElement(o,"p")}))}this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],(function(){if(n.isEmpty()){var e=n.doc.createElement("P");n.element.innerHTML="",n.element.appendChild(e),o.displaysCaretInEmptyContentEditableCorrectly()?n.selection.selectNode(e,!0):(e.innerHTML="<br>",n.selection.setBefore(e.firstChild))}})),t.observe(this.element,"keydown",(function(o){var a=o.keyCode;if(!o.shiftKey&&(a===e.ENTER_KEY||a===e.BACKSPACE_KEY)){var l=t.getParentElement(n.selection.getSelectedNode(),{nodeName:i},4);l?setTimeout((function(){var o=n.selection.getSelectedNode();if("LI"===l.nodeName){if(!o)return;t.getParentElement(o,{nodeName:r},2)||s(o)}a===e.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&s(o)}),0):n.config.useLineBreaks&&a===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(o.preventDefault(),n.commands.exec("insertLineBreak"))}}))}})}(wysihtml5),function(e){var t=e.dom,o=document,n=window,i=o.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",".wysiwyg-color-black {color: black;}",".wysiwyg-color-silver {color: silver;}",".wysiwyg-color-gray {color: gray;}",".wysiwyg-color-white {color: white;}",".wysiwyg-color-maroon {color: maroon;}",".wysiwyg-color-red {color: red;}",".wysiwyg-color-purple {color: purple;}",".wysiwyg-color-fuchsia {color: fuchsia;}",".wysiwyg-color-green {color: green;}",".wysiwyg-color-lime {color: lime;}",".wysiwyg-color-olive {color: olive;}",".wysiwyg-color-yellow {color: yellow;}",".wysiwyg-color-navy {color: navy;}",".wysiwyg-color-blue {color: blue;}",".wysiwyg-color-teal {color: teal;}",".wysiwyg-color-aqua {color: aqua;}",".wysiwyg-color-orange {color: orange;}",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];e.views.Composer.prototype.style=function(){var l,c=this,u=o.querySelector(":focus"),g=this.textarea.element,d=g.hasAttribute("placeholder"),h=d&&g.getAttribute("placeholder"),p=g.style.display,f=g.disabled;this.focusStylesHost=i.cloneNode(!1),this.blurStylesHost=i.cloneNode(!1),this.disabledStylesHost=i.cloneNode(!1),d&&g.removeAttribute("placeholder"),g===u&&g.blur(),g.disabled=!1,g.style.display=l="none",(g.getAttribute("rows")&&"auto"===t.getStyle("height").from(g)||g.getAttribute("cols")&&"auto"===t.getStyle("width").from(g))&&(g.style.display=l=p),t.copyStyles(s).from(g).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(r).from(g).to(this.element).andTo(this.blurStylesHost),t.insertCSS(a).into(this.element.ownerDocument),g.disabled=!0,t.copyStyles(s).from(g).to(this.disabledStylesHost),t.copyStyles(r).from(g).to(this.disabledStylesHost),g.disabled=f,g.style.display=p,function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var i=e.style,r=o.documentElement.scrollTop||o.body.scrollTop,s=o.documentElement.scrollLeft||o.body.scrollLeft,a={position:i.position,top:i.top,left:i.left,WebkitUserSelect:i.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(a).on(e),n.scrollTo&&n.scrollTo(s,r)}}(g),g.style.display=l,t.copyStyles(s).from(g).to(this.focusStylesHost),t.copyStyles(r).from(g).to(this.focusStylesHost),g.style.display=p,t.copyStyles(["display"]).from(g).to(this.editableArea);var m=e.lang.array(s).without(["display"]);return u?u.focus():g.blur(),d&&g.setAttribute("placeholder",h),this.parent.on("focus:composer",(function(){t.copyStyles(m).from(c.focusStylesHost).to(c.editableArea),t.copyStyles(r).from(c.focusStylesHost).to(c.element)})),this.parent.on("blur:composer",(function(){t.copyStyles(m).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(r).from(c.blurStylesHost).to(c.element)})),this.parent.observe("disable:composer",(function(){t.copyStyles(m).from(c.disabledStylesHost).to(c.editableArea),t.copyStyles(r).from(c.disabledStylesHost).to(c.element)})),this.parent.observe("enable:composer",(function(){t.copyStyles(m).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(r).from(c.blurStylesHost).to(c.element)})),this}}(wysihtml5),function(e){var t=e.dom,o=e.browser,n={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var i=this,r=this.getValue(!1,!1),s=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),a=this.element,l=o.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?a:this.sandbox.getWindow();if(t.observe(s,"DOMNodeRemoved",(function(){clearInterval(c),i.parent.fire("destroy:composer")})),!o.supportsMutationEvents())var c=setInterval((function(){t.contains(document.documentElement,s)||(clearInterval(c),i.parent.fire("destroy:composer"))}),250);t.observe(l,["drop","paste","mouseup","focus","keyup"],(function(){setTimeout((function(){i.parent.fire("interaction").fire("interaction:composer")}),0)})),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=t.observe(s,["focus","mouseup","mouseover"],(function(){i.doc.execCommand("enableObjectResizing",!1,"false"),i.doc.execCommand("enableInlineTableEditing",!1,"false"),i.tableClickHandle.stop()})):setTimeout((function(){i.doc.execCommand("enableObjectResizing",!1,"false"),i.doc.execCommand("enableInlineTableEditing",!1,"false")}),0)),this.tableSelection=e.quirks.tableCellsSelection(a,i.parent)),t.observe(l,"focus",(function(e){i.parent.fire("focus",e).fire("focus:composer",e),setTimeout((function(){r=i.getValue(!1,!1)}),0)})),t.observe(l,"blur",(function(e){if(r!==i.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),i.parent.fire("change",t).fire("change:composer",t)}i.parent.fire("blur",e).fire("blur:composer",e)})),t.observe(a,"dragenter",(function(){i.parent.fire("unset_placeholder")})),t.observe(a,["drop","paste"],(function(e){setTimeout((function(){i.parent.fire(e.type,e).fire(e.type+":composer",e)}),0)})),t.observe(a,"keyup",(function(t){var o=t.keyCode;o!==e.SPACE_KEY&&o!==e.ENTER_KEY||i.parent.fire("newword:composer")})),this.parent.on("paste:composer",(function(){setTimeout((function(){i.parent.fire("newword:composer")}),0)})),o.canSelectImagesInContentEditable()||t.observe(a,"mousedown",(function(t){var o=t.target,n=a.querySelectorAll("img"),r=a.querySelectorAll("."+i.config.uneditableContainerClassname+" img"),s=e.lang.array(n).without(r);"IMG"===o.nodeName&&e.lang.array(s).contains(o)&&i.selection.selectNode(o)})),o.canSelectImagesInContentEditable()||t.observe(a,"drop",(function(e){setTimeout((function(){i.selection.getSelection().removeAllRanges()}),0)})),o.hasHistoryIssue()&&o.supportsSelectionModify()&&t.observe(a,"keydown",(function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,o=a.ownerDocument.defaultView.getSelection();37!==t&&39!==t||(37===t&&(o.modify("extend","left","lineboundary"),e.shiftKey||o.collapseToStart()),39===t&&(o.modify("extend","right","lineboundary"),e.shiftKey||o.collapseToEnd()),e.preventDefault())}})),t.observe(a,"keydown",(function(e){var t=e.keyCode,o=n[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&o&&(i.commands.exec(o),e.preventDefault()),8===t?function(e,t,o,n){if(t.isCollapsed())if(t.caretIsInTheBeginnig("LI"))e.preventDefault(),n.commands.exec("outdentList");else if(t.caretIsInTheBeginnig())e.preventDefault();else{if(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)){var i=t.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(i.textContent||i.innerText))i.parentNode.removeChild(i);else{var r=i.ownerDocument.createRange();r.selectNodeContents(i),r.collapse(!1),t.setSelection(r)}}var s=t.caretIsBeforeUneditable();s&&(e.preventDefault(),function(e,t,o){var n=e.getPreviousNode(t,!0),i=e.getSelectedNode();if(1!==i.nodeType&&i.parentNode!==o&&(i=i.parentNode),n)if(1==i.nodeType){var r=i.firstChild;if(1==n.nodeType)for(;i.firstChild;)n.appendChild(i.firstChild);else for(;i.firstChild;)t.parentNode.insertBefore(i.firstChild,t);i.parentNode&&i.parentNode.removeChild(i),e.setBefore(r)}else 1==n.nodeType?n.appendChild(i):t.parentNode.insertBefore(i,t),e.setBefore(i)}(t,s,o))}else t.containsUneditable()&&(e.preventDefault(),t.deleteContents())}(e,i.selection,a,i):i.config.handleTabKey&&9===t&&(e.preventDefault(),function(e,t){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")}(i))})),t.observe(a,"keydown",(function(t){var o,n=i.selection.getSelectedNode(!0),r=t.keyCode;!n||"IMG"!==n.nodeName||r!==e.BACKSPACE_KEY&&r!==e.DELETE_KEY||((o=n.parentNode).removeChild(n),"A"!==o.nodeName||o.firstChild||o.parentNode.removeChild(o),setTimeout((function(){e.quirks.redraw(a)}),0),t.preventDefault())})),!this.config.contentEditableMode&&o.hasIframeFocusIssue()&&(t.observe(s,"focus",(function(){setTimeout((function(){i.doc.querySelector(":focus")!==i.element&&i.focus()}),0)})),t.observe(this.element,"blur",(function(){setTimeout((function(){i.selection.getSelection().removeAllRanges()}),0)})));var u={IMG:"Image: ",A:"Link: "};t.observe(a,"mouseover",(function(e){var t,o=e.target,n=o.nodeName;"A"!==n&&"IMG"!==n||o.hasAttribute("title")||(t=u[n]+(o.getAttribute("href")||o.getAttribute("src")),o.setAttribute("title",t))}))}}(wysihtml5),function(e){e.views.Synchronizer=Base.extend({constructor:function(e,t,o){this.editor=e,this.textarea=t,this.composer=o,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,o=this,n=this.textarea.element.form,i=function(){t=setInterval((function(){o.fromComposerToTextarea()}),400)},r=function(){clearInterval(t),t=null};i(),n&&(e.dom.observe(n,"submit",(function(){o.sync(!0)})),e.dom.observe(n,"reset",(function(){setTimeout((function(){o.fromTextareaToComposer()}),0)}))),this.editor.on("change_view",(function(e){"composer"!==e||t?"textarea"===e&&(o.fromComposerToTextarea(!0),r()):(o.fromTextareaToComposer(!0),i())})),this.editor.on("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,o){this.base(e,t,o),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,o=this.element.value;return e&&!o||o===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,o={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",(function(){wysihtml5.dom.observe(e,n,(function(e){var n=o[e.type]||e.type;t.fire(n).fire(n+":textarea")})),wysihtml5.dom.observe(e,["paste","drop"],(function(){setTimeout((function(){t.fire("paste").fire("paste:textarea")}),0)}))}))}}),function(e){var t,o={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,n){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(o).merge(n).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var i=this;setTimeout((function(){i.fire("beforeload").fire("load")}),0)}else e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,o){var n=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,i=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:n,uneditableClass:this.config.uneditableContainerClassname,clearInternals:o});return"object"==typeof t&&e.quirks.redraw(t),i},_initParser:function(){this.on("paste:composer",(function(){var t=this;t.composer.selection.executeAndRestore((function(){e.quirks.cleanPastedHTML(t.composer.element),t.parse(t.composer.element)}),!0)}))}})}(wysihtml5),function(e){var t=e.dom,o="wysihtml5-command-dialog-opened",n="input, select, textarea",i="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var i=this,r=function(e){var t=i._serialize();t==i.elementToChange?i.fire("edit",t):i.fire("save",t),i.hide(),e.preventDefault(),e.stopPropagation()};t.observe(i.link,"click",(function(){t.hasClass(i.link,o)&&setTimeout((function(){i.hide()}),0)})),t.observe(this.container,"keydown",(function(t){var o=t.keyCode;o===e.ENTER_KEY&&r(t),o===e.ESCAPE_KEY&&(i.fire("cancel"),i.hide())})),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",(function(e){i.fire("cancel"),i.hide(),e.preventDefault(),e.stopPropagation()}));for(var s=this.container.querySelectorAll(n),a=0,l=s.length,c=function(){clearInterval(i.interval)};a<l;a++)t.observe(s[a],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(i),o=t.length,n=0;n<o;n++)e[t[n].getAttribute(r)]=t[n].value;return e},_interpolate:function(e){for(var t,o,n,s=document.querySelector(":focus"),a=this.container.querySelectorAll(i),l=a.length,c=0;c<l;c++)(t=a[c])!==s&&(e&&"hidden"===t.type||(o=t.getAttribute(r),n=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(o)||"":t.defaultValue,t.value=n))},show:function(e){if(!t.hasClass(this.link,o)){var i=this,r=this.container.querySelector(n);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval((function(){i._interpolate(!0)}),500)),t.addClass(this.link,o),this.container.style.display="",this.fire("show"),r&&!e)try{r.focus()}catch(e){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,o),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,o={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},i={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(s,a){var l=document.createElement("input");if(e.browser.supportsSpeechApiOn(l)){var c=s.editor.textarea.element.getAttribute("lang");c&&(r.lang=c);var u=document.createElement("div");e.lang.object(n).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),t.insert(l).into(u),t.insert(u).into(a),t.setStyles(i).on(l),t.setAttributes(r).on(l),t.setStyles(n).on(u),t.setStyles(o).on(a);var g="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,g,(function(){s.execCommand("insertText",l.value),l.value=""})),t.observe(l,"click",(function(e){t.hasClass(a,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()}))}else a.style.display="none"}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",o="wysihtml5-commands-disabled",n="wysihtml5-command-active",i="wysihtml5-action-active",r=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,o,n){this.editor=t,this.container="string"==typeof o?document.getElementById(o):o,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),n&&this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=i.length,s=0;s<r;s++)new e.toolbar.Speech(this,i[s])},_getLinks:function(t){for(var o,n,i,r,s,a=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=a.length,c=0,u=this[t+"Mapping"]={};c<l;c++)i=(o=a[c]).getAttribute("data-wysihtml5-"+t),r=o.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+i+"']"),s=this._getDialog(o,i),u[i+":"+r]={link:o,group:n,name:i,value:r,dialog:s,state:!1}},_getDialog:function(t,o){var n,i,r=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+o+"']");return s&&((n=e.toolbar["Dialog_"+o]?new e.toolbar["Dialog_"+o](t,s):new e.toolbar.Dialog(t,s)).on("show",(function(){i=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:o,dialogContainer:s,commandLink:t})})),n.on("save",(function(e){i&&r.composer.selection.setBookmark(i),r._execCommand(o,e),r.editor.fire("save:dialog",{command:o,dialogContainer:s,commandLink:t})})),n.on("cancel",(function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:o,dialogContainer:s,commandLink:t})}))),n},execCommand:function(e,t){if(!this.commandsDisabled){var o=this.commandMapping[e+":"+t];o&&o.dialog&&!o.state?o.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,n=this.container,i=this.commandLinks.concat(this.actionLinks),s=i.length,a=0;a<s;a++)"A"===i[a].nodeName?r.setAttributes({href:"javascript:;",unselectable:"on"}).on(i[a]):r.setAttributes({unselectable:"on"}).on(i[a]);r.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",(function(e){e.preventDefault()})),r.delegate(n,"[data-wysihtml5-command]","click",(function(t){var o=this.getAttribute("data-wysihtml5-command"),n=this.getAttribute("data-wysihtml5-command-value");e.execCommand(o,n),t.preventDefault()})),r.delegate(n,"[data-wysihtml5-action]","click",(function(t){var o=this.getAttribute("data-wysihtml5-action");e.execAction(o),t.preventDefault()})),t.on("interaction:composer",(function(){e._updateLinkStates()})),t.on("focus:composer",(function(){e.bookmark=null})),this.editor.config.handleTables&&(t.on("tableselect:composer",(function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""})),t.on("tableunselect:composer",(function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"}))),t.on("change_view",(function(i){t.textarea&&setTimeout((function(){e.commandsDisabled="composer"!==i,e._updateLinkStates(),e.commandsDisabled?r.addClass(n,o):r.removeClass(n,o)}),0)}))},_updateLinkStates:function(){var o,s,a,l,c=this.commandMapping,u=this.actionMapping;for(o in c)l=c[o],this.commandsDisabled?(s=!1,r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()):(s=this.composer.commands.state(l.name,l.value),r.removeClass(l.link,t),l.group&&r.removeClass(l.group,t)),l.state!==s&&(l.state=s,s?(r.addClass(l.link,n),l.group&&r.addClass(l.group,n),l.dialog&&("object"==typeof s||e.lang.object(s).isArray()?(!l.dialog.multiselect&&e.lang.object(s).isArray()&&(s=1!==s.length||s[0],l.state=s),l.dialog.show(s)):l.dialog.hide())):(r.removeClass(l.link,n),l.group&&r.removeClass(l.group,n),l.dialog&&l.dialog.hide()));for(o in u)"change_view"===(a=u[o]).name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?r.addClass(a.link,i):r.removeClass(a.link,i))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){e.dom;var t="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},n=this.container.querySelectorAll(t),i=n.length,r=0;r<i;r++)e[n[r].getAttribute(o)]=n[r].value;return e},_interpolate:function(n){for(var i,r=document.querySelector(":focus"),s=this.container.querySelectorAll(t),a=s.length,l=0,c=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,u=c?c.getAttribute("style"):null,g=u?e.quirks.styleParser.parseColor(u,"color"):null;l<a;l++)(i=s[l])!==r&&(n&&"hidden"===i.type||"color"===i.getAttribute(o)&&(g?g[3]&&1!=g[3]?i.value="rgba("+g[0]+","+g[1]+","+g[2]+","+g[3]+");":i.value="rgb("+g[0]+","+g[1]+","+g[2]+");":i.value="rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom,e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(t){var o=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=i?i.getAttribute("style"):null,s=r?e.quirks.styleParser.parseFontSize(r):null;n&&n!==o&&s&&!/^\s*$/.test(s)&&(n.value=s)}})}(wysihtml5),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,(function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){(function(n){"use strict";function i(){var e=new s.HandlebarsEnvironment;return c.extend(e,s),e.SafeString=a.default,e.Exception=l.default,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var r=o(6).default;t.__esModule=!0;var s=r(o(1)),a=r(o(2)),l=r(o(3)),c=r(o(4)),u=r(o(5)),g=i();g.create=i;var d=void 0!==n?n:window,h=d.Handlebars;g.noConflict=function(){d.Handlebars===g&&(d.Handlebars=h)},g.default=g,t.default=g,e.exports=t.default}).call(t,function(){return this}())},function(e,t,o){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})),e.registerHelper("blockHelperMissing",(function(t,o){var n=o.inverse,r=o.fn;if(!0===t)return r(this);if(!1===t||null==t)return n(this);if(l(t))return t.length>0?(o.ids&&(o.ids=[o.name]),e.helpers.each(t,o)):n(this);if(o.data&&o.ids){var a=i(o.data);a.contextPath=s.appendContextPath(o.data.contextPath,o.name),o={data:a}}return r(t,o)})),e.registerHelper("each",(function(e,t){function o(t,o,i){d&&(d.key=t,d.index=o,d.first=0===o,d.last=!!i,h&&(d.contextPath=h+t)),g+=n(e[t],{data:d,blockParams:s.blockParams([e[t],t],[h+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var n=t.fn,r=t.inverse,u=0,g="",d=void 0,h=void 0;if(t.data&&t.ids&&(h=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),c(e)&&(e=e.call(this)),t.data&&(d=i(t.data)),e&&"object"==typeof e)if(l(e))for(var p=e.length;p>u;u++)o(u,u,u===e.length-1);else{var f=void 0;for(var m in e)e.hasOwnProperty(m)&&(f&&o(f,u-1),f=m,u++);f&&o(f,u-1,!0)}return 0===u&&(g=r(this)),g})),e.registerHelper("if",(function(e,t){return c(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,o){return e.helpers.if.call(this,t,{fn:o.inverse,inverse:o.fn,hash:o.hash})})),e.registerHelper("with",(function(e,t){c(e)&&(e=e.call(this));var o=t.fn;if(s.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var n=i(t.data);n.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0]),t={data:n}}return o(e,t)})),e.registerHelper("log",(function(t,o){var n=o.data&&null!=o.data.level?parseInt(o.data.level,10):1;e.log(n,t)})),e.registerHelper("lookup",(function(e,t){return e&&e[t]}))}(this)}function i(e){var t=s.extend({},e);return t._parent=e,t}var r=o(6).default;t.__esModule=!0,t.HandlebarsEnvironment=n,t.createFrame=i;var s=r(o(4)),a=r(o(3));t.VERSION="3.0.1",t.COMPILER_REVISION=6,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var l=s.isArray,c=s.isFunction,u=s.toString,g="[object Object]";n.prototype={constructor:n,logger:d,log:h,registerHelper:function(e,t){if(u.call(e)===g){if(t)throw new a.default("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(u.call(e)===g)s.extend(this.partials,e);else{if(void 0===t)throw new a.default("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&d.level<=e){var o=d.methodMap[e];(console[o]||console.log).call(console,t)}}};t.logger=d;var h=d.log;t.log=h},function(e,t,o){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,o){"use strict";function n(e,t){var o=t&&t.loc,r=void 0,s=void 0;o&&(e+=" - "+(r=o.start.line)+":"+(s=o.start.column));for(var a=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),o&&(this.lineNumber=r,this.column=s)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t.default=n,e.exports=t.default},function(e,t,o){"use strict";function n(e){return i[e]}t.__esModule=!0,t.extend=function(e){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],o)&&(e[o]=arguments[t][o]);return e},t.indexOf=function(e,t){for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return o;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return s.test(e)?e.replace(r,n):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=/[&<>"'`]/g,s=/[&<>"'`]/,a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c},function(e,t,o){"use strict";function n(e,t,o,n,i,r,s){function a(t){var i=void 0===arguments[1]?{}:arguments[1];return o.call(e,t,e.helpers,e.partials,i.data||n,r&&[i.blockParams].concat(r),s&&[t].concat(s))}return a.program=t,a.depth=s?s.length:0,a.blockParams=i||0,a}var i=o(6).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,o=a.COMPILER_REVISION;if(t!==o){if(o>t){var n=a.REVISION_CHANGES[o],i=a.REVISION_CHANGES[t];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){function o(t){var n=void 0===arguments[1]?{}:arguments[1],r=n.data;o._setup(n),!n.partial&&e.useData&&(r=function(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}(t,r));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(i,t,i.helpers,i.partials,r,l,s)}if(!t)throw new s.default("No environment passed to template");if(!e||!e.main)throw new s.default("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new s.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var o=e.length,n=0;o>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function(o,n,i){i.hash&&(n=r.extend({},n,i.hash)),o=t.VM.resolvePartial.call(this,o,n,i);var a=t.VM.invokePartial.call(this,o,n,i);if(null==a&&t.compile&&(i.partials[i.name]=t.compile(o,e.compilerOptions,t),a=i.partials[i.name](n,i)),null!=a){if(i.indent){for(var l=a.split("\n"),c=0,u=l.length;u>c&&(l[c]||c+1!==u);c++)l[c]=i.indent+l[c];a=l.join("\n")}return a}throw new s.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")},fn:function(t){return e[t]},programs:[],program:function(e,t,o,i,r){var s=this.programs[e],a=this.fn(e);return t||r||i||o?s=n(this,e,a,t,o,i,r):s||(s=this.programs[e]=n(this,e,a)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var o=e||t;return e&&t&&e!==t&&(o=r.extend({},t,e)),o},noop:t.VM.noop,compilerInfo:e.compiler};return o.isTop=!0,o._setup=function(o){o.partial?(i.helpers=o.helpers,i.partials=o.partials):(i.helpers=i.merge(o.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(o.partials,t.partials)))},o._child=function(t,o,r,a){if(e.useBlockParams&&!r)throw new s.default("must pass block params");if(e.useDepths&&!a)throw new s.default("must pass parent depths");return n(i,t,e[t],o,0,r,a)},o},t.wrapProgram=n,t.resolvePartial=function(e,t,o){return e?e.call||o.name||(o.name=e,e=o.partials[e]):e=o.partials[o.name],e},t.invokePartial=function(e,t,o){if(o.partial=!0,void 0===e)throw new s.default("The partial "+o.name+" could not be found");return e instanceof Function?e(t,o):void 0},t.noop=function(){return""};var r=i(o(4)),s=i(o(3)),a=o(1)},function(e,t,o){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0}])})),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},3:function(e,t,o,n){return'      <span class="fa fa-quote-left"></span>\n'},5:function(e,t,o,n){return'      <span class="glyphicon glyphicon-quote"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i;return'<li>\n  <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?i:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.color=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.black:i,e))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.black:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.silver:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.gray:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.maroon:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.red:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.purple:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.green:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.olive:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.navy:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.blue:i,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.colours:i)?i.orange:i,e))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.emphasis=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},3:function(e,t,o,n){var i;return'    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.locale:e)?i.emphasis:i)?i.small:i,e))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.emphasis:i)?i.bold:i,e))+'</a>\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.emphasis:i)?i.italic:i,e))+'</a>\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.emphasis:i)?i.underline:i,e))+"</a>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.emphasis:i)?i.small:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?i:"")+"  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl["font-styles"]=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},3:function(e,t,o,n){return'      <span class="fa fa-font"></span>\n'},5:function(e,t,o,n){return'      <span class="glyphicon glyphicon-font"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+'" data-toggle="dropdown">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?i:"")+'    <span class="current-font">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.normal:i,e))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.normal:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h1:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h2:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h3:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h4:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h5:i,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.font_styles:i)?i.h6:i,e))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.html=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},3:function(e,t,o,n){return'        <span class="fa fa-pencil"></span>\n'},5:function(e,t,o,n){return'        <span class="glyphicon glyphicon-pencil"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-action="change_view" title="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.locale:e)?i.html:i)?i.edit:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?i:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.image=Handlebars.template({1:function(e,t,o,n){return"modal-sm"},3:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},5:function(e,t,o,n){return'      <span class="fa fa-file-image-o"></span>\n'},7:function(e,t,o,n){return'      <span class="glyphicon glyphicon-picture"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.smallmodals:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.image:i)?i.insert:i,e))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.image:i)?i.cancel:i,e))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.image:i)?i.insert:i,e))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="insertImage" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.image:i)?i.insert:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(5,n,0),inverse:this.program(7,n,0),data:n}))?i:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.link=Handlebars.template({1:function(e,t,o,n){return"modal-sm"},3:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},5:function(e,t,o,n){return'      <span class="fa fa-share-square-o"></span>\n'},7:function(e,t,o,n){return'      <span class="glyphicon glyphicon-share"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.smallmodals:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.link:i)?i.insert:i,e))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.link:i)?i.target:i,e))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.link:i)?i.cancel:i,e))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.link:i)?i.insert:i,e))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="createLink" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.link:i)?i.insert:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(5,n,0),inverse:this.program(7,n,0),data:n}))?i:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.lists=Handlebars.template({1:function(e,t,o,n){var i;return"btn-"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,e))},3:function(e,t,o,n){return'      <span class="fa fa-list-ul"></span>\n'},5:function(e,t,o,n){return'      <span class="glyphicon glyphicon-list"></span>\n'},7:function(e,t,o,n){return'      <span class="fa fa-list-ol"></span>\n'},9:function(e,t,o,n){return'      <span class="glyphicon glyphicon-th-list"></span>\n'},11:function(e,t,o,n){return'      <span class="fa fa-outdent"></span>\n'},13:function(e,t,o,n){return'      <span class="glyphicon glyphicon-indent-right"></span>\n'},15:function(e,t,o,n){return'      <span class="fa fa-indent"></span>\n'},17:function(e,t,o,n){return'      <span class="glyphicon glyphicon-indent-left"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,o,n){var i,r=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.lists:i)?i.unordered:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?i:"")+'    </a>\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="insertOrderedList" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.lists:i)?i.ordered:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(7,n,0),inverse:this.program(9,n,0),data:n}))?i:"")+'    </a>\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="Outdent" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.lists:i)?i.outdent:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(11,n,0),inverse:this.program(13,n,0),data:n}))?i:"")+'    </a>\n    <a class="btn '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.size:i,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?i:"")+' btn-default" data-wysihtml5-command="Indent" title="'+s(r(null!=(i=null!=(i=null!=e?e.locale:e)?i.lists:i)?i.indent:i,e))+'" tabindex="-1">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.options:e)?i.toolbar:i)?i.fa:i,{name:"if",hash:{},fn:this.program(15,n,0),inverse:this.program(17,n,0),data:n}))?i:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}((function(e,t){!function(e,t){"use strict";var o=function(e,o,n){if(t.tpl[e])return t.tpl[e]({locale:o,options:n})},n=function(o,n){this.el=o;var i=e.extend(!0,{},r,n);for(var s in i.customTemplates)t.tpl[s]=i.customTemplates[s];this.toolbar=this.createToolbar(o,i),this.editor=this.createEditor(i)};n.prototype={constructor:n,createEditor:function(o){o=o||{},(o=e.extend(!0,{},o)).toolbar=this.toolbar[0];var n=new t.Editor(this.el[0],o);if(n.composer.editableArea.contentDocument?this.addMoreShortcuts(n,n.composer.editableArea.contentDocument.body||n.composer.editableArea.contentDocument,o.shortcuts):this.addMoreShortcuts(n,n.composer.editableArea,o.shortcuts),o&&o.events)for(var i in o.events)n.on(i,o.events[i]);return n.on("beforeload",this.syncBootstrapDialogEvents),n},syncBootstrapDialogEvents:function(){var t=this;e.map(this.toolbar.commandMapping,(function(e,t){return[e]})).filter((function(e,t,o){return e.dialog})).map((function(e,t,o){return e.dialog})).forEach((function(o,n,i){o.on("show",(function(t){e(this.container).modal("show")})),o.on("hide",(function(o){e(this.container).modal("hide"),t.composer.focus()})),e(o.container).on("shown.bs.modal",(function(){e(this).find("input, select, textarea").first().focus()}))}))},createToolbar:function(t,n){var i=this,a=e("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=n.locale||r.locale||"en";s.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(s)+". Falling back to 'en'."),l="en");var c=e.extend(!0,{},s.en,s[l]);for(var u in n.toolbar)n.toolbar[u]&&(a.append(o(u,c,n)),"html"===u&&this.initHtml(a));return a.find('a[data-wysihtml5-command="formatBlock"]').click((function(t){var o=t.delegateTarget||t.target||t.srcElement,n=e(o),r=n.data("wysihtml5-display-format-name"),s=n.data("wysihtml5-format-name")||n.html();void 0!==r&&"true"!==r||i.toolbar.find(".current-font").text(s)})),a.find('a[data-wysihtml5-command="foreColor"]').click((function(t){var o=t.target||t.srcElement,n=e(o);i.toolbar.find(".current-color").text(n.html())})),this.el.before(a),a},initHtml:function(e){var t='a[data-wysihtml5-action="change_view"]';e.find(t).click((function(o){e.find("a.btn").not(t).toggleClass("disabled")}))},addMoreShortcuts:function(e,o,n){t.dom.observe(o,"keydown",(function(o){var i=o.keyCode,r=n[i];if((o.ctrlKey||o.metaKey||o.altKey)&&r&&t.commands[r]){var s=e.toolbar.commandMapping[r+":null"];s&&s.dialog&&!s.state?s.dialog.show():t.commands[r].exec(e.composer,r),o.preventDefault()}}))}};var i={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each((function(){var o=e(this);o.data("wysihtml5",new n(o,t))}))},shallowExtend:function(t){var o=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data());return i.bypassDefaults.apply(this,[o])},deepExtend:function(t){var o=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{});return i.bypassDefaults.apply(this,[o])},init:function(e){return i.shallowExtend.apply(this,[e])}};e.fn.wysihtml5=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):i.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=n;var r=e.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};void 0===e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var s=e.fn.wysihtml5.locale={}}(e,t)})),function(e){e.commands.small={exec:function(t,o){return e.commands.formatInline.exec(t,o,"small")},state:function(t,o){return e.commands.formatInline.state(t,o,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}((function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}})),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.de-DE",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}((function(e){e.fn.wysihtml5.locale["de-DE"]={font_styles:{normal:"Normaler Text",h1:"berschrift 1",h2:"berschrift 2",h3:"berschrift 3",h4:"berschrift 4",h5:"berschrift 5",h6:"berschrift 6"},emphasis:{bold:"Fett",italic:"Kursiv",underline:"Unterstrichen",small:"Klein"},lists:{unordered:"Ungeordnete Liste",ordered:"Geordnete Liste",outdent:"Einzug verkleinern",indent:"Einzug vergrern"},link:{insert:"Link einfgen",cancel:"Abbrechen",target:"Link in neuen Fenster ffnen"},image:{insert:"Bild einfgen",cancel:"Abbrechen"},html:{edit:"HTML bearbeiten"},colours:{black:"Schwarz",silver:"Silber",gray:"Grau",maroon:"Kastanienbraun",red:"Rot",purple:"Violett",green:"Grn",olive:"Olivgrn",navy:"Marineblau",blue:"Blau",orange:"Orange"}}})),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.fr-FR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}((function(e){e.fn.wysihtml5.locale["fr-FR"]={font_styles:{normal:"Texte normal",h1:"Titre 1",h2:"Titre 2",h3:"Titre 3",h4:"Titre 4",h5:"Titre 5",h6:"Titre 6"},emphasis:{bold:"Gras",italic:"Italique",underline:"Soulign",small:"Petit"},lists:{unordered:"Liste  puces",ordered:"Liste numrote",outdent:"Diminuer le retrait",indent:"Augmenter le retrait"},link:{target:"Ouvrir le lien dans une nouvelle fentre",insert:"Insrer un lien",cancel:"Annuler"},image:{insert:"Insrer une image",cancel:"Annuler"},html:{edit:"Editer en HTML"},colours:{black:"Noir",silver:"Gris clair",gray:"Gris",maroon:"Marron",red:"Rouge",purple:"Pourpre",green:"Vert",olive:"Olive",navy:"Bleu marine",blue:"Bleu",orange:"Orange"}}})),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}((function(){return function e(t,o,n){function i(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=o[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,o){var n=e("./closest");function i(e,t,o,i){return function(o){o.delegateTarget=n(o.target,t),o.delegateTarget&&i.call(e,o)}}t.exports=function(e,t,o,n,r){var s=i.apply(this,arguments);return e.addEventListener(o,s,r),{destroy:function(){e.removeEventListener(o,s,r)}}}},{"./closest":1}],3:[function(e,t,o){o.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},o.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||o.node(e[0]))},o.string=function(e){return"string"==typeof e||e instanceof String},o.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,o){var n=e("./is"),i=e("delegate");t.exports=function(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(o))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}(e,t,o);if(n.nodeList(e))return function(e,t,o){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,o)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,o)}))}}}(e,t,o);if(n.string(e))return function(e,t,o){return i(document.body,e,t,o)}(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,o){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},{}],6:[function(e,t,o){function n(){}n.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){var n=this;function i(){n.off(e,i),t.apply(o,arguments)}return i._=t,this.on(e,i,o)},emit:function(e){for(var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=o.length;n<i;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],i=[];if(n&&t)for(var r=0,s=n.length;r<s;r++)n[r].fn!==t&&n[r].fn._!==t&&i.push(n[r]);return i.length?o[e]=i:delete o[e],this}},t.exports=n},{}],7:[function(e,t,o){!function(n,i){if(void 0!==o)i(t,e("select"));else{var r={exports:{}};i(r,n.select),n.clipboardAction=r.exports}}(this,(function(e,t){"use strict";var o,n=(o=t)&&o.__esModule?o:{default:o},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s}))},{select:5}],8:[function(e,t,o){!function(n,i){if(void 0!==o)i(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var r={exports:{}};i(r,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=r.exports}}(this,(function(e,t,o,n){"use strict";var i=a(t),r=a(o),s=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(o),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return g("action",e)}},{key:"defaultTarget",value:function(e){var t=g("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return g("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return t.forEach((function(e){o=o&&!!document.queryCommandSupported(e)})),o}}]),t}(r.default);function g(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}e.exports=u}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(o,n){var i,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(o),appendDots:e(o),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,o){return e('<button type="button" />').text(o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(o),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,i=e(o).data("slick")||{},r.options=e.extend({},r.defaults,n,i),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.instanceUid=t++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,o,n){var i=this;if("boolean"==typeof o)n=o,o=null;else if(o<0||o>=i.slideCount)return!1;i.unload(),"number"==typeof o?0===o&&0===i.$slides.length?e(t).appendTo(i.$slideTrack):n?e(t).insertBefore(i.$slides.eq(o)):e(t).insertAfter(i.$slides.eq(o)):!0===n?e(t).prependTo(i.$slideTrack):e(t).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each((function(t,o){e(o).attr("data-slick-index",t)})),i.$slidesCache=i.$slides,i.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,o){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(t=-t),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:t},i.options.speed,i.options.easing,o):i.$slideTrack.animate({top:t},i.options.speed,i.options.easing,o):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),e({animStart:i.currentLeft}).animate({animStart:t},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?(n[i.animType]="translate("+e+"px, 0px)",i.$slideTrack.css(n)):(n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n))},complete:function(){o&&o.call()}})):(i.applyTransition(),t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate3d("+t+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+t+"px, 0px)",i.$slideTrack.css(n),o&&setTimeout((function(){i.disableTransition(),o.call()}),i.options.speed))},t.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=e(t).not(this.$slider)),t},t.prototype.asNavFor=function(t){var o=this.getNavTarget();null!==o&&"object"==typeof o&&o.each((function(){var o=e(this).slick("getSlick");o.unslicked||o.slideHandler(t,!0)}))},t.prototype.applyTransition=function(e){var t=this,o={};!1===t.options.fade?o[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:o[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(o):t.$slides.eq(e).css(o)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,o,n=this;if(!0===n.options.dots){for(n.$slider.addClass("slick-dotted"),o=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)o.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=o.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each((function(t,o){e(o).attr("data-slick-index",t).data("originalStyling",e(o).attr("style")||"")})),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,o,n,i,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,i=Math.ceil(r.length/s),e=0;e<i;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(o=0;o<a.options.slidesPerRow;o++){var u=e*s+(t*a.options.slidesPerRow+o);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,o){var n,i,r,s=this,a=!1,l=s.$slider.width(),c=window.innerWidth||e(window).width();if("window"===s.respondTo?r=c:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(n in i=null,s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[n]&&(i=s.breakpoints[n]):r>s.breakpoints[n]&&(i=s.breakpoints[n]));null!==i?null!==s.activeBreakpoint?(i!==s.activeBreakpoint||o)&&(s.activeBreakpoint=i,"unslick"===s.breakpointSettings[i]?s.unslick(i):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[i]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=i):(s.activeBreakpoint=i,"unslick"===s.breakpointSettings[i]?s.unslick(i):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[i]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=i):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t),a=i),t||!1===a||s.$slider.trigger("breakpoint",[s,a])}},t.prototype.changeSlide=function(t,o){var n,i,r=this,s=e(t.currentTarget);switch(s.is("a")&&t.preventDefault(),s.is("li")||(s=s.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":i=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-i,!1,o);break;case"next":i=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+i,!1,o);break;case"index":var a=0===t.data.index?0:t.data.index||s.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,o),s.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,o;if(o=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=o;break}o=t[n]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var o=this;o.autoPlayClear(),o.touchObject={},o.cleanUpEvents(),e(".slick-cloned",o.$slider).detach(),o.$dots&&o.$dots.remove(),o.$prevArrow&&o.$prevArrow.length&&(o.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),o.htmlExpr.test(o.options.prevArrow)&&o.$prevArrow.remove()),o.$nextArrow&&o.$nextArrow.length&&(o.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),o.htmlExpr.test(o.options.nextArrow)&&o.$nextArrow.remove()),o.$slides&&(o.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){e(this).attr("style",e(this).data("originalStyling"))})),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.detach(),o.$list.detach(),o.$slider.append(o.$slides)),o.cleanUpRows(),o.$slider.removeClass("slick-slider"),o.$slider.removeClass("slick-initialized"),o.$slider.removeClass("slick-dotted"),o.unslicked=!0,t||o.$slider.trigger("destroy",[o])},t.prototype.disableTransition=function(e){var t=this,o={};o[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(o):t.$slides.eq(e).css(o)},t.prototype.fadeSlide=function(e,t){var o=this;!1===o.cssTransitions?(o.$slides.eq(e).css({zIndex:o.options.zIndex}),o.$slides.eq(e).animate({opacity:1},o.options.speed,o.options.easing,t)):(o.applyTransition(e),o.$slides.eq(e).css({opacity:1,zIndex:o.options.zIndex}),t&&setTimeout((function(){o.disableTransition(e),t.call()}),o.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",(function(o){o.stopImmediatePropagation();var n=e(this);setTimeout((function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())}),0)}))},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,o=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,o,n,i,r=this,s=0;return r.slideOffset=0,o=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,i=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?i=-1.5:1===r.options.slidesToShow&&(i=-2)),s=o*r.options.slidesToShow*i),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*o*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*o*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*o),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,s=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*o*-1+s,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,o=0,n=0,i=[];for(!1===t.options.infinite?e=t.slideCount:(o=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);o<e;)i.push(o),o=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return i},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,o,n=this;return o=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each((function(i,r){if(r.offsetLeft-o+e(r).outerWidth()/2>-1*n.swipeLeft)return t=r,!1})),Math.abs(e(t).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var o=this;e(o.$slider).hasClass("slick-initialized")||(e(o.$slider).addClass("slick-initialized"),o.buildRows(),o.buildOut(),o.setProps(),o.startLoad(),o.loadSlider(),o.initializeEvents(),o.updateArrows(),o.updateDots(),o.checkResponsive(!0),o.focusHandler()),t&&o.$slider.trigger("init",[o]),!0===o.options.accessibility&&o.initADA(),o.options.autoplay&&(o.paused=!1,o.autoPlay())},t.prototype.initADA=function(){var t=this,o=Math.ceil(t.slideCount/t.options.slidesToShow),n=t.getNavigableIndexes().filter((function(e){return e>=0&&e<t.slideCount}));t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each((function(o){var i=n.indexOf(o);e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+o,tabindex:-1}),-1!==i&&e(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+i})})),t.$dots.attr("role","tablist").find("li").each((function(i){var r=n[i];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+i,"aria-controls":"slick-slide"+t.instanceUid+r,"aria-label":i+1+" of "+o,"aria-selected":null,tabindex:"-1"})})).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var i=t.currentSlide,r=i+t.options.slidesToShow;i<r;i++)t.$slides.eq(i).attr("tabindex",0);t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each((function(){var t=e(this),o=e(this).attr("data-lazy"),n=e(this).attr("data-srcset"),i=e(this).attr("data-sizes")||r.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,(function(){n&&(t.attr("srcset",n),i&&t.attr("sizes",i)),t.attr("src",o).animate({opacity:1},200,(function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")})),r.$slider.trigger("lazyLoaded",[r,t,o])}))},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,o])},s.src=o}))}var o,n,i,r=this;if(!0===r.options.centerMode?!0===r.options.infinite?i=(n=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),i=r.options.slidesToShow/2+1+2+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(n+r.options.slidesToShow),!0===r.options.fade&&(n>0&&n--,i<=r.slideCount&&i++)),o=r.$slider.find(".slick-slide").slice(n,i),"anticipated"===r.options.lazyLoad)for(var s=n-1,a=i,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)s<0&&(s=r.slideCount-1),o=(o=o.add(l.eq(s))).add(l.eq(a)),s--,a++;t(o),r.slideCount<=r.options.slidesToShow?t(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?t(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&t(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var o=this;o.unslicked||(o.$slider.trigger("afterChange",[o,t]),o.animating=!1,o.slideCount>o.options.slidesToShow&&o.setPosition(),o.swipeLeft=null,o.options.autoplay&&o.autoPlay(),!0===o.options.accessibility&&(o.initADA(),o.options.focusOnChange&&e(o.$slides.get(o.currentSlide)).attr("tabindex",0).focus()))},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var o,n,i,r,s,a=this,l=e("img[data-lazy]",a.$slider);l.length?(o=l.first(),n=o.attr("data-lazy"),i=o.attr("data-srcset"),r=o.attr("data-sizes")||a.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){i&&(o.attr("srcset",i),r&&o.attr("sizes",r)),o.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,o,n]),a.progressiveLazyLoad()},s.onerror=function(){t<3?setTimeout((function(){a.progressiveLazyLoad(t+1)}),500):(o.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,o,n]),a.progressiveLazyLoad())},s.src=n):a.$slider.trigger("allImagesLoaded",[a])},t.prototype.refresh=function(t){var o,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),o=i.currentSlide,i.destroy(!0),e.extend(i,i.initials,{currentSlide:o}),i.init(),t||i.changeSlide({data:{message:"index",index:o}},!1)},t.prototype.registerBreakpoints=function(){var t,o,n,i=this,r=i.options.responsive||null;if("array"===e.type(r)&&r.length){for(t in i.respondTo=i.options.respondTo||"window",r)if(n=i.breakpoints.length-1,r.hasOwnProperty(t)){for(o=r[t].breakpoint;n>=0;)i.breakpoints[n]&&i.breakpoints[n]===o&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(o),i.breakpointSettings[o]=r[t].settings}i.breakpoints.sort((function(e,t){return i.options.mobileFirst?e-t:t-e}))}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout((function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()}),50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,o){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===o?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},t.prototype.setCSS=function(e){var t,o,n=this,i={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",o="top"==n.positionProp?Math.ceil(e)+"px":"0px",i[n.positionProp]=e,!1===n.transformsEnabled?n.$slideTrack.css(i):(i={},!1===n.cssTransitions?(i[n.animType]="translate("+t+", "+o+")",n.$slideTrack.css(i)):(i[n.animType]="translate3d("+t+", "+o+", 0px)",n.$slideTrack.css(i)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,o=this;o.$slides.each((function(n,i){t=o.slideWidth*n*-1,!0===o.options.rtl?e(i).css({position:"relative",right:t,top:0,zIndex:o.options.zIndex-2,opacity:0}):e(i).css({position:"relative",left:t,top:0,zIndex:o.options.zIndex-2,opacity:0})})),o.$slides.eq(o.currentSlide).css({zIndex:o.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,o,n,i,r,s=this,a=!1;if("object"===e.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],i=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)s.options[n]=i;else if("multiple"===r)e.each(n,(function(e,t){s.options[e]=t}));else if("responsive"===r)for(o in i)if("array"!==e.type(s.options.responsive))s.options.responsive=[i[o]];else{for(t=s.options.responsive.length-1;t>=0;)s.options.responsive[t].breakpoint===i[o].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(i[o])}a&&(s.unload(),s.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,o,n,i,r=this;if(o=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var s=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+e,o.slice(n-t+1+s,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?o.eq(o.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&o.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):o.length<=r.options.slidesToShow?o.addClass("slick-active").attr("aria-hidden","false"):(i=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?o.slice(n-(r.options.slidesToShow-i),n+i).addClass("slick-active").attr("aria-hidden","false"):o.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},t.prototype.setupInfinite=function(){var t,o,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(o=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,t=i.slideCount;t>i.slideCount-n;t-=1)o=t-1,e(i.$slides[o]).clone(!0).attr("id","").attr("data-slick-index",o-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(t=0;t<n+i.slideCount;t+=1)o=t,e(i.$slides[o]).clone(!0).attr("id","").attr("data-slick-index",o+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each((function(){e(this).attr("id","")}))}},t.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},t.prototype.selectHandler=function(t){var o=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),i=parseInt(n.attr("data-slick-index"));i||(i=0),o.slideCount<=o.options.slidesToShow?o.slideHandler(i,!1,!0):o.slideHandler(i)},t.prototype.slideHandler=function(e,t,o){var n,i,r,s,a,l=null,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),n=e,l=c.getLeft(n),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==o?c.animateSlide(s,(function(){c.postSlide(n)})):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==o?c.animateSlide(s,(function(){c.postSlide(n)})):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),i=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,i]),r=c.currentSlide,c.currentSlide=i,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=(a=c.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==o?(c.fadeSlideOut(r),c.fadeSlide(i,(function(){c.postSlide(i)}))):c.postSlide(i),void c.animateHeight();!0!==o?c.animateSlide(l,(function(){c.postSlide(i)})):c.postSlide(i)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,o,n,i=this;return e=i.touchObject.startX-i.touchObject.curX,t=i.touchObject.startY-i.touchObject.curY,o=Math.atan2(t,e),(n=Math.round(180*o/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0||n<=360&&n>=315?!1===i.options.rtl?"left":"right":n>=135&&n<=225?!1===i.options.rtl?"right":"left":!0===i.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,o,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(o=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=o&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,o]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,o,n,i,r,s,a=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&s>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),o=a.swipeDirection(),void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,e.preventDefault()),i=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(i=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===o||a.currentSlide>=a.getDotCount()&&"left"===o)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*i:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*i,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*i),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},t.prototype.swipeStart=function(e){var t,o=this;if(o.interrupted=!0,1!==o.touchObject.fingerCount||o.slideCount<=o.options.slidesToShow)return o.touchObject={},!1;void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),o.touchObject.startX=o.touchObject.curX=void 0!==t?t.pageX:e.clientX,o.touchObject.startY=o.touchObject.curY=void 0!==t?t.pageY:e.clientY,o.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,o,n=this,i=arguments[0],r=Array.prototype.slice.call(arguments,1),s=n.length;for(e=0;e<s;e++)if("object"==typeof i||void 0===i?n[e].slick=new t(n[e],i):o=n[e].slick[i].apply(n[e].slick,r),void 0!==o)return o;return n}})),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,(function(e,t,o,n){"use strict";var i=n&&n.URI;function r(e,t){var o=arguments.length>=1;if(!(this instanceof r))return o?arguments.length>=2?new r(e,t):new r(e):new r;if(void 0===e){if(o)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&o)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}r.version="1.18.12";var s=r.prototype,a=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===c(e)}function g(e,t){var o,n,i={};if("RegExp"===c(t))i=null;else if(u(t))for(o=0,n=t.length;o<n;o++)i[t[o]]=!0;else i[t]=!0;for(o=0,n=e.length;o<n;o++)(i&&void 0!==i[e[o]]||!i&&t.test(e[o]))&&(e.splice(o,1),n--,o--);return e}function d(e,t){var o,n;if(u(t)){for(o=0,n=t.length;o<n;o++)if(!d(e,t[o]))return!1;return!0}var i=c(t);for(o=0,n=e.length;o<n;o++)if("RegExp"===i){if("string"==typeof e[o]&&e[o].match(t))return!0}else if(e[o]===t)return!0;return!1}function h(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var o=0,n=e.length;o<n;o++)if(e[o]!==t[o])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function f(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\._-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.hostProtocols=["http","https"],r.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return r.domAttributes[t]}},r.encode=m,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=m,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},r.encodeQuery=function(e,t){var o=r.encode(e+"");return void 0===t&&(t=r.escapeQuerySpace),t?o.replace(/%20/g,"+"):o},r.decodeQuery=function(e,t){e+="",void 0===t&&(t=r.escapeQuerySpace);try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},b=function(e,t){return function(o){try{return r[t](o+"").replace(r.characters[e][t].expression,(function(o){return r.characters[e][t].map[o]}))}catch(e){return o}}};for(v in y)r[v+"PathSegment"]=b("pathname",y[v]),r[v+"UrnPathSegment"]=b("urnpath",y[v]);var _=function(e,t,o){return function(n){var i;i=o?function(e){return r[t](r[o](e))}:r[t];for(var s=(n+"").split(e),a=0,l=s.length;a<l;a++)s[a]=i(s[a]);return s.join(e)}};function E(e){return function(t,o){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!o),this)}}function w(e,t){return function(o,n){return void 0===o?this._parts[e]||"":(null!==o&&(o+="").charAt(0)===t&&(o=o.substring(1)),this._parts[e]=o,this.build(!n),this)}}r.decodePath=_("/","decodePathSegment"),r.decodeUrnPath=_(":","decodeUrnPathSegment"),r.recodePath=_("/","encodePathSegment","decode"),r.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),r.encodeReserved=b("reserved","encode"),r.parse=function(e,t){var o;return t||(t={}),(o=e.indexOf("#"))>-1&&(t.fragment=e.substring(o+1)||null,e=e.substring(0,o)),(o=e.indexOf("?"))>-1&&(t.query=e.substring(o+1)||null,e=e.substring(0,o)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(o=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,o)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"//"===e.substring(o+1,o+3)?(e=e.substring(o+3),e=r.parseAuthority(e,t)):(e=e.substring(o+1),t.urn=!0)),t.path=e,t},r.parseHost=function(e,t){var o,n,i=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))o=e.indexOf("]"),t.hostname=e.substring(1,o)||null,t.port=e.substring(o+2,i)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),l=e.indexOf(":",s+1);-1!==l&&(-1===a||l<a)?(t.hostname=e.substring(0,i)||null,t.port=null):(n=e.substring(0,i).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),r.ensureValidHostname(t.hostname,t.protocol),t.port&&r.ensureValidPort(t.port),e.substring(i)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var o,n=e.indexOf("/"),i=e.lastIndexOf("@",n>-1?n:e.length-1);return i>-1&&(-1===n||i<n)?(o=e.substring(0,i).split(":"),t.username=o[0]?r.decode(o[0]):null,o.shift(),t.password=o[0]?r.decode(o.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var o,n,i,s={},l=e.split("&"),c=l.length,u=0;u<c;u++)o=l[u].split("="),n=r.decodeQuery(o.shift(),t),i=o.length?r.decodeQuery(o.join("="),t):null,a.call(s,n)?("string"!=typeof s[n]&&null!==s[n]||(s[n]=[s[n]]),s[n].push(i)):s[n]=i;return s},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(r.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username)),e.password&&(t+=":"+r.encode(e.password)),t&&(t+="@"),t},r.buildQuery=function(e,t,o){var n,i,s,l,c="";for(i in e)if(a.call(e,i)&&i)if(u(e[i]))for(n={},s=0,l=e[i].length;s<l;s++)void 0!==e[i][s]&&void 0===n[e[i][s]+""]&&(c+="&"+r.buildQueryParameter(i,e[i][s],o),!0!==t&&(n[e[i][s]+""]=!0));else void 0!==e[i]&&(c+="&"+r.buildQueryParameter(i,e[i],o));return c.substring(1)},r.buildQueryParameter=function(e,t,o){return r.encodeQuery(e,o)+(null!==t?"="+r.encodeQuery(t,o):"")},r.addQuery=function(e,t,o){if("object"==typeof t)for(var n in t)a.call(t,n)&&r.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=o);"string"==typeof e[t]&&(e[t]=[e[t]]),u(o)||(o=[o]),e[t]=(e[t]||[]).concat(o)}},r.removeQuery=function(e,t,o){var n,i,s;if(u(t))for(n=0,i=t.length;n<i;n++)e[t[n]]=void 0;else if("RegExp"===c(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)a.call(t,s)&&r.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==o?"RegExp"===c(o)?!u(e[t])&&o.test(e[t])?e[t]=void 0:e[t]=g(e[t],o):e[t]!==String(o)||u(o)&&1!==o.length?u(e[t])&&(e[t]=g(e[t],o)):e[t]=void 0:e[t]=void 0}},r.hasQuery=function(e,t,o,n){switch(c(t)){case"String":break;case"RegExp":for(var i in e)if(a.call(e,i)&&t.test(i)&&(void 0===o||r.hasQuery(e,i,o)))return!0;return!1;case"Object":for(var s in t)if(a.call(t,s)&&!r.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(o)){case"Undefined":return t in e;case"Boolean":return o===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!o(e[t],t,e);case"Array":return!!u(e[t])&&(n?d:h)(e[t],o);case"RegExp":return u(e[t])?!!n&&d(e[t],o):Boolean(e[t]&&e[t].match(o));case"Number":o=String(o);case"String":return u(e[t])?!!n&&d(e[t],o):e[t]===o;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.joinPaths=function(){for(var e=[],t=[],o=0,n=0;n<arguments.length;n++){var i=new r(arguments[n]);e.push(i);for(var s=i.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&o++}if(!t.length||!o)return new r("");var l=new r("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},r.commonPath=function(e,t){var o,n=Math.min(e.length,t.length);for(o=0;o<n;o++)if(e.charAt(o)!==t.charAt(o)){o--;break}return o<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(o)&&"/"===t.charAt(o)||(o=e.substring(0,o).lastIndexOf("/")),e.substring(0,o+1))},r.withinString=function(e,t,o){o||(o={});var n=o.start||r.findUri.start,i=o.end||r.findUri.end,s=o.trim||r.findUri.trim,a=o.parens||r.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var c=n.exec(e);if(!c)break;var u=c.index;if(o.ignoreHtml){var g=e.slice(Math.max(u-3,0),u);if(g&&l.test(g))continue}for(var d=u+e.slice(u).search(i),h=e.slice(u,d),p=-1;;){var f=a.exec(h);if(!f)break;var m=f.index+f[0].length;p=Math.max(p,m)}if(!((h=p>-1?h.slice(0,p)+h.slice(p).replace(s,""):h.replace(s,"")).length<=c[0].length||o.ignore&&o.ignore.test(h))){var v=t(h,u,d=u+h.length,e);void 0!==v?(v=String(v),e=e.slice(0,u)+v+e.slice(d),n.lastIndex=u+v.length):n.lastIndex=d}}return n.lastIndex=0,e},r.ensureValidHostname=function(t,o){var n=!!t,i=!1;if(!!o&&(i=d(r.hostProtocols,o)),i&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+o);if(t&&t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},r.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},r.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=i),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new r(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=E("protocol"),s.username=E("username"),s.password=E("password"),s.hostname=E("hostname"),s.port=E("port"),s.query=w("query","?"),s.fragment=w("fragment","#"),s.search=function(e,t){var o=this.query(e,t);return"string"==typeof o&&o.length?"?"+o:o},s.hash=function(e,t){var o=this.fragment(e,t);return"string"==typeof o&&o.length?"#"+o:o},s.pathname=function(e,t){if(void 0===e||!0===e){var o=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?r.decodeUrnPath:r.decodePath)(o):o}return this._parts.urn?this._parts.path=e?r.recodeUrnPath(e):"":this._parts.path=e?r.recodePath(e):"/",this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var o;if(void 0===e)return this.toString();this._string="",this._parts=r._parts();var n=e instanceof r,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[r.getDomAttribute(e)]||"",i=!1),!n&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=r.parse(String(e),this._parts);else{if(!n&&!i)throw new TypeError("invalid input");var s=n?e._parts:e;for(o in s)a.call(this._parts,o)&&(this._parts[o]=s[o])}return this.build(!t),this},s.is=function(e){var t=!1,n=!1,i=!1,s=!1,a=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=r.ip4_expression.test(this._parts.hostname),i=r.ip6_expression.test(this._parts.hostname),a=(s=!(t=n||i))&&o&&o.has(this._parts.hostname),l=s&&r.idn_expression.test(this._parts.hostname),c=s&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var S=s.protocol,T=s.port,C=s.hostname;s.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(r.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),r.ensureValidPort(e))),T.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var o={};if("/"!==r.parseHost(e,o))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=o.hostname,r.ensureValidHostname(e,this._parts.protocol)}return C.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var o=this.protocol();return this.authority()?(o?o+"://":"")+this.authority():""}var n=r(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildHost(this._parts):"";if("/"!==r.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildAuthority(this._parts):"";if("/"!==r.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var o=r.buildUserinfo(this._parts);return o?o.substring(0,o.length-1):o}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var o;return void 0===e?this.path()+this.search()+this.hash():(o=r.parse(e),this._parts.path=o.path,this._parts.query=o.query,this._parts.fragment=o.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var o=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,o)||""}var n=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,n),s=new RegExp("^"+l(i));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&r.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var o=this._parts.hostname.match(/\./g);if(o&&o.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(r.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(n+1);return!0!==t&&o&&o.list[i.toLowerCase()]&&o.get(this._parts.hostname)||i}var r;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!o||!o.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var o=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,o)||(this._parts.hostname?"/":"");return e?r.decodePath(n):n}var i=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,i),a=new RegExp("^"+l(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var o=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(o+1);return e?r.decodePathSegment(n):n}var i=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var s=new RegExp(l(this.filename())+"$");return e=r.recodePath(e),this._parts.path=this._parts.path.replace(s,e),i?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var o,n,i=this.filename(),s=i.lastIndexOf(".");return-1===s?"":(o=i.substring(s+1),n=/^[a-z0-9%]+$/i.test(o)?o:"",e?r.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(l(c)+"$"):new RegExp(l("."+c)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return a&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,o){var n=this._parts.urn?":":"/",i=this.path(),r="/"===i.substring(0,1),s=i.split(n);if(void 0!==e&&"number"!=typeof e&&(o=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(u(t)){s=[];for(var a=0,l=t.length;a<l;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(p(t[a])))}else(t||"string"==typeof t)&&(t=p(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=p(t):s.splice(e,1);return r&&s.unshift(""),this.path(s.join(n),o)},s.segmentCoded=function(e,t,o){var n,i,s;if("number"!=typeof e&&(o=t,t=e,e=void 0),void 0===t){if(u(n=this.segment(e,t,o)))for(i=0,s=n.length;i<s;i++)n[i]=r.decode(n[i]);else n=void 0!==n?r.decode(n):void 0;return n}if(u(t))for(i=0,s=t.length;i<s;i++)t[i]=r.encode(t[i]);else t="string"==typeof t||t instanceof String?r.encode(t):t;return this.segment(e,t,o)};var A=s.query;return s.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var o=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,o);return this._parts.query=r.buildQuery(n||o,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):A.call(this,e,t)},s.setQuery=function(e,t,o){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)a.call(e,i)&&(n[i]=e[i])}return this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(o=t),this.build(!o),this},s.addQuery=function(e,t,o){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(n,e,void 0===t?null:t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(o=t),this.build(!o),this},s.removeQuery=function(e,t,o){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(n,e,t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(o=t),this.build(!o),this},s.hasQuery=function(e,t,o){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(n,e,t,o)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(o){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!o)),this},s.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,o=this._parts.path;if(!o)return this;if(this._parts.urn)return this._parts.path=r.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,i,s="";for("/"!==(o=r.recodePath(o)).charAt(0)&&(t=!0,o="/"+o),"/.."!==o.slice(-3)&&"/."!==o.slice(-2)||(o+="/"),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=o.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(n=o.search(/\/\.\.(\/|$)/));)0!==n?(-1===(i=o.substring(0,n).lastIndexOf("/"))&&(i=n),o=o.substring(0,i)+o.substring(n+3)):o=o.substring(3);return t&&this.is("relative")&&(o=s+o.substring(1)),this._parts.path=o,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=r.encode,t=r.decode;r.encode=escape,r.decode=decodeURIComponent;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},s.unicode=function(){var e=r.encode,t=r.decode;r.encode=m,r.decode=unescape;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},s.readable=function(){var t=this.clone();t.username("").password("").normalize();var o="";if(t._parts.protocol&&(o+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(o+=e.toUnicode(t._parts.hostname),t._parts.port&&(o+=":"+t._parts.port)):o+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(o+="/"),o+=t.path(!0),t._parts.query){for(var n="",i=0,s=t._parts.query.split("&"),a=s.length;i<a;i++){var l=(s[i]||"").split("=");n+="&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}o+="?"+n.substring(1)}return o+r.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,o,n,i=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(o=0;n=s[o];o++)i._parts[n]=e._parts[n];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},s.relativeTo=function(e){var t,o,n,i,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),t=a._parts,o=e._parts,i=a.path(),s=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===o.protocol&&(t.protocol=null),t.username!==o.username||t.password!==o.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==o.hostname||t.port!==o.port)return a.build();if(t.hostname=null,t.port=null,i===s)return t.path="",a.build();if(!(n=r.commonPath(i,s)))return a.build();var l=o.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(n.length)||"./",a.build()},s.equals=function(e){var t,o,n,i,s,l=this.clone(),c=new r(e),g={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(n=l.query(),i=c.query(),l.query(""),c.query(""),l.toString()!==c.toString())return!1;if(n.length!==i.length)return!1;for(s in t=r.parseQuery(n,this._parts.escapeQuerySpace),o=r.parseQuery(i,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(u(t[s])){if(!h(t[s],o[s]))return!1}else if(t[s]!==o[s])return!1;g[s]=!0}for(s in o)if(a.call(o,s)&&!g[s])return!1;return!0},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r}));var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,o){var n,i=e.split("."),r=o||goog.global;i[0]in r||!r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)!i.length&&goog.isDef(t)?r[n]=t:r=r[n]||(r[n]={})},goog.define=function(e,t){COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(t=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,t)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var o=e;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED)return goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw new Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var o,n=e.split("."),i=t||goog.global;o=n.shift();){if(!goog.isDefAndNotNull(i[o]))return null;i=i[o]}return i},goog.globalize=function(e,t){var o,n=t||goog.global;for(o in e)n[o]=e[o]},goog.addDependency=function(e,t,o,n){if(goog.DEPENDENCIES_ENABLED){for(var i,r,s=e.replace(/\\/g,"/"),a=goog.dependencies_,l=0;i=t[l];l++)a.nameToPath[i]=s,a.pathIsModule[s]=!!n;for(var c=0;r=o[c];c++)s in a.requires||(a.requires[s]={}),a.requires[s][r]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,goog.writeScripts_(),null}throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS=!0,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_||(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return void 0!==e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var o=e[t].src,n=-1==(n=o.lastIndexOf("?"))?o.length:n;if("base.js"==o.substr(n-7,7))return void(goog.basePath=o.substr(0,n-7))}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(e){goog.importScript_("",'goog.retrieveAndExecModule_("'+e+'");')&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<e;o++){var n=t[o];goog.maybeProcessDeferredPath_(n)}}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){return!(!(e=goog.getPathFromDeps_(e))||!goog.dependencies_.pathIsModule[e])&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){var t;e in goog.dependencies_.deferred&&(t=goog.dependencies_.deferred[e],delete goog.dependencies_.deferred[e],goog.globalEval(t))},goog.loadModule=function(e){var t,o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1},goog.isFunction(e))t=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");t=goog.loadModuleFromSource_.call(goog.global,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,t):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(t),goog.loadedModules_[n]=t,goog.moduleLoaderState_.declareTestMethods)for(var i in t)0!==i.indexOf("test",0)&&"tearDown"!=i&&"setUp"!=i&&"setUpPage"!=i&&"tearDownPage"!=i||(goog.global[i]=t[i])}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(source){"use strict";var exports={};return eval(source),exports},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,o=t.createElement("script");o.type="text/javascript",o.src=e,o.defer=!1,o.async=!1,t.head.appendChild(o)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==o.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}var n=goog.IS_OLD_IE_;return void 0===t?n?(n=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",o.write('<script type="text/javascript" src="'+e+'"'+n+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):o.write('<script type="text/javascript">'+t+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){var e=[],t={},o=goog.dependencies_;for(i in goog.included_)o.written[i]||function n(i){if(!(i in o.written))if(i in o.visited)i in t||(t[i]=!0,e.push(i));else{if(o.visited[i]=!0,i in o.requires)for(var r in o.requires[i])if(!goog.isProvided_(r)){if(!(r in o.nameToPath))throw Error("Undefined nameToPath for "+r);n(o.nameToPath[r])}i in t||(t[i]=!0,e.push(i))}}(i);for(var n=0;n<e.length;n++){var i=e[n];goog.dependencies_.written[i]=!0}var r=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,n=0;n<e.length;n++){if(!(i=e[n]))throw goog.moduleLoaderState_=r,Error("Undefined script input");o.pathIsModule[i]?goog.importModule_(goog.basePath+i):goog.importScript_(goog.basePath+i)}goog.moduleLoaderState_=r},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var t=e.split("/"),o=0;o<t.length;)"."==t[o]?t.splice(o,1):o&&".."==t[o]&&t[o-1]&&".."!=t[o-1]?t.splice(--o,2):o++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,n=goog.loadFileSync_(e);if(null==n)throw new Error("load of "+e+"failed");n=goog.wrapModule_(e,n),goog.IS_OLD_IE_?(goog.dependencies_.deferred[t]=n,goog.queuedModules_.push(t)):o(e,n)}},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"!=t&&"array"!=t)return e;if(e.clone)return e.clone();var o,n="array"==t?[]:{};for(o in e)n[o]=goog.cloneObject(e[o]);return n},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,o){if(!e)throw new Error;if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,o){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");var t,o;null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_?goog.global.eval(e):((o=(t=goog.global.document).createElement("SCRIPT")).type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.body.appendChild(o),t.body.removeChild(o))}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,t){function o(e){return goog.cssNameMapping_[e]||e}var n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:function(e){for(var t=e.split("-"),n=[],i=0;i<t.length;i++)n.push(o(t[i]));return n.join("-")}:function(e){return e};return t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t?e.replace(/\{\$([^}]+)}/g,(function(e,o){return o in t?t[o]:e})):e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,(e.prototype.constructor=e).base=function(e,o,n){for(var i=new Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return t.prototype[o].apply(e,i)}},goog.base=function(e,t,o){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return n.superClass_.constructor.apply(e,i)}var s=new Array(arguments.length-2);for(r=2;r<arguments.length;r++)s[r-2]=arguments[r];for(var a=!1,l=e.constructor;l;l=l.superClass_&&l.superClass_.constructor)if(l.prototype[t]===n)a=!0;else if(a)return l.prototype[t].apply(e,s);if(e[t]===n)return e.constructor.prototype[t].apply(e,s);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var o=t.constructor,n=t.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(o.prototype,t),null!=n&&(n instanceof Function?n(o):goog.defineClass.applyProperties_(o,n)),o},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function?t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]?e:function t(){var o=e.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(o),o}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("goog.debug.Error"),goog.debug.Error=function(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):(t=(new Error).stack)&&(this.stack=t),e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.provide("goog.dom.NodeType"),goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",!1),goog.string.Unicode={NBSP:""},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return 0<=o&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var o=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<o.length;)n+=o.shift()+i.shift();return n+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<=""},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(goog.string.numerateCompareRegExp_),n=t.toLowerCase().match(goog.string.numerateCompareRegExp_),i=Math.min(o.length,n.length),r=0;r<i;r++){var s=o[r],a=n[r];if(s!=a){var l=parseInt(s,10);if(!isNaN(l)){var c=parseInt(a,10);if(!isNaN(c)&&l-c)return l-c}return s<a?-1:1}}return o.length!=n.length?o.length-n.length:e<t?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING?e.replace(goog.string.E_RE_,"&#101;"):e):goog.string.ALL_RE_.test(e)?(-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(goog.string.AMP_RE_,"&amp;"):e).indexOf("<")?e.replace(goog.string.LT_RE_,"&lt;"):e).indexOf(">")?e.replace(goog.string.GT_RE_,"&gt;"):e).indexOf('"')?e.replace(goog.string.QUOT_RE_,"&quot;"):e).indexOf("'")?e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"):e).indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")?e.replace(goog.string.E_RE_,"&#101;"):e):e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=(t||goog.global.document).createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var i=o[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(n.innerHTML=e+" ",i=n.firstChild.nodeValue.slice(0,-1)),o[e]=i)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return e}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var o=t.length,n=0;n<o;n++){var i=1==o?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return(e=o?goog.string.unescapeEntities(e):e).length>t&&(e=e.substring(0,t-3)+"..."),o?goog.string.htmlEscape(e):e},goog.string.truncateMiddle=function(e,t,o,n){var i;return o&&(e=goog.string.unescapeEntities(e)),n&&e.length>t?(i=e.length-(n=t<n?t:n),e=e.substring(0,t-n)+"..."+e.substring(i)):e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+=t%2)+"..."+e.substring(i)),o?goog.string.htmlEscape(e):e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if((e=String(e)).quote)return e.quote();for(var t=['"'],o=0;o<e.length;o++){var n=e.charAt(o),i=n.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[n]||(31<i&&i<127?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,o=e.charCodeAt(0);return 31<o&&o<127?t=e:(o<256?(t="\\x",(o<16||256<o)&&(t+="0")):(t="\\u",o<4096&&(t+="0")),t+=o.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var n=e;return 0<=t&&t<e.length&&0<o?e.substr(0,t)+e.substr(t+o,e.length-t-o):n},goog.string.remove=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),""),e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return new Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return o=goog.isDef(o)?e.toFixed(o):String(e),-1==(e=o.indexOf("."))&&(e=o.length),goog.string.repeat("0",Math.max(0,t-e))+o},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var o=0,n=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==o&&s<r;s++){var a=n[s]||"",l=i[s]||"",c=new RegExp("(\\d*)(\\D*)","g"),u=new RegExp("(\\d*)(\\D*)","g");do{var g=c.exec(a)||["","",""],d=u.exec(l)||["","",""];if(0==g[0].length&&0==d[0].length)break;var h=0==g[1].length?0:parseInt(g[1],10),p=0==d[1].length?0:parseInt(d[1],10);o=goog.string.compareElements_(h,p)||goog.string.compareElements_(0==g[2].length,0==d[2].length)||goog.string.compareElements_(g[2],d[2])}while(0==o)}return o},goog.string.compareElements_=function(e,t){return e<t?-1:t<e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,o=0;o<e.length;++o)t=31*t+e.charCodeAt(o),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=(t=goog.isString(t)?goog.string.regExpEscape(t):"\\s")?"|["+t+"]+":"",t=new RegExp("(^"+t+")([a-z])","g"),e.replace(t,(function(e,t,o){return t+o.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,o){for(var n=e.split(t),i=[];0<o&&n.length;)i.push(n.shift()),o--;return n.length&&i.push(n.join(t)),i},goog.string.editDistance=function(e,t){var o=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)o[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var r=0;r<t.length;r++){var s=e[i]!=t[r];n[r+1]=Math.min(n[r]+1,o[r+1]+1,o[r]+s)}for(r=0;r<o.length;r++)o[r]=n[r]}return n[t.length]},goog.provide("goog.asserts"),goog.provide("goog.asserts.AssertionError"),goog.require("goog.debug.Error"),goog.require("goog.dom.NodeType"),goog.require("goog.string"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,o,n){var i="Assertion failed";o?(i+=": "+o,r=n):e&&(i+=": "+e,r=t);var r=new goog.asserts.AssertionError(""+i,r||[]);goog.asserts.errorHandler_(r)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.require("goog.asserts"),goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",!1),goog.array.ArrayLike,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:o<0?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(var n=o;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),o=null==o?e.length-1:o,goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,o)}:function(e,t,o){if((o=null==o?e.length-1:o)<0&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(var n=o;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,o){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;r<n;r++)r in i&&t.call(o,i[r],r,e)},goog.array.forEachRight=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=n-1;0<=r;--r)r in i&&t.call(o,i[r],r,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,o)}:function(e,t,o){for(var n,i=e.length,r=[],s=0,a=goog.isString(e)?e.split(""):e,l=0;l<i;l++)l in a&&(n=a[l],t.call(o,n,l,e)&&(r[s++]=n));return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=new Array(n),r=goog.isString(e)?e.split(""):e,s=0;s<n;s++)s in r&&(i[s]=t.call(o,r[s],s,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),goog.array.ARRAY_PROTOTYPE_.reduce.call(e,t,o)}:function(e,t,o,n){var i=o;return goog.array.forEach(e,(function(o,r){i=t.call(n,i,o,r,e)})),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,o)}:function(e,t,o,n){var i=o;return goog.array.forEachRight(e,(function(o,r){i=t.call(n,i,o,r,e)})),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(o,i[r],r,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&!t.call(o,i[r],r,e))return!1;return!0},goog.array.count=function(e,t,o){var n=0;return goog.array.forEach(e,(function(e,i,r){t.call(o,e,i,r)&&++n}),o),n},goog.array.find=function(e,t,o){return(o=goog.array.findIndex(e,t,o))<0?null:goog.isString(e)?e.charAt(o):e[o]},goog.array.findIndex=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(o,i[r],r,e))return r;return-1},goog.array.findRight=function(e,t,o){return(o=goog.array.findIndexRight(e,t,o))<0?null:goog.isString(e)?e.charAt(o):e[o]},goog.array.findIndexRight=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=n-1;0<=r;r--)if(r in i&&t.call(o,i[r],r,e))return r;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var n;2==arguments.length||(n=goog.array.indexOf(e,o))<0?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var o=goog.array.indexOf(e,t);return(t=0<=o)&&goog.array.removeAt(e,o),t},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return 0<=(o=goog.array.findIndex(e,t,o))&&(goog.array.removeAt(e,o),!0)},goog.array.removeAllIf=function(e,t,o){var n=0;return goog.array.forEachRight(e,(function(i,r){t.call(o,i,r,e)&&goog.array.removeAt(e,r)&&n++})),n},goog.array.concat=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var o=new Array(t),n=0;n<t;n++)o[n]=e[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var o=1;o<arguments.length;o++){var n=arguments[o];if(goog.isArrayLike(n)){var i=e.length||0,r=n.length||0;e.length=i+r;for(var s=0;s<r;s++)e[i+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,t,o,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t,o){for(var n=t||e,i=o||function(e){return goog.isObject(l)?"o"+goog.getUid(l):(typeof l).charAt(0)+l},r={},s=0,a=0;a<e.length;){var l=e[a++],c=i(l);Object.prototype.hasOwnProperty.call(r,c)||(r[c]=!0,n[s++]=l)}n.length=s},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,n,i){for(var r,s=0,a=e.length;s<a;){var l=s+a>>1,c=o?t.call(i,e[l],l,e):t(n,e[l]);0<c?s=1+l:(a=l,r=!c)}return r?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=0;o<e.length;o++)e[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(e,(function(e,t){return n(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=e[o].value},goog.array.sortByKey=function(e,t,o){var n=o||goog.array.defaultCompare;goog.array.sort(e,(function(e,o){return n(t(e),t(o))}))},goog.array.sortObjectsByKey=function(e,t,o){goog.array.sortByKey(e,(function(e){return e[t]}),o)},goog.array.isSorted=function(e,t,o){for(var n=t||goog.array.defaultCompare,i=1;i<e.length;i++){var r=n(e[i-1],e[i]);if(0<r||0==r&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var n=e.length,i=o||goog.array.defaultCompareEquality,r=0;r<n;r++)if(!i(e[r],t[r]))return!1;return!0},goog.array.compare3=function(e,t,o){for(var n=o||goog.array.defaultCompare,i=Math.min(e.length,t.length),r=0;r<i;r++){var s=n(e[r],t[r]);if(0!=s)return s}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return t<e?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return(o=goog.array.binarySearch(e,t,o))<0&&(goog.array.insertAt(e,t,-(o+1)),!0)},goog.array.binaryRemove=function(e,t,o){return 0<=(o=goog.array.binarySearch(e,t,o))&&goog.array.removeAt(e,o)},goog.array.bucket=function(e,t,o){for(var n={},i=0;i<e.length;i++){var r=e[i],s=t.call(o,r,i,e);goog.isDef(s)&&(n[s]||(n[s]=[])).push(r)}return n},goog.array.toObject=function(e,t,o){var n={};return goog.array.forEach(e,(function(i,r){n[t.call(o,i,r,e)]=i})),n},goog.array.range=function(e,t,o){var n=[],i=0,r=e,s=o||1;if(void 0!==t&&(i=e,r=t),s*(r-i)<0)return[];if(0<s)for(var a=i;a<r;a+=s)n.push(a);else for(a=i;r<a;a+=s)n.push(a);return n},goog.array.repeat=function(e,t){for(var o=[],n=0;n<t;n++)o[n]=e;return o},goog.array.flatten=function(e){for(var t=[],o=0;o<arguments.length;o++){var n=arguments[o];if(goog.isArray(n))for(var i=0;i<n.length;i+=8192)for(var r=goog.array.slice(n,i,i+8192),s=goog.array.flatten.apply(null,r),a=0;a<s.length;a++)t.push(s[a]);else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):t<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,o){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=o&&o<e.length),t=goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),goog.array.ARRAY_PROTOTYPE_.splice.call(e,o,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],o=0;;o++){for(var n=[],i=0;i<arguments.length;i++){var r=arguments[i];if(o>=r.length)return t;n.push(r[o])}t.push(n)}},goog.array.shuffle=function(e,t){for(var o=t||Math.random,n=e.length-1;0<n;n--){var i=Math.floor(o()*(n+1)),r=e[n];e[n]=e[i],e[i]=r}},goog.array.copyByIndex=function(e,t){var o=[];return goog.array.forEach(t,(function(t){o.push(e[t])})),o},goog.provide("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,o=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[];t=o.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.provide("goog.object"),goog.object.forEach=function(e,t,o){for(var n in e)t.call(o,e[n],n,e)},goog.object.filter=function(e,t,o){var n,i={};for(n in e)t.call(o,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,o){var n,i={};for(n in e)i[n]=t.call(o,e[n],n,e);return i},goog.object.some=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,o){for(var n in e)if(!t.call(o,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],n=0;for(t in e)o[n++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],n=0;for(t in e)o[n++]=t;return o},goog.object.getValueByKeys=function(e,t){for(var o=goog.isArrayLike(t),n=o?t:arguments,i=o?0:1;i<n.length&&(e=e[n[i]],goog.isDef(e));i++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return n},goog.object.findValue=function(e,t,o){return(o=goog.object.findKey(e,t,o))&&e[o]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.setWithReturnValueIfNotSet=function(e,t,o){return t in e?e[t]:(o=o(),e[t]=o)},goog.object.equals=function(e,t){for(var o in e)if(!(o in t)||e[o]!==t[o])return!1;for(var o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"!=t&&"array"!=t)return e;if(e.clone)return e.clone();var o,n="array"==t?[]:{};for(o in e)n[o]=goog.object.unsafeClone(e[o]);return n},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(e,t){for(var o,n,i=1;i<arguments.length;i++){for(o in n=arguments[i])e[o]=n[o];for(var r=0;r<goog.object.PROTOTYPE_FIELDS_.length;r++)o=goog.object.PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.create.apply(null,e);if(t%2)throw Error("Uneven number of arguments");for(var o={},n=0;n<t;n+=2)o[arguments[n]]=arguments[n+1];return o},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var o={},n=0;n<t;n++)o[arguments[n]]=!0;return o},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.provide("goog.labs.userAgent.browser"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.object"),goog.require("goog.string"),goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")||goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchIE_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchIE_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var t={};goog.array.forEach(e,(function(e){var o=e[0];e=e[1],t[o]=e}));var o=goog.partial(goog.object.containsKey,t);function n(e){return e=goog.array.find(e,o),t[e]||""}return goog.labs.userAgent.browser.isOpera()?n(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isChrome()?n(["Chrome","CriOS"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){if((t=/rv: *([\d\.]*)/.exec(e))&&t[1])return t[1];if(t=/Edge\/([\d\.]+)/.exec(e))return t[1];var t,o="";if((t=/MSIE +([\d\.]+)/.exec(e))&&t[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==t[1])if(e&&e[1])switch(e[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=t[1];return o},goog.provide("goog.labs.userAgent.engine"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){if(e=goog.labs.userAgent.util.getUserAgent()){var e,t=goog.labs.userAgent.util.extractVersionTuples(e);if(e=goog.labs.userAgent.engine.getEngineTuple_(t))return"Gecko"==e[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):e[1];if((t=t[0])&&(o=t[2])){var o=/Trident\/([^\s;]+)/.exec(o);if(o)return o[1]}}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var o=e[t];if("Edge"==o[0])return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.provide("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e,t=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(e=/Windows (?:NT|Phone) ([0-9.]+)/.exec(t))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/.exec(t))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(e=/Mac OS X ([0-9_.]+)/.exec(t))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?o=(e=/Android\s+([^\);]+)(\)|;)/.exec(t))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/.exec(t))&&e[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.provide("goog.userAgent"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.define("goog.userAgent.ASSUME_IE",!1),goog.define("goog.userAgent.ASSUME_GECKO",!1),goog.define("goog.userAgent.ASSUME_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_OPERA",!1),goog.define("goog.userAgent.ASSUME_ANY_VERSION",!1),goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.define("goog.userAgent.ASSUME_MAC",!1),goog.define("goog.userAgent.ASSUME_WINDOWS",!1),goog.define("goog.userAgent.ASSUME_LINUX",!1),goog.define("goog.userAgent.ASSUME_X11",!1),goog.define("goog.userAgent.ASSUME_ANDROID",!1),goog.define("goog.userAgent.ASSUME_IPHONE",!1),goog.define("goog.userAgent.ASSUME_IPAD",!1),goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera){var e=goog.global.opera.version;return goog.isFunction(e)?e():e}var t="";return(e=goog.userAgent.getVersionRegexResult_())&&(t=e?e[1]:""),goog.userAgent.IE&&!goog.labs.userAgent.engine.isEdge()&&(e=goog.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(e):goog.userAgent.IE&&goog.labs.userAgent.engine.isEdge()?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return goog.userAgent.IE&&(goog.labs.userAgent.engine.isEdge()||goog.userAgent.DOCUMENT_MODE>=e)},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE&&(t||!goog.labs.userAgent.engine.isEdge()))return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.provide("goog.dom.BrowserFeature"),goog.require("goog.userAgent"),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.provide("goog.dom.TagName"),goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.provide("goog.dom.tags"),goog.require("goog.object"),goog.dom.tags.VOID_TAGS_=goog.object.createSet("area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(",")),goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.provide("goog.string.TypedString"),goog.string.TypedString=function(){},goog.string.TypedString.prototype.implementsGoogStringTypedString,goog.string.TypedString.prototype.getTypedStringValue,goog.provide("goog.string.Const"),goog.require("goog.asserts"),goog.require("goog.string.TypedString"),goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var t=new goog.string.Const;return t.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,t},goog.provide("goog.html.SafeStyle"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"'"),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.PropertyMap,goog.html.SafeStyle.create=function(e){var t,o="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(n instanceof goog.string.Const?(n=goog.string.Const.unwrap(n),goog.asserts.assert(!/[{;}]/.test(n),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(n)?goog.html.SafeStyle.hasBalancedQuotes_(n)||(goog.asserts.fail("String value requires balanced quotes, got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING),o+=t+":"+n+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,o=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&o?t=!t:'"'==i&&t&&(o=!o)}return t&&o},goog.html.SafeStyle.VALUE_RE_=/^[-,."'%_!# a-zA-Z0-9]+$/,goog.html.SafeStyle.concat=function(e){var t="";return goog.array.forEach(arguments,(function e(o){goog.isArray(o)?goog.array.forEach(o,e):t+=goog.html.SafeStyle.unwrap(o)})),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.provide("goog.html.SafeStyleSheet"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(e){var t="";return goog.array.forEach(arguments,(function e(o){goog.isArray(o)?goog.array.forEach(o,e):t+=goog.html.SafeStyleSheet.unwrap(o)})),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"'"),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.provide("goog.fs.url"),goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_,goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.provide("goog.i18n.bidi"),goog.provide("goog.i18n.bidi.Dir"),goog.provide("goog.i18n.bidi.DirectionalString"),goog.provide("goog.i18n.bidi.Format"),goog.define("goog.i18n.bidi.FORCE_RTL",!1),goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z--------",goog.i18n.bidi.rtlChars_="----",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=new RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,t){return(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var o=0,n=0,i=!1,r=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),s=0;s<r.length;s++){var a=r[s];goog.i18n.bidi.startsWithRtl(a)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?i=!0:goog.i18n.bidi.hasAnyLtr(a)?n++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString,goog.i18n.bidi.DirectionalString.prototype.getDirection,goog.provide("goog.html.SafeUrl"),goog.require("goog.asserts"),goog.require("goog.fs.url"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"'"),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_BLOB_TYPE_PATTERN_=/^image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_BLOB_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),e=goog.html.SAFE_URL_PATTERN_.test(e)?goog.html.SafeUrl.normalize_(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.normalize_=function(e){try{var t=encodeURI(e)}catch(e){return goog.html.SafeUrl.INNOCUOUS_STRING}return t.replace(goog.html.SafeUrl.NORMALIZE_MATCHER_,(function(e){return goog.html.SafeUrl.NORMALIZE_REPLACER_MAP_[e]}))},goog.html.SafeUrl.NORMALIZE_MATCHER_=/[()']|%5B|%5D|%25/g,goog.html.SafeUrl.NORMALIZE_REPLACER_MAP_={"'":"%27","(":"%28",")":"%29","%5B":"[","%5D":"]","%25":"%"},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t},goog.provide("goog.html.TrustedResourceUrl"),goog.require("goog.asserts"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"'"),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,t},goog.provide("goog.html.SafeHtml"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.TagName"),goog.require("goog.dom.tags"),goog.require("goog.html.SafeStyle"),goog.require("goog.html.SafeStyleSheet"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"'"),"type_error:SafeHtml")},goog.html.SafeHtml.TextOrHtml_,goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=null;return e.implementsGoogI18nBidiDirectionalString&&(t=e.getDirection()),e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),t)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_=goog.object.createSet("action","cite","data","formaction","href","manifest","poster","src"),goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_=goog.object.createSet(goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.TEMPLATE),goog.html.SafeHtml.AttributeValue_,goog.html.SafeHtml.create=function(e,t,o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(e,t,o)},goog.html.SafeHtml.createIframe=function(e,t,o,n){var i={};return i.src=e||null,i.srcdoc=t||null,o=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",o,n)},goog.html.SafeHtml.createStyle=function(e,t){var o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t),n="";e=goog.array.concat(e);for(var i=0;i<e.length;i++)n+=goog.html.SafeStyleSheet.unwrap(e[i]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,t)},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if("style"==t.toLowerCase())o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+o+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else{if(!(o instanceof goog.html.SafeUrl))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl or goog.string.Const value, "'+o+'" given.');o=goog.html.SafeUrl.unwrap(o)}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),t+'="'+goog.string.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,o,n){return(n=goog.html.SafeHtml.create(t,o,n)).dir_=e,n},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,o="";return goog.array.forEach(arguments,(function e(n){goog.isArray(n)?goog.array.forEach(n,e):(n=goog.html.SafeHtml.htmlEscape(n),o+=goog.html.SafeHtml.unwrap(n),n=n.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=n:n!=goog.i18n.bidi.Dir.NEUTRAL&&t!=n&&(t=null))})),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t)},goog.html.SafeHtml.concatWithDir=function(e,t){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,o){var n=null,i="<"+e;if(t)for(var r in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(r))throw Error('Invalid attribute name "'+r+'".');var s=t[r];goog.isDefAndNotNull(s)&&(i+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,r,s))}goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),i+=">"):(a=goog.html.SafeHtml.concat(o),i+=">"+goog.html.SafeHtml.unwrap(a)+"</"+e+">",n=a.getDirection());var a=t&&t.dir;return a&&(n=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.combineAttributes=function(e,t,o){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];for(n in o){var r=n.toLowerCase();if(r in e)throw Error('Cannot override "'+r+'" attribute, got "'+n+'" with value "'+o[n]+'"');r in t&&delete i[r],i[n]=o[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.provide("goog.dom.safe"),goog.provide("goog.dom.safe.InsertAdjacentHtmlPosition"),goog.require("goog.asserts"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,o){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrap(o))},goog.dom.safe.setInnerHtml=function(e,t){e.innerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setAnchorHref=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setFrameSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,o){e.rel=o,goog.string.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):t instanceof goog.html.TrustedResourceUrl?e.href=goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?e.href=goog.html.SafeUrl.unwrap(t):e.href=goog.html.SafeUrl.sanitize(t).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,t){e.data=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setScriptSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLocationHref=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.openInWindow=function(e,t,o,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitize(e),(t||window).open(goog.html.SafeUrl.unwrap(e),o?goog.string.Const.unwrap(o):"",n,i)},goog.provide("goog.math"),goog.require("goog.array"),goog.require("goog.asserts"),goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){return(e%=t)*t<0?e+t:e},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return Math.abs(e-t)<=(o||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,o-e)))},goog.math.angleDifference=function(e,t){return 180<(e=goog.math.standardAngle(t)-goog.math.standardAngle(e))?e-=360:e<=-180&&(e=360+e),e},goog.math.sign=Math.sign||function(e){return 0<e?1:e<0?-1:e},goog.math.longestCommonSubsequence=function(e,t,o,n){for(var i=o||function(e,t){return e==t},r=n||function(t,o){return e[t]},s=e.length,a=t.length,l=[],c=0;c<s+1;c++)l[c]=[],l[c][0]=0;for(var u=0;u<a+1;u++)l[0][u]=0;for(c=1;c<=s;c++)for(u=1;u<=a;u++)i(e[c-1],t[u-1])?l[c][u]=l[c-1][u-1]+1:l[c][u]=Math.max(l[c-1][u],l[c][u-1]);var g=[];for(c=s,u=a;0<c&&0<u;)i(e[c-1],t[u-1])?(g.unshift(r(c-1,u-1)),c--,u--):l[c-1][u]>l[c][u-1]?c--:u--;return g},goog.math.sum=function(e){return goog.array.reduce(arguments,(function(e,t){return e+t}),0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(t<2)return 0;var o=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,(function(e){return Math.pow(e-o,2)})))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&e%1==0},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.isNegativeZero=function(e){return 0==e&&1/e<0},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},goog.provide("goog.math.Coordinate"),goog.require("goog.math"),goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&e.x==t.x&&e.y==t.y},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x;return t=e.y-t.y,Math.sqrt(o*o+t*t)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x;return o*o+(t=e.y-t.y)*t},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.x*=e,this.y*=t,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var o=t||new goog.math.Coordinate(0,0),n=this.x,i=this.y;t=Math.cos(e),e=Math.sin(e),this.x=(n-o.x)*t-(i-o.y)*e+o.x,this.y=(n-o.x)*e+(i-o.y)*t+o.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.provide("goog.math.Size"),goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&e.width==t.width&&e.height==t.height},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.width*=e,this.height*=t,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.provide("goog.dom"),goog.provide("goog.dom.Appendable"),goog.provide("goog.dom.DomHelper"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.BrowserFeature"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.html.SafeHtml"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Unicode"),goog.require("goog.userAgent"),goog.define("goog.dom.ASSUME_QUIRKS_MODE",!1),goog.define("goog.dom.ASSUME_STANDARDS_MODE",!1),goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.defaultDomHelper_,goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,t){return goog.isString(t)?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,t){return goog.asserts.assertString(t),e=goog.dom.getElementHelper_(e,t),goog.asserts.assertElement(e,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document;return(o.getElementsByClassName?o.getElementsByClassName(e)[0]:goog.dom.canUseQuerySelector_(o)?o.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},goog.dom.getRequiredElementByClass=function(e,t){return t=goog.dom.getElementByClass(e,t),goog.asserts.assert(t,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,n){e=n||e;var i=t&&"*"!=t?t.toUpperCase():"";if(goog.dom.canUseQuerySelector_(e)&&(i||o))return e.querySelectorAll(i+(o?"."+o:""));if(o&&e.getElementsByClassName){var r=e.getElementsByClassName(o);if(i){for(var s={},a=0,l=0;c=r[l];l++)i==c.nodeName&&(s[a++]=c);return s.length=a,s}return r}if(r=e.getElementsByTagName(i||"*"),o){var c;for(s={},a=0,l=0;c=r[l];l++){var u=c.className;"function"==typeof u.split&&goog.array.contains(u.split(/\s+/),o)&&(s[a++]=c)}return s.length=a,s}return r},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){goog.object.forEach(t,(function(t,o){"style"==o?e.style.cssText=t:"class"==o?e.className=t:"for"==o?e.htmlFor=t:o in goog.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],t):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?e.setAttribute(o,t):e[o]=t}))},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var t=e.document,o=0;if(t){var n=t.body,i=t.documentElement;if(!i||!n)return 0;var r=goog.dom.getViewportSize_(e).height;o=goog.dom.isCss1CompatMode_(t)&&i.scrollHeight?i.scrollHeight!=r?i.scrollHeight:i.offsetHeight:(e=i.scrollHeight,t=i.offsetHeight,i.clientHeight!=t&&(e=n.scrollHeight,t=n.offsetHeight),r<e?t<e?e:t:e<t?e:t)}return o},goog.dom.getPageScroll=function(e){return e=e||goog.global||window,goog.dom.getDomHelper(e.document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement||(goog.userAgent.WEBKIT||!goog.dom.isCss1CompatMode_(e))&&e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o,n,i=t[0],r=t[1];return!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&r&&(r.name||r.type)&&(o=["<",i],r.name&&o.push(' name="',goog.string.htmlEscape(r.name),'"'),r.type&&(o.push(' type="',goog.string.htmlEscape(r.type),'"'),goog.object.extend(n={},r),delete n.type,r=n),o.push(">"),i=o.join("")),i=e.createElement(i),r&&(goog.isString(r)?i.className=r:goog.isArray(r)?i.className=r.join(" "):goog.dom.setProperties(i,r)),2<t.length&&goog.dom.append_(e,i,t,2),i},goog.dom.append_=function(e,t,o,n){function i(o){o&&t.appendChild(goog.isString(o)?e.createTextNode(o):o)}for(var r=n;r<o.length;r++){var s=o[r];goog.isArrayLike(s)&&!goog.dom.isNodeLike(s)?goog.array.forEach(goog.dom.isNodeList(s)?goog.array.toArray(s):s,i):i(s)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)};goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,n){for(var i=e.createElement(goog.dom.TagName.TABLE),r=i.appendChild(e.createElement(goog.dom.TagName.TBODY)),s=0;s<t;s++){for(var a=e.createElement(goog.dom.TagName.TR),l=0;l<o;l++){var c=e.createElement(goog.dom.TagName.TD);n&&goog.dom.setTextContent(c,goog.string.Unicode.NBSP),a.appendChild(c)}r.appendChild(a)}return i},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var o=e.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"),t)),o.removeChild(o.firstChild)):goog.dom.safe.setInnerHtml(o,t),goog.dom.childrenToNode_(e,o)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,t){var o=e.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(o.innerHTML="<br>"+t,o.removeChild(o.firstChild)):o.innerHTML=t,goog.dom.childrenToNode_(e,o)},goog.dom.childrenToNode_=function(e,t){if(1==t.childNodes.length)return t.removeChild(t.firstChild);for(var o=e.createDocumentFragment();t.firstChild;)o.appendChild(t.firstChild);return o},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,(function(e){return e.nodeType==goog.dom.NodeType.ELEMENT}))},goog.dom.getFirstElementChild=function(e){return null!=e.firstElementChild?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return null!=e.lastElementChild?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return null!=e.nextElementSibling?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return null!=e.previousElementSibling?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,goog.dom.isElement(t)?t:null):t},goog.dom.contains=function(e,t){if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return e.sourceIndex-t.sourceIndex;var i=e.parentNode,r=t.parentNode;return i==r?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(i,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(r,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e:i).sourceIndex-(n?t:r).sourceIndex}return(r=(n=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),r.collapse(!0),(n=n.createRange()).selectNode(t),n.collapse(!0),r.compareBoundaryPoints(goog.global.Range.START_TO_END,n)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(var n=t;n.parentNode!=o;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var o=t;o=o.previousSibling;)if(o==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t=arguments.length;if(!t)return null;if(1==t)return e;for(var o=[],n=1/0,i=0;i<t;i++){for(var r=[],s=arguments[i];s;)r.unshift(s),s=s.parentNode;o.push(r),n=Math.min(n,r.length)}var a=null;for(i=0;i<n;i++){for(var l=o[0][i],c=1;c<t;c++)if(l!=o[c][i])return a;a=l}return a},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e).createElement(goog.dom.TagName.DIV);return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,n){if(null!=e)for(var i=e.firstChild;i;){if(t(i)&&(o.push(i),n))return!0;if(goog.dom.findNodes_(i,t,o,n))return!0;i=i.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e);return t&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&0<=e&&e<32768},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){return e=goog.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth},goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){var t=goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e?goog.string.canonicalizeNewlines(e.innerText):(goog.dom.getTextContent_(e,t=[],!0),t.join(""));return t=(t=t.replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,"")," "!=(t=goog.dom.BrowserFeature.CAN_USE_INNER_TEXT?t:t.replace(/ +/g," "))?t.replace(/^\s*/,""):t},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(var n=e.firstChild;n;)goog.dom.getTextContent_(n,t,o),n=n.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var o=t||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=o;){for(var i=e;i=i.previousSibling;)n.unshift(goog.dom.getTextContent(i));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){for(var n=[e],i=0,r=null;0<n.length&&i<t;)if(!((r=n.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(r.nodeType==goog.dom.NodeType.TEXT)i+=r.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ").length;else if(r.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)i+=goog.dom.PREDEFINED_TAG_VALUES_[r.nodeName].length;else for(var s=r.childNodes.length-1;0<=s;s--)n.push(r.childNodes[s]);return goog.isObject(o)&&(o.remainder=r?r.nodeValue.length+t-i-1:0,o.node=r),r},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o,n){if(!t&&!o)return null;var i=t?t.toUpperCase():null;return goog.dom.getAncestor(e,(function(e){return(!i||e.nodeName==i)&&(!o||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),o))}),!0,n)},goog.dom.getAncestorByClass=function(e,t,o){return goog.dom.getAncestorByTagNameAndClass(e,null,t,o)},goog.dom.getAncestor=function(e,t,o,n){o||(e=e.parentNode);for(var i=null==n,r=0;e&&(i||r<=n);){if(goog.asserts.assert("parentNode"!=e.name),t(e))return e;e=e.parentNode,r++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow(),t=goog.userAgent.GECKO&&goog.userAgent.MOBILE;return goog.isDef(e.devicePixelRatio)&&!t?e.devicePixelRatio:e.matchMedia&&(goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3))||1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return t=t||this.document_,goog.dom.getElementsByClass(e,t)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return t=t||this.document_,goog.dom.getElementByClass(e,t)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return t=t||this.document_,goog.dom.getRequiredElementByClass(e,t)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.Appendable,goog.dom.DomHelper.prototype.createDom=function(e,t,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.provide("goog.Thenable"),goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,t,o){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){goog.exportProperty(e.prototype,"then",e.prototype.then),COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(e){return!1}},goog.provide("goog.async.FreeList"),goog.async.FreeList=goog.defineClass(null,{constructor:function(e,t,o){this.limit_=o,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null},get:function(){var e;return 0<this.occupants_?(this.occupants_--,e=this.head_,this.head_=e.next,e.next=null):e=this.create_(),e},put:function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},occupants:function(){return this.occupants_}}),goog.provide("goog.async.WorkItem"),goog.provide("goog.async.WorkQueue"),goog.require("goog.asserts"),goog.require("goog.async.FreeList"),goog.async.WorkQueue=function(){this.workHead_=null,this.workTail_=null},goog.define("goog.async.WorkQueue.DEFAULT_MAX_UNUSED",100),goog.async.WorkQueue.freelist_=new goog.async.FreeList((function(){return new goog.async.WorkItem}),(function(e){e.reset()}),goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,t){var o=this.getUnusedItem_();o.set(e,t),this.workTail_?this.workTail_.next=o:(goog.asserts.assert(!this.workHead_),this.workHead_=o),this.workTail_=o},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.fn=null,this.scope=null,this.next=null},goog.async.WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.fn=null,this.scope=null,this.next=null},goog.provide("goog.debug.EntryPointMonitor"),goog.provide("goog.debug.entryPointRegistry"),goog.require("goog.asserts"),goog.debug.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor.prototype.wrap,goog.debug.EntryPointMonitor.prototype.unwrap,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;o<t.length;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var o=goog.bind(e.unwrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](o);t.length--},goog.provide("goog.functions"),goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(o){return t?e==o:e===o}},goog.functions.compose=function(e,t){var o=arguments,n=o.length;return function(){var e;n&&(e=o[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=o[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,o=t.length;return function(){for(var e,n=0;n<o;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.define("goog.functions.CACHE_RETURN_VALUE",!0),goog.functions.cacheReturnValue=function(e){var t,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(t=e(),o=!0),t):e()}},goog.provide("goog.async.nextTick"),goog.provide("goog.async.throwException"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.dom.TagName"),goog.require("goog.functions"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.async.throwException=function(e){goog.global.setTimeout((function(){throw e}),0)},goog.async.nextTick=function(e,t,o){var n=e;t&&(n=goog.bind(e,t)),n=goog.async.nextTick.wrapCallback_(n),!goog.isFunction(goog.global.setImmediate)||!o&&goog.global.Window&&goog.global.Window.prototype&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n)):goog.global.setImmediate(n)},goog.async.nextTick.setImmediate_,goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()?function(){(n=document.createElement(goog.dom.TagName.IFRAME)).style.display="none",n.src="",document.documentElement.appendChild(n);var e=n.contentWindow;(n=e.document).open(),n.write(""),n.close();var t="callImmediate"+Math.random(),o="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,n=goog.bind((function(e){"*"!=o&&e.origin!=o||e.data!=t||this.port1.onmessage()}),this);e.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(t,o)}}}:e)||goog.labs.userAgent.browser.isIE())return"undefined"!=typeof document&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT)?function(e){var t=document.createElement(goog.dom.TagName.SCRIPT);t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){goog.global.setTimeout(e,0)};var t=new e,o={},n=o;return t.port1.onmessage=function(){var e;goog.isDef(o.next)&&(e=(o=o.next).cb,o.cb=null,e())},function(e){n.next={cb:e},n=n.next,t.port2.postMessage(0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register((function(e){goog.async.nextTick.wrapCallback_=e})),goog.provide("goog.testing.watchers"),goog.testing.watchers.resetWatchers_=[],goog.testing.watchers.signalClockReset=function(){for(var e=goog.testing.watchers.resetWatchers_,t=0;t<e.length;t++)goog.testing.watchers.resetWatchers_[t]()},goog.testing.watchers.watchClockReset=function(e){goog.testing.watchers.resetWatchers_.push(e)},goog.provide("goog.async.run"),goog.require("goog.async.WorkQueue"),goog.require("goog.async.nextTick"),goog.require("goog.async.throwException"),goog.require("goog.testing.watchers"),goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,t)},goog.async.run.initializeRunner_=function(){var e;goog.global.Promise&&goog.global.Promise.resolve?(e=goog.global.Promise.resolve(),goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}):goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.schedule_,goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue_=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue},goog.testing.watchers.watchClockReset(goog.async.run.resetQueue_)),goog.async.run.processWorkQueue=function(){for(var e=null;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(e){goog.async.throwException(e)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.provide("goog.promise.Resolver"),goog.promise.Resolver=function(){},goog.promise.Resolver.prototype.promise,goog.promise.Resolver.prototype.resolve,goog.promise.Resolver.prototype.reject,goog.provide("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.asserts"),goog.require("goog.async.FreeList"),goog.require("goog.async.run"),goog.require("goog.async.throwException"),goog.require("goog.debug.Error"),goog.require("goog.promise.Resolver"),goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.callbackEntriesTail_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(new Error("created")),this.currentStep_=0),e==goog.Promise.RESOLVE_FAST_PATH_)this.resolve_(goog.Promise.State_.FULFILLED,t);else try{var o=this;e.call(t,(function(e){o.resolve_(goog.Promise.State_.FULFILLED,e)}),(function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{throw e instanceof Error?e:new Error("Promise rejected.")}catch(e){}o.resolve_(goog.Promise.State_.REJECTED,e)}))}catch(e){this.resolve_(goog.Promise.State_.REJECTED,e)}},goog.define("goog.Promise.LONG_STACK_TRACES",!1),goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY",0),goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.child=null,this.onFulfilled=null,this.onRejected=null,this.context=null,this.next=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.child=null,this.onFulfilled=null,this.onRejected=null,this.context=null,this.always=!1},goog.define("goog.Promise.DEFAULT_MAX_UNUSED",100),goog.Promise.freelist_=new goog.async.FreeList((function(){return new goog.Promise.CallbackEntry_}),(function(e){e.reset()}),goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,o){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=t,n.context=o,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.RESOLVE_FAST_PATH_=function(){},goog.Promise.resolve=function(e){return e instanceof goog.Promise?e:new goog.Promise(goog.Promise.RESOLVE_FAST_PATH_,e)},goog.Promise.reject=function(e){return new goog.Promise((function(t,o){o(e)}))},goog.Promise.race=function(e){return new goog.Promise((function(t,o){e.length||t(void 0);for(var n,i=0;n=e[i];i++)goog.Promise.maybeThenVoid_(n,t,o)}))},goog.Promise.all=function(e){return new goog.Promise((function(t,o){var n=e.length,i=[];if(n){function r(e,o){n--,i[e]=o,0==n&&t(i)}function s(e){o(e)}for(var a,l=0;a=e[l];l++)goog.Promise.maybeThenVoid_(a,goog.partial(r,l),s)}else t(i)}))},goog.Promise.allSettled=function(e){return new goog.Promise((function(t,o){var n=e.length,i=[];if(n){function r(e,o,r){n--,i[e]=o?{fulfilled:!0,value:r}:{fulfilled:!1,reason:r},0==n&&t(i)}for(var s,a=0;s=e[a];a++)goog.Promise.maybeThenVoid_(s,goog.partial(r,a,!0),goog.partial(r,a,!1))}else t(i)}))},goog.Promise.firstFulfilled=function(e){return new goog.Promise((function(t,o){var n=e.length,i=[];if(n){function r(e){t(e)}function s(e,t){n--,i[e]=t,0==n&&o(i)}for(var a,l=0;a=e[l];l++)goog.Promise.maybeThenVoid_(a,r,goog.partial(s,l))}else t(void 0)}))},goog.Promise.withResolver=function(){var e,t,o=new goog.Promise((function(o,n){e=o,t=n}));return new goog.Promise.Resolver_(o,e,t)},goog.Promise.prototype.then=function(e,t,o){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(t)?t:null,o)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,o){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,t||null,o))},goog.Promise.maybeThenVoid_=function(e,t,o,n){e instanceof goog.Promise?e.thenVoid(t,o,n):e.then(t,o,n)},goog.Promise.prototype.thenAlways=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenAlways")),(t=goog.Promise.getCallbackEntry_(e,e,t)).always=!0,this.addCallbackEntry_(t),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run((function(){var t=new goog.Promise.CancellationError(e);this.cancelInternal_(t)}),this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var o=0,n=null,i=null,r=this.callbackEntries_;r&&(r.always||(o++,!((n=r.child==e?r:n)&&1<o)));r=r.next)n||(i=r);n&&(this.state_==goog.Promise.State_.PENDING&&1==o?this.cancelInternal_(t):(i?this.removeEntryAfter_(i):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,t,o){var n=goog.Promise.getCallbackEntry_(null,null,null);return n.child=new goog.Promise((function(i,r){n.onFulfilled=e?function(t){try{var n=e.call(o,t);i(n)}catch(t){r(t)}}:i,n.onRejected=t?function(e){try{var n=t.call(o,e);!goog.isDef(n)&&e instanceof goog.Promise.CancellationError?r(e):i(n)}catch(e){r(e)}}:r})),(n.child.parent_=this).addCallbackEntry_(n),n.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){if(this.state_==goog.Promise.State_.PENDING){if(this==t)e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself");else{if(goog.Thenable.isImplementedBy(t))return this.state_=goog.Promise.State_.BLOCKED,void goog.Promise.maybeThenVoid_(t,this.unblockAndFulfill_,this.unblockAndReject_,this);if(goog.isObject(t))try{var o=t.then;if(goog.isFunction(o))return void this.tryThen_(t,o)}catch(o){e=goog.Promise.State_.REJECTED,t=o}}this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)}},goog.Promise.prototype.tryThen_=function(e,t){function o(e){i||(i=!0,n.unblockAndReject_(e))}this.state_=goog.Promise.State_.BLOCKED;var n=this,i=!1;try{t.call(e,(function(e){i||(i=!0,n.unblockAndFulfill_(e))}),o)}catch(e){o(e)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,o){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,o);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,o)}catch(e){goog.Promise.handleRejection_.call(null,e)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,o){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,o):e.onRejected&&e.onRejected.call(e.context,o)},goog.Promise.prototype.addStackTrace_=function(e){var t;goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)&&(t=e.stack.split("\n",4)[3],e=e.message,e+=Array(11-e.length).join(" "),this.stack_.push(e+t))},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var t=["Promise trace:"],o=this;o;o=o.parent_){for(var n=this.currentStep_;0<=n;n--)t.push(o.stack_[n]);t.push("Value: ["+(o.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(o.result_)+">")}e.stack+="\n\n"+t.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout((function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)}),goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run((function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))})))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.Promise.CancellationError.base(this,"constructor",e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,o){this.promise=e,this.resolve=t,this.reject=o},goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.provide("goog.disposeAll"),goog.require("goog.disposable.IDisposable"),goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=(new Error).stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.define("goog.Disposable.MONITORING_MODE",0),goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION",!0),goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.onDisposeCallbacks_,goog.Disposable.prototype.creationStack,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?e.call(t):(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(t)?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,o=arguments.length;t<o;++t){var n=arguments[t];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.provide("goog.events.BrowserFeature"),goog.require("goog.userAgent"),goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.provide("goog.events.EventId"),goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.provide("goog.events.Event"),goog.provide("goog.events.EventLike"),goog.require("goog.Disposable"),goog.require("goog.events.EventId"),goog.events.EventLike,goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.target=t,this.currentTarget=this.target,this.propagationStopped_=!1,this.defaultPrevented=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.provide("goog.events.EventType"),goog.require("goog.userAgent"),goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},goog.provide("goog.reflect"),goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.provide("goog.events.BrowserEvent"),goog.provide("goog.events.BrowserEvent.MouseButton"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.reflect"),goog.require("goog.userAgent"),goog.events.BrowserEvent=function(e,t){goog.events.BrowserEvent.base(this,"constructor",e?e.type:""),this.target=null,this.currentTarget=null,this.relatedTarget=null,this.offsetX=0,this.offsetY=0,this.clientX=0,this.clientY=0,this.screenX=0,this.screenY=0,this.button=0,this.keyCode=0,this.charCode=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t,(t=e.relatedTarget)?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(t,"nodeName")||(t=null)):o==goog.events.EventType.MOUSEOVER?t=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(t=e.toElement),this.relatedTarget=t,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.provide("goog.events.Listenable"),goog.provide("goog.events.ListenableKey"),goog.require("goog.events.EventId"),goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen,goog.events.Listenable.prototype.listenOnce,goog.events.Listenable.prototype.unlisten,goog.events.Listenable.prototype.unlistenByKey,goog.events.Listenable.prototype.dispatchEvent,goog.events.Listenable.prototype.removeAllListeners,goog.events.Listenable.prototype.getParentEventTarget,goog.events.Listenable.prototype.fireListeners,goog.events.Listenable.prototype.getListeners,goog.events.Listenable.prototype.getListener,goog.events.Listenable.prototype.hasListener,goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.ListenableKey.prototype.src,goog.events.ListenableKey.prototype.type,goog.events.ListenableKey.prototype.listener,goog.events.ListenableKey.prototype.capture,goog.events.ListenableKey.prototype.handler,goog.events.ListenableKey.prototype.key,goog.provide("goog.events.Listener"),goog.require("goog.events.ListenableKey"),goog.events.Listener=function(e,t,o,n,i,r){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=(new Error).stack),this.listener=e,this.proxy=t,this.src=o,this.type=n,this.capture=!!i,this.handler=r,this.key=goog.events.ListenableKey.reserveKey(),this.callOnce=!1,this.removed=!1},goog.define("goog.events.Listener.ENABLE_MONITORING",!1),goog.events.Listener.prototype.creationStack,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null},goog.provide("goog.events.ListenerMap"),goog.require("goog.array"),goog.require("goog.events.Listener"),goog.require("goog.object"),goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},goog.events.ListenerMap.prototype.add=function(e,t,o,n,i){var r,s=e.toString(),a=this.listeners[s];return a||(a=this.listeners[s]=[],this.typeCount_++),-1<(e=goog.events.ListenerMap.findListenerIndex_(a,t,n,i))?(r=a[e],o||(r.callOnce=!1)):((r=new goog.events.Listener(t,null,this.src,s,!!n,i)).callOnce=o,a.push(r)),r},goog.events.ListenerMap.prototype.remove=function(e,t,o,n){var i=e.toString();return i in this.listeners&&(e=this.listeners[i],-1<(n=goog.events.ListenerMap.findListenerIndex_(e,t,o,n))&&(e[n].markAsRemoved(),goog.array.removeAt(e,n),0==e.length&&(delete this.listeners[i],this.typeCount_--),!0))},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var o=goog.array.remove(this.listeners[t],e);return o&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),o},goog.events.ListenerMap.prototype.removeAll=function(e){var t,o=e&&e.toString(),n=0;for(t in this.listeners)if(!o||t==o){for(var i=this.listeners[t],r=0;r<i.length;r++)++n,i[r].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},goog.events.ListenerMap.prototype.getListeners=function(e,t){var o=this.listeners[e.toString()],n=[];if(o)for(var i=0;i<o.length;++i){var r=o[i];r.capture==t&&n.push(r)}return n},goog.events.ListenerMap.prototype.getListener=function(e,t,o,n){var i=this.listeners[e.toString()];return e=-1,-1<(e=i?goog.events.ListenerMap.findListenerIndex_(i,t,o,n):e)?i[e]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var o=goog.isDef(e),n=o?e.toString():"",i=goog.isDef(t);return goog.object.some(this.listeners,(function(e,r){for(var s=0;s<e.length;++s)if(!(o&&e[s].type!=n||i&&e[s].capture!=t))return!0;return!1}))},goog.events.ListenerMap.findListenerIndex_=function(e,t,o,n){for(var i=0;i<e.length;++i){var r=e[i];if(!r.removed&&r.listener==t&&r.capture==!!o&&r.handler==n)return i}return-1},goog.provide("goog.events"),goog.provide("goog.events.CaptureSimulationMode"),goog.provide("goog.events.Key"),goog.provide("goog.events.ListenableType"),goog.require("goog.asserts"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.forwardDeclare("goog.debug.ErrorHandler"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.Key,goog.events.ListenableType,goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.define("goog.events.CAPTURE_SIMULATION_MODE",2),goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listen(e,t[r],o,n,i);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listen(t,o,n,i):goog.events.listen_(e,t,o,!1,n,i)},goog.events.listen_=function(e,t,o,n,i,r){if(!t)throw Error("Invalid event type");var s=!!i;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var a=goog.events.getListenerMap_(e);if(a||(e[goog.events.LISTENER_MAP_PROP_]=a=new goog.events.ListenerMap(e)),(i=a.add(t,o,n,i,r)).proxy)return i;if(r=goog.events.getProxy(),(i.proxy=r).src=e,r.listener=i,e.addEventListener)e.addEventListener(t.toString(),r,s);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(goog.events.getOnString_(t.toString()),r)}return goog.events.listenerCountEstimate_++,i},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(o){return e.call(t.src,t.listener,o)}:function(o){if(!(o=e.call(t.src,t.listener,o)))return o};return t},goog.events.listenOnce=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listenOnce(e,t[r],o,n,i);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,o,n,i):goog.events.listen_(e,t,o,!0,n,i)},goog.events.listenWithWrapper=function(e,t,o,n,i){t.listen(e,o,n,i)},goog.events.unlisten=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.unlisten(e,t[r],o,n,i);return null}if(o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e))return e.unlisten(t,o,n,i);if(!e)return!1;var s=!!n,a=goog.events.getListenerMap_(e);return!(!a||!(s=a.getListener(t,o,s,i)))&&goog.events.unlistenByKey(s)},goog.events.unlistenByKey=function(e){if(goog.isNumber(e))return!1;var t=e;if(!t||t.removed)return!1;var o=t.src;if(goog.events.Listenable.isImplementedBy(o))return o.unlistenByKey(t);var n=t.type;return e=t.proxy,o.removeEventListener?o.removeEventListener(n,e,t.capture):o.detachEvent&&o.detachEvent(goog.events.getOnString_(n),e),goog.events.listenerCountEstimate_--,(e=goog.events.getListenerMap_(o))?(e.removeByKey(t),0==e.getTypeCount()&&(e.src=null,o[goog.events.LISTENER_MAP_PROP_]=null)):t.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,o,n,i){t.unlisten(e,o,n,i)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var o=goog.events.getListenerMap_(e);if(!o)return 0;var n,i=0,r=t&&t.toString();for(n in o.listeners)if(!r||n==r)for(var s=o.listeners[n].concat(),a=0;a<s.length;++a)goog.events.unlistenByKey(s[a])&&++i;return i},goog.events.getListeners=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)||e&&(e=goog.events.getListenerMap_(e))?e.getListeners(t,o):[]},goog.events.getListener=function(e,t,o,n,i){return o=goog.events.wrapListener(o),n=!!n,goog.events.Listenable.isImplementedBy(e)||e&&(e=goog.events.getListenerMap_(e))?e.getListener(t,o,n,i):null},goog.events.hasListener=function(e,t,o){return(goog.events.Listenable.isImplementedBy(e)||!!(e=goog.events.getListenerMap_(e)))&&e.hasListener(t,o)},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,o,n):goog.events.fireListeners_(e,t,o,n)},goog.events.fireListeners_=function(e,t,o,n){var i=!0;if((e=goog.events.getListenerMap_(e))&&(r=e.listeners[t.toString()]))for(var r=r.concat(),s=0;s<r.length;s++){var a=r[s];a&&a.capture==o&&!a.removed&&(a=goog.events.fireListener(a,n),i=i&&!1!==a)}return i},goog.events.fireListener=function(e,t){var o=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),o.call(n,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT)return goog.events.fireListener(e,new goog.events.BrowserEvent(t,this));t=t||goog.getObjectByName("window.event");var o=new goog.events.BrowserEvent(t,this),n=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(t)){goog.events.markIeEvent_(t);for(var i=[],r=o.currentTarget;r;r=r.parentNode)i.push(r);for(var s=e.type,a=i.length-1;!o.propagationStopped_&&0<=a;a--){o.currentTarget=i[a];var l=goog.events.fireListeners_(i[a],s,!0,o);n=n&&l}for(a=0;!o.propagationStopped_&&a<i.length;a++)o.currentTarget=i[a],l=goog.events.fireListeners_(i[a],s,!1,o),n=n&&l}}else n=goog.events.fireListener(e,o);return n},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}!t&&null!=e.returnValue||(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return(e=e[goog.events.LISTENER_MAP_PROP_])instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register((function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)})),goog.provide("goog.events.EventTarget"),goog.require("goog.Disposable"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.require("goog.object"),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),(this.actualEventTarget_=this).parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,n){goog.events.listen(this,e,t,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,n){goog.events.unlisten(this,e,t,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t=this.getParentEventTarget();if(t)for(var o=[],n=1;t;t=t.getParentEventTarget())o.push(t),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,o,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,o,n){return this.eventTargetListeners_.add(String(e),t,!0,o,n)},goog.events.EventTarget.prototype.unlisten=function(e,t,o,n){return this.eventTargetListeners_.remove(String(e),t,o,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,o){if(!(n=this.eventTargetListeners_.listeners[String(e)]))return!0;for(var n=n.concat(),i=!0,r=0;r<n.length;++r){var s,a,l=n[r];l&&!l.removed&&l.capture==t&&(s=l.listener,a=l.handler||l.src,l.callOnce&&this.unlistenByKey(l),i=!1!==s.call(a,o)&&i)}return i&&0!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,o,n){return this.eventTargetListeners_.getListener(String(e),t,o,n)},goog.events.EventTarget.prototype.hasListener=function(e,t){return e=goog.isDef(e)?String(e):void 0,this.eventTargetListeners_.hasListener(e,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,o){var n,i=t.type||t;goog.isString(t)?t=new goog.events.Event(t,e):t instanceof goog.events.Event?t.target=t.target||e:(n=t,t=new goog.events.Event(i,e),goog.object.extend(t,n));var r,s=!0;if(o)for(var a=o.length-1;!t.propagationStopped_&&0<=a;a--)s=(r=t.currentTarget=o[a]).fireListeners(i,!0,t)&&s;if(t.propagationStopped_||(s=(r=t.currentTarget=e).fireListeners(i,!0,t)&&s,t.propagationStopped_||(s=r.fireListeners(i,!1,t)&&s)),o)for(a=0;!t.propagationStopped_&&a<o.length;a++)s=(r=t.currentTarget=o[a]).fireListeners(i,!1,t)&&s;return s},goog.provide("goog.Timer"),goog.require("goog.Promise"),goog.require("goog.events.EventTarget"),goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){var e;this.enabled&&(0<(e=goog.now()-this.last_)&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())))},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,o){if(goog.isFunction(e))o&&(e=goog.bind(e,o));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return t>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,t){var o=null;return new goog.Promise((function(n,i){(o=goog.Timer.callOnce((function(){n(t)}),e))==goog.Timer.INVALID_TIMEOUT_ID_&&i(new Error("Failed to schedule timer."))})).thenCatch((function(e){throw goog.Timer.clear(o),e}))},goog.provide("goog.json"),goog.provide("goog.json.Replacer"),goog.provide("goog.json.Reviver"),goog.provide("goog.json.Serializer"),goog.define("goog.json.USE_NATIVE_JSON",!1),goog.json.isValid=function(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){var o=String(s);if(goog.json.isValid(o))try{return eval("("+o+")")}catch(e){}throw Error("Invalid JSON string: "+o)},goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){return eval("("+s+")")},goog.json.Replacer,goog.json.Reviver,goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,t){return new goog.json.Serializer(t).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var t=[];return this.serializeInternal(e,t),t.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,t){if(null!=e){if("object"==typeof e){if(goog.isArray(e))return void this.serializeArray(e,t);if(!(e instanceof String||e instanceof Number||e instanceof Boolean))return void this.serializeObject_(e,t);e=e.valueOf()}switch(typeof e){case"string":this.serializeString_(e,t);break;case"number":this.serializeNumber_(e,t);break;case"boolean":t.push(e);break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}else t.push("null")},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,t){t.push('"',e.replace(goog.json.Serializer.charsToReplace_,(function(e){var t=goog.json.Serializer.charToJsonCharCache_[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[e]=t),t})),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,t){t.push(isFinite(e)&&!isNaN(e)?e:"null")},goog.json.Serializer.prototype.serializeArray=function(e,t){var o=e.length;t.push("[");for(var n="",i=0;i<o;i++){t.push(n);var r=e[i];this.serializeInternal(this.replacer_?this.replacer_.call(e,String(i),r):r,t),n=","}t.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,t){t.push("{");var o,n,i="";for(o in e)!Object.prototype.hasOwnProperty.call(e,o)||"function"!=typeof(n=e[o])&&(t.push(i),this.serializeString_(o,t),t.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,o,n):n,t),i=",");t.push("}")},goog.provide("goog.html.SafeScript"),goog.require("goog.asserts"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"'"),"type_error:SafeScript")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.provide("goog.html.uncheckedconversions"),goog.require("goog.asserts"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeScript"),goog.require("goog.html.SafeStyle"),goog.require("goog.html.SafeStyleSheet"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.provide("goog.structs"),goog.require("goog.array"),goog.require("goog.object"),goog.structs.getCount=function(e){return"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if("function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],o=e.length,n=0;n<o;n++)t.push(e[n]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if("function"==typeof e.getKeys)return e.getKeys();if("function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){for(var t=[],o=e.length,n=0;n<o;n++)t.push(n);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return"function"==typeof e.contains?e.contains(t):"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return"function"==typeof e.isEmpty?e.isEmpty():(goog.isArrayLike(e)||goog.isString(e)?goog.array:goog.object).isEmpty(e)},goog.structs.clear=function(e){"function"==typeof e.clear?e.clear():(goog.isArrayLike(e)?goog.array:goog.object).clear(e)},goog.structs.forEach=function(e,t,o){if("function"==typeof e.forEach)e.forEach(t,o);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,o);else for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),r=i.length,s=0;s<r;s++)t.call(o,i[s],n&&n[s],e)},goog.structs.filter=function(e,t,o){if("function"==typeof e.filter)return e.filter(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,o);var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),r=i.length;if(n)for(var s={},a=0;a<r;a++)t.call(o,i[a],n[a],e)&&(s[n[a]]=i[a]);else for(s=[],a=0;a<r;a++)t.call(o,i[a],void 0,e)&&s.push(i[a]);return s},goog.structs.map=function(e,t,o){if("function"==typeof e.map)return e.map(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,o);var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),r=i.length;if(n)for(var s={},a=0;a<r;a++)s[n[a]]=t.call(o,i[a],n[a],e);else for(s=[],a=0;a<r;a++)s[a]=t.call(o,i[a],void 0,e);return s},goog.structs.some=function(e,t,o){if("function"==typeof e.some)return e.some(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,o);for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),r=i.length,s=0;s<r;s++)if(t.call(o,i[s],n&&n[s],e))return!0;return!1},goog.structs.every=function(e,t,o){if("function"==typeof e.every)return e.every(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,o);for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),r=i.length,s=0;s<r;s++)if(!t.call(o,i[s],n&&n[s],e))return!1;return!0},goog.provide("goog.structs.Collection"),goog.structs.Collection=function(){},goog.structs.Collection.prototype.add,goog.structs.Collection.prototype.remove,goog.structs.Collection.prototype.contains,goog.structs.Collection.prototype.getCount,goog.provide("goog.iter"),goog.provide("goog.iter.Iterable"),goog.provide("goog.iter.Iterator"),goog.provide("goog.iter.StopIteration"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.functions"),goog.require("goog.math"),goog.iter.Iterable,goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,o=new goog.iter.Iterator;return o.next=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},o}throw Error("Not implemented")},goog.iter.forEach=function(e,t,o){if(goog.isArrayLike(e))try{goog.array.forEach(e,t,o)}catch(e){if(e!==goog.iter.StopIteration)throw e}else{e=goog.iter.toIterator(e);try{for(;;)t.call(o,e.next(),void 0,e)}catch(e){if(e!==goog.iter.StopIteration)throw e}}},goog.iter.filter=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){for(;;){var e=n.next();if(t.call(o,e,void 0,n))return e}},e},goog.iter.filterFalse=function(e,t,o){return goog.iter.filter(e,goog.functions.not(t),o)},goog.iter.range=function(e,t,o){var n=0,i=e,r=o||1;if(1<arguments.length&&(n=e,i=t),0==r)throw Error("Range step argument must not be zero");var s=new goog.iter.Iterator;return s.next=function(){if(0<r&&i<=n||r<0&&n<=i)throw goog.iter.StopIteration;var e=n;return n+=r,e},s},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();return t.call(o,e,void 0,n)},e},goog.iter.reduce=function(e,t,o,n){var i=o;return goog.iter.forEach(e,(function(e){i=t.call(n,i,e)})),i},goog.iter.some=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(t.call(o,e.next(),void 0,e))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e}return!1},goog.iter.every=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(o,e.next(),void 0,e))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e),o=(e=new goog.iter.Iterator,null);return e.next=function(){for(;;){var e;null==o&&(e=t.next(),o=goog.iter.toIterator(e));try{return o.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;o=null}}},e},goog.iter.dropWhile=function(e,t,o){var n=goog.iter.toIterator(e),i=(e=new goog.iter.Iterator,!0);return e.next=function(){for(;;){var e=n.next();if(!i||!t.call(o,e,void 0,n))return i=!1,e}},e},goog.iter.takeWhile=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();if(t.call(o,e,void 0,n))return e;throw goog.iter.StopIteration},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,(function(e){t.push(e)})),t},goog.iter.equals=function(e,t,o){t=goog.iter.zipLongest({},e,t);var n=o||goog.array.defaultCompareEquality;return goog.iter.every(t,(function(e){return n(e[0],e[1])}))},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).next()}catch(e){if(e!=goog.iter.StopIteration)throw e;return t}},goog.iter.product=function(e){if(goog.array.some(arguments,(function(e){return!e.length}))||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,o=arguments,n=goog.array.repeat(0,o.length);return t.next=function(){if(n){for(var e=goog.array.map(n,(function(e,t){return o[t][e]})),t=n.length-1;0<=t;t--){if(goog.asserts.assert(n),n[t]<o[t].length-1){n[t]++;break}if(0==t){n=null;break}n[t]=0}return e}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),o=[],n=0,i=(e=new goog.iter.Iterator,!1);return e.next=function(){var e=null;if(!i)try{return e=t.next(),o.push(e),e}catch(e){if(e!=goog.iter.StopIteration||goog.array.isEmpty(o))throw e;i=!0}return e=o[n],n=(n+1)%o.length,e},e},goog.iter.count=function(e,t){var o=e||0,n=goog.isDef(t)?t:1;return(t=new goog.iter.Iterator).next=function(){var e=o;return o+=n,e},t},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),o=0;return(e=new goog.iter.Iterator).next=function(){return o+=t.next()},e},goog.iter.zip=function(e){var t,o=arguments,n=new goog.iter.Iterator;return 0<o.length&&(t=goog.array.map(o,goog.iter.toIterator),n.next=function(){return goog.array.map(t,(function(e){return e.next()}))}),n},goog.iter.zipLongest=function(e,t){var o,n=goog.array.slice(arguments,1),i=new goog.iter.Iterator;return 0<n.length&&(o=goog.array.map(n,goog.iter.toIterator),i.next=function(){var t=!1,n=goog.array.map(o,(function(o){var n;try{n=o.next(),t=!0}catch(o){if(o!==goog.iter.StopIteration)throw o;n=e}return n}));if(!t)throw goog.iter.StopIteration;return n}),i},goog.iter.compress=function(e,t){var o=goog.iter.toIterator(t);return goog.iter.filter(e,(function(){return!!o.next()}))},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity,this.targetKey,this.currentKey,this.currentValue},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=goog.iter.toArray(n.next());return t.apply(o,goog.array.concat(e,void 0,n))},e},goog.iter.tee=function(e,t){var o=goog.iter.toIterator(e),n=(t=goog.isNumber(t)?t:2,goog.array.map(goog.array.range(t),(function(){return[]})));return goog.array.map(n,(function(e){var t=new goog.iter.Iterator;return t.next=function(){var t;return goog.array.isEmpty(e)&&(t=o.next(),goog.array.forEach(n,(function(e){e.push(t)}))),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},t}))},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var o=goog.iter.toIterator(e),n=(e=new goog.iter.Iterator,t);return e.next=function(){if(0<n--)return o.next();throw goog.iter.StopIteration},e},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);for(var o=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(o,null);return o},goog.iter.slice=function(e,t,o){return goog.asserts.assert(goog.math.isInt(t)&&0<=t),e=goog.iter.consume(e,t),goog.isNumber(o)&&(goog.asserts.assert(goog.math.isInt(o)&&t<=o),e=goog.iter.limit(e,o-t)),e},goog.iter.hasDuplicates_=function(e){var t=[];return goog.array.removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){return e=goog.iter.toArray(e),t=goog.isNumber(t)?t:e.length,t=goog.array.repeat(e,t),t=goog.iter.product.apply(void 0,t),goog.iter.filter(t,(function(e){return!goog.iter.hasDuplicates_(e)}))},goog.iter.combinations=function(e,t){var o=goog.iter.toArray(e),n=(e=goog.iter.range(o.length),t=goog.iter.permutations(e,t),goog.iter.filter(t,(function(e){return goog.array.isSorted(e)})));function i(e){return o[e]}return(t=new goog.iter.Iterator).next=function(){return goog.array.map(n.next(),i)},t},goog.iter.combinationsWithReplacement=function(e,t){var o=goog.iter.toArray(e),n=(e=goog.array.range(o.length),t=goog.array.repeat(e,t),t=goog.iter.product.apply(void 0,t),goog.iter.filter(t,(function(e){return goog.array.isSorted(e)})));function i(e){return o[e]}return(t=new goog.iter.Iterator).next=function(){return goog.array.map(n.next(),i)},t},goog.provide("goog.structs.Map"),goog.require("goog.iter.Iterator"),goog.require("goog.iter.StopIteration"),goog.require("goog.object"),goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.count_=0,this.version_=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var n=0;n<o;n+=2)this.set(arguments[n],arguments[n+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++){var o=this.keys_[t];e.push(this.map_[o])}return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var o=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,o)&&this.map_[o]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.count_!=e.getCount())return!1;var o=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var n,i=0;n=this.keys_[i];i++)if(!o(this.get(n),e.get(n)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.count_=0,this.version_=0},goog.structs.Map.prototype.remove=function(e){return!!goog.structs.Map.hasKey_(this.map_,e)&&(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0)},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var o=this.keys_[e];goog.structs.Map.hasKey_(this.map_,o)&&(this.keys_[t++]=o),e++}this.keys_.length=t}if(this.count_!=this.keys_.length){var n={};for(e=0,t=0;e<this.keys_.length;)o=this.keys_[e],goog.structs.Map.hasKey_(n,o)||(n[this.keys_[t++]=o]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){for(var t,o=e instanceof goog.structs.Map?(t=e.getKeys(),e.getValues()):(t=goog.object.getKeys(e),goog.object.getValues(e)),n=0;n<t.length;n++)this.set(t[n],o[n])},goog.structs.Map.prototype.forEach=function(e,t){for(var o=this.getKeys(),n=0;n<o.length;n++){var i=o[n],r=this.get(i);e.call(t,r,i,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var o=this.keys_[t],n=this.map_[o];e.set(n,o)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var o=this.keys_[t];e[o]=this.map_[o]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,o=this.version_,n=this,i=new goog.iter.Iterator;return i.next=function(){if(o!=n.version_)throw Error("The map has changed since the iterator was created");if(t>=n.keys_.length)throw goog.iter.StopIteration;var i=n.keys_[t++];return e?i:n.map_[i]},i},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.provide("goog.structs.Set"),goog.require("goog.structs"),goog.require("goog.structs.Collection"),goog.require("goog.structs.Map"),goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){for(var t=goog.structs.getValues(e),o=t.length,n=0;n<o;n++)this.add(t[n])},goog.structs.Set.prototype.removeAll=function(e){for(var t=goog.structs.getValues(e),o=t.length,n=0;n<o;n++)this.remove(t[n])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){for(var t=new goog.structs.Set,o=goog.structs.getValues(e),n=0;n<o.length;n++){var i=o[n];this.contains(i)&&t.add(i)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return!(this.getCount()>t)&&(!(e instanceof goog.structs.Set)&&5<t&&(e=new goog.structs.Set(e)),goog.structs.every(this,(function(t){return goog.structs.contains(e,t)})))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.provide("goog.debug"),goog.require("goog.array"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.uncheckedconversions"),goog.require("goog.string.Const"),goog.require("goog.structs.Set"),goog.require("goog.userAgent"),goog.define("goog.debug.LOGGING_ENABLED",goog.DEBUG),goog.debug.catchErrors=function(e,t,o){var n=(o=o||goog.global).onerror,i=!!t;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(i=!i),o.onerror=function(t,o,r,s,a){return n&&n(t,o,r,s,a),e({message:t,fileName:o,line:r,col:s,error:a}),i}},goog.debug.expose=function(e,t){if(void 0===e)return"undefined";if(null==e)return"NULL";var o,n=[];for(o in e)if(t||!goog.isFunction(e[o])){var i=o+" = ";try{i+=e[o]}catch(e){i+="*** "+e+" ***"}n.push(i)}return n.join("\n")},goog.debug.deepExpose=function(e,t){var o=[];return function e(n,i,r){var s=i+"  ",a=new goog.structs.Set(r);r=function(e){return e.replace(/\n/g,"\n"+i)};try{if(goog.isDef(n))if(goog.isNull(n))o.push("NULL");else if(goog.isString(n))o.push('"'+r(n)+'"');else if(goog.isFunction(n))o.push(r(String(n)));else if(goog.isObject(n))if(a.contains(n))o.push("*** reference loop detected ***");else{for(var l in a.add(n),o.push("{"),n)!t&&goog.isFunction(n[l])||(o.push("\n"),o.push(s),o.push(l+" = "),e(n[l],s,a));o.push("\n"+i+"}")}else o.push(n);else o.push("undefined")}catch(n){o.push("*** "+n+" ***")}}(e,"",new goog.structs.Set),o.join("")},goog.debug.exposeArray=function(e){for(var t=[],o=0;o<e.length;o++)goog.isArray(e[o])?t.push(goog.debug.exposeArray(e[o])):t.push(e[o]);return"[ "+t.join(", ")+" ]"},goog.debug.exposeException=function(e,t){return t=goog.debug.exposeExceptionAsHtml(e,t),goog.html.SafeHtml.unwrap(t)},goog.debug.exposeExceptionAsHtml=function(e,t){try{var o=goog.debug.normalizeErrorObject(e),n=goog.debug.createViewSourceUrl_(o.fileName);return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+o.message+"\nUrl: "),goog.html.SafeHtml.create("a",{href:n,target:"_new"},o.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\nLine: "+o.lineNumber+"\n\nBrowser stack:\n"+o.stack+"-> [end]\n\nJS stack traversal:\n"+goog.debug.getStacktrace(t)+"-> "))}catch(e){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+e)}},goog.debug.createViewSourceUrl_=function(e){return goog.isDefAndNotNull(e)||(e=""),/^https?:\/\//i.test(e)?(e=goog.html.SafeUrl.sanitize(e),goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(e))):goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"))},goog.debug.normalizeErrorObject=function(e){var t,o,n=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};var i=!1;try{t=e.lineNumber||e.line||"Not available"}catch(e){t="Not available",i=!0}try{o=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||n}catch(e){o="Not available",i=!0}return!i&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:t,fileName:o,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){var o;if("string"==typeof e?(o=Error(e),Error.captureStackTrace&&Error.captureStackTrace(o,goog.debug.enhanceError)):o=e,o.stack||(o.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var n=0;o["message"+n];)++n;o["message"+n]=String(t)}return o},goog.debug.getStacktraceSimple=function(e){if(goog.STRICT_MODE_COMPATIBLE){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}for(var o=[],n=arguments.callee.caller,i=0;n&&(!e||i<e);){o.push(goog.debug.getFunctionName(n)),o.push("()\n");try{n=n.caller}catch(e){o.push("[exception trying to get caller]\n");break}if(++i>=goog.debug.MAX_STACK_DEPTH){o.push("[...long stack...]");break}}return e&&e<=i?o.push("[...reached max depth limit...]"):o.push("[end]"),o.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=new Error;if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(e){t=e}return(t=t.stack)?String(t):null},goog.debug.getStacktrace=function(e){var t;return goog.STRICT_MODE_COMPATIBLE&&(t=e||goog.debug.getStacktrace,t=goog.debug.getNativeStackTrace_(t)),t||goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])},goog.debug.getStacktraceHelper_=function(e,t){var o=[];if(goog.array.contains(t,e))o.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){o.push(goog.debug.getFunctionName(e)+"(");for(var n,i=e.arguments,r=0;i&&r<i.length;r++){0<r&&o.push(", ");var s=i[r];switch(typeof s){case"object":n=s?"object":"null";break;case"string":n=s;break;case"number":n=String(s);break;case"boolean":n=s?"true":"false";break;case"function":n=(n=goog.debug.getFunctionName(s))||"[fn]";break;default:n=typeof s}40<n.length&&(n=n.substr(0,40)+"..."),o.push(n)}t.push(e),o.push(")\n");try{o.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(e){o.push("[exception trying to get caller]\n")}}else e?o.push("[...long stack...]"):o.push("[end]");return o.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return t=String(e),goog.debug.fnNameCache_[t]||((e=/function ([^\(]+)/.exec(t))?(e=e[1],goog.debug.fnNameCache_[t]=e):goog.debug.fnNameCache_[t]="[Anonymous]"),goog.debug.fnNameCache_[t]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.fnNameResolver_,goog.provide("goog.debug.LogRecord"),goog.debug.LogRecord=function(e,t,o,n,i){this.reset(e,t,o,n,i)},goog.debug.LogRecord.prototype.time_,goog.debug.LogRecord.prototype.level_,goog.debug.LogRecord.prototype.msg_,goog.debug.LogRecord.prototype.loggerName_,goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.define("goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS",!0),goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,t,o,n,i){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof i?i:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=o,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.provide("goog.debug.LogBuffer"),goog.require("goog.asserts"),goog.require("goog.debug.LogRecord"),goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.define("goog.debug.LogBuffer.CAPACITY",0),goog.debug.LogBuffer.prototype.buffer_,goog.debug.LogBuffer.prototype.curIndex_,goog.debug.LogBuffer.prototype.isFull_,goog.debug.LogBuffer.prototype.addRecord=function(e,t,o){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;if(this.curIndex_=n,this.isFull_){var i=this.buffer_[n];return i.reset(e,t,o),i}return this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(e,t,o)},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=new Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0])for(var o=this.curIndex_,n=this.isFull_?o:-1;e(t[n=(n+1)%goog.debug.LogBuffer.CAPACITY]),n!=o;);},goog.provide("goog.debug.LogManager"),goog.provide("goog.debug.Loggable"),goog.provide("goog.debug.Logger"),goog.provide("goog.debug.Logger.Level"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.debug"),goog.require("goog.debug.LogBuffer"),goog.require("goog.debug.LogRecord"),goog.debug.Loggable,goog.debug.Logger=function(e){this.name_=e,this.parent_=null,this.level_=null,this.children_=null,this.handlers_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.define("goog.debug.Logger.ENABLE_HIERARCHY",!0),goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[],goog.debug.Logger.rootLevel_),goog.debug.Logger.Level=function(e,t){this.name=e,this.value=t},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,t=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];t++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++t){var o=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];if(o.value<=e)return o}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(e):goog.global.console.markTimeline&&goog.global.console.markTimeline(e)),goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(e)},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var t=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!t&&goog.array.remove(t,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_||(this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null)):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,t,o){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(t)&&(t=t()),this.doLogRecord_(this.getLogRecord(e,t,o)))},goog.debug.Logger.prototype.getLogRecord=function(e,t,o){return t=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,t,this.name_):new goog.debug.LogRecord(e,String(t),this.name_),o&&t.setException(o),t},goog.debug.Logger.prototype.shout=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,t)},goog.debug.Logger.prototype.severe=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,t)},goog.debug.Logger.prototype.warning=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,t)},goog.debug.Logger.prototype.info=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,t)},goog.debug.Logger.prototype.config=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,t)},goog.debug.Logger.prototype.fine=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,t)},goog.debug.Logger.prototype.finer=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,t)},goog.debug.Logger.prototype.finest=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,t)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var t=this;t;)t.callPublish_(e),t=t.getParent();else for(var o,n=0;o=goog.debug.Logger.rootHandlers_[n++];)o(e)},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var t,o=0;t=this.handlers_[o];o++)t(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,t){this.getChildren()[e]=t},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(e){return function(t){(e||goog.debug.LogManager.getRoot()).severe("Error: "+t.message+" ("+t.fileName+" @ Line: "+t.line+")")}},goog.debug.LogManager.createLogger_=function(e){var t,o,n=new goog.debug.Logger(e);return goog.debug.Logger.ENABLE_HIERARCHY&&(t=e.lastIndexOf("."),o=e.substr(0,t),t=e.substr(t+1),(o=goog.debug.LogManager.getLogger(o)).addChild_(t,n),n.setParent_(o)),goog.debug.LogManager.loggers_[e]=n},goog.provide("goog.log"),goog.provide("goog.log.Level"),goog.provide("goog.log.LogRecord"),goog.provide("goog.log.Logger"),goog.require("goog.debug"),goog.require("goog.debug.LogManager"),goog.require("goog.debug.LogRecord"),goog.require("goog.debug.Logger"),goog.define("goog.log.ENABLED",goog.debug.LOGGING_ENABLED),goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,t){return goog.log.ENABLED?(e=goog.debug.LogManager.getLogger(e),t&&e&&e.setLevel(t),e):null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&e.addHandler(t)},goog.log.removeHandler=function(e,t){return!(!goog.log.ENABLED||!e)&&e.removeHandler(t)},goog.log.log=function(e,t,o,n){goog.log.ENABLED&&e&&e.log(t,o,n)},goog.log.error=function(e,t,o){goog.log.ENABLED&&e&&e.severe(t,o)},goog.log.warning=function(e,t,o){goog.log.ENABLED&&e&&e.warning(t,o)},goog.log.info=function(e,t,o){goog.log.ENABLED&&e&&e.info(t,o)},goog.log.fine=function(e,t,o){goog.log.ENABLED&&e&&e.fine(t,o)},goog.provide("goog.net.ErrorCode"),goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9},goog.net.ErrorCode.getDebugMessage=function(e){switch(e){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}},goog.provide("goog.net.EventType"),goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"},goog.provide("goog.net.HttpStatus"),goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,NETWORK_AUTHENTICATION_REQUIRED:511,QUIRK_IE_NO_CONTENT:1223},goog.net.HttpStatus.isSuccess=function(e){switch(e){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}},goog.provide("goog.net.XhrLike"),goog.net.XhrLike=function(){},goog.net.XhrLike.OrNative,goog.net.XhrLike.prototype.onreadystatechange,goog.net.XhrLike.prototype.responseText,goog.net.XhrLike.prototype.responseXML,goog.net.XhrLike.prototype.readyState,goog.net.XhrLike.prototype.status,goog.net.XhrLike.prototype.statusText,goog.net.XhrLike.prototype.open=function(e,t,o,n,i){},goog.net.XhrLike.prototype.send=function(e){},goog.net.XhrLike.prototype.abort=function(){},goog.net.XhrLike.prototype.setRequestHeader=function(e,t){},goog.net.XhrLike.prototype.getResponseHeader=function(e){},goog.net.XhrLike.prototype.getAllResponseHeaders=function(){},goog.provide("goog.net.XmlHttpFactory"),goog.require("goog.net.XhrLike"),goog.net.XmlHttpFactory=function(){},goog.net.XmlHttpFactory.prototype.cachedOptions_=null,goog.net.XmlHttpFactory.prototype.createInstance=goog.abstractMethod,goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())},goog.net.XmlHttpFactory.prototype.internalGetOptions=goog.abstractMethod,goog.provide("goog.net.WrapperXmlHttpFactory"),goog.require("goog.net.XhrLike"),goog.require("goog.net.XmlHttpFactory"),goog.net.WrapperXmlHttpFactory=function(e,t){goog.net.XmlHttpFactory.call(this),this.xhrFactory_=e,this.optionsFactory_=t},goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()},goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()},goog.provide("goog.net.DefaultXmlHttpFactory"),goog.provide("goog.net.XmlHttp"),goog.provide("goog.net.XmlHttp.OptionType"),goog.provide("goog.net.XmlHttp.ReadyState"),goog.provide("goog.net.XmlHttpDefines"),goog.require("goog.asserts"),goog.require("goog.net.WrapperXmlHttpFactory"),goog.require("goog.net.XmlHttpFactory"),goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()},goog.define("goog.net.XmlHttp.ASSUME_NATIVE_XHR",!1),goog.net.XmlHttpDefines={},goog.define("goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR",!1),goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()},goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1},goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},goog.net.XmlHttp.factory_,goog.net.XmlHttp.setFactory=function(e,t){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(e),goog.asserts.assert(t)))},goog.net.XmlHttp.setGlobalFactory=function(e){goog.net.XmlHttp.factory_=e},goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)},goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var e=this.getProgId_();return e?new ActiveXObject(e):new XMLHttpRequest},goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var e={};return this.getProgId_()&&(e[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,e[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0),e},goog.net.DefaultXmlHttpFactory.prototype.ieProgId_,goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR||goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(this.ieProgId_||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return this.ieProgId_;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++){var o=e[t];try{return new ActiveXObject(o),this.ieProgId_=o}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")},goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory),goog.provide("goog.uri.utils"),goog.provide("goog.uri.utils.ComponentIndex"),goog.provide("goog.uri.utils.QueryArray"),goog.provide("goog.uri.utils.QueryValue"),goog.provide("goog.uri.utils.StandardQueryParam"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,t,o,n,i,r,s){var a="";return e&&(a+=e+":"),o&&(a+="//",t&&(a+=t+"@"),a+=o,n&&(a+=":"+n)),i&&(a+=i),r&&(a+="?"+r),s&&(a+="#"+s),a},goog.uri.utils.splitRe_=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return goog.uri.utils.phishingProtection_(),e.match(goog.uri.utils.splitRe_)},goog.uri.utils.needsPhishingProtection_=goog.userAgent.WEBKIT,goog.uri.utils.phishingProtection_=function(){if(goog.uri.utils.needsPhishingProtection_){goog.uri.utils.needsPhishingProtection_=!1;var e=goog.global.location;if(e){var t=e.href;if(t&&(t=goog.uri.utils.getDomain(t))&&t!=e.hostname)throw goog.uri.utils.needsPhishingProtection_=!0,Error()}}},goog.uri.utils.decodeIfPossible_=function(e,t){return e&&(t?decodeURI:decodeURIComponent)(e)},goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){var t=goog.uri.utils.getScheme(e);return(t=!t&&self.location?(e=self.location.protocol).substr(0,e.length-1):t)?t.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return t<0?null:e.substr(t+1)},goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(null,null,null,null,e[goog.uri.utils.ComponentIndex.PATH],e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)},goog.uri.utils.haveSameDomain=function(e,t){return e=goog.uri.utils.split(e),t=goog.uri.utils.split(t),e[goog.uri.utils.ComponentIndex.DOMAIN]==t[goog.uri.utils.ComponentIndex.DOMAIN]&&e[goog.uri.utils.ComponentIndex.SCHEME]==t[goog.uri.utils.ComponentIndex.SCHEME]&&e[goog.uri.utils.ComponentIndex.PORT]==t[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){if(goog.DEBUG&&(0<=e.indexOf("#")||0<=e.indexOf("?")))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+e+"]")},goog.uri.utils.QueryValue,goog.uri.utils.QueryArray,goog.uri.utils.parseQueryData=function(e,t){for(var o=e.split("&"),n=0;n<o.length;n++){var i=o[n].indexOf("="),r=null,s=null;0<=i?(r=o[n].substring(0,i),s=o[n].substring(i+1)):r=o[n],t(r,s?goog.string.urlDecode(s):"")}},goog.uri.utils.appendQueryData_=function(e){var t,o;return e[1]&&(0<=(o=(t=e[0]).indexOf("#"))&&(e.push(t.substr(o)),e[0]=t=t.substr(0,o)),(o=t.indexOf("?"))<0?e[1]="?":o==t.length-1&&(e[1]=void 0)),e.join("")},goog.uri.utils.appendKeyValuePairs_=function(e,t,o){if(goog.isArray(t)){goog.asserts.assertArray(t);for(var n=0;n<t.length;n++)goog.uri.utils.appendKeyValuePairs_(e,String(t[n]),o)}else null!=t&&o.push("&",e,""===t?"":"=",goog.string.urlEncode(t))},goog.uri.utils.buildQueryDataBuffer_=function(e,t,o){goog.asserts.assert(Math.max(t.length-(o||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");for(var n=o||0;n<t.length;n+=2)goog.uri.utils.appendKeyValuePairs_(t[n],t[n+1],e);return e},goog.uri.utils.buildQueryData=function(e,t){return(t=goog.uri.utils.buildQueryDataBuffer_([],e,t))[0]="",t.join("")},goog.uri.utils.buildQueryDataBufferFromMap_=function(e,t){for(var o in t)goog.uri.utils.appendKeyValuePairs_(o,t[o],e);return e},goog.uri.utils.buildQueryDataFromMap=function(e){return(e=goog.uri.utils.buildQueryDataBufferFromMap_([],e))[0]="",e.join("")},goog.uri.utils.appendParams=function(e,t){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([e],t,0):goog.uri.utils.buildQueryDataBuffer_([e],arguments,1))},goog.uri.utils.appendParamsFromMap=function(e,t){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([e],t))},goog.uri.utils.appendParam=function(e,t,o){return t=[e,"&",t],goog.isDefAndNotNull(o)&&t.push("=",goog.string.urlEncode(o)),goog.uri.utils.appendQueryData_(t)},goog.uri.utils.findParam_=function(e,t,o,n){for(var i=t,r=o.length;0<=(i=e.indexOf(o,i))&&i<n;){var s=e.charCodeAt(i-1);if(!(s!=goog.uri.utils.CharCode_.AMPERSAND&&s!=goog.uri.utils.CharCode_.QUESTION||(s=e.charCodeAt(i+r))&&s!=goog.uri.utils.CharCode_.EQUAL&&s!=goog.uri.utils.CharCode_.AMPERSAND&&s!=goog.uri.utils.CharCode_.HASH))return i;i+=r+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))},goog.uri.utils.getParamValue=function(e,t){var o=e.search(goog.uri.utils.hashOrEndRe_),n=goog.uri.utils.findParam_(e,0,t,o);if(n<0)return null;var i=e.indexOf("&",n);return n+=t.length+1,goog.string.urlDecode(e.substr(n,(i=i<0||o<i?o:i)-n))},goog.uri.utils.getParamValues=function(e,t){for(var o,n=e.search(goog.uri.utils.hashOrEndRe_),i=0,r=[];0<=(o=goog.uri.utils.findParam_(e,i,t,n));)((i=e.indexOf("&",o))<0||n<i)&&(i=n),o+=t.length+1,r.push(goog.string.urlDecode(e.substr(o,i-o)));return r},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,t){for(var o,n=e.search(goog.uri.utils.hashOrEndRe_),i=0,r=[];0<=(o=goog.uri.utils.findParam_(e,i,t,n));)r.push(e.substring(i,o)),i=Math.min(e.indexOf("&",o)+1||n,n);return r.push(e.substr(i)),r.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,t,o){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,o)},goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(t,"/")&&(t=t.substr(1)),goog.string.buildString(e,"/",t)},goog.uri.utils.setPath=function(e,t){return goog.string.startsWith(t,"/")||(t="/"+t),e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT],t,e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.provide("goog.net.XhrIo"),goog.provide("goog.net.XhrIo.ResponseType"),goog.require("goog.Timer"),goog.require("goog.array"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.EventTarget"),goog.require("goog.json"),goog.require("goog.log"),goog.require("goog.net.ErrorCode"),goog.require("goog.net.EventType"),goog.require("goog.net.HttpStatus"),goog.require("goog.net.XmlHttp"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.structs"),goog.require("goog.structs.Map"),goog.require("goog.uri.utils"),goog.require("goog.userAgent"),goog.forwardDeclare("goog.Uri"),goog.net.XhrIo=function(e){goog.net.XhrIo.base(this,"constructor"),this.headers=new goog.structs.Map,this.xmlHttpFactory_=e||null,this.active_=!1,this.xhr_=null,this.xhrOptions_=null,this.lastUri_="",this.lastMethod_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastError_="",this.errorDispatched_=!1,this.inSend_=!1,this.inOpen_=!1,this.inAbort_=!1,this.timeoutInterval_=0,this.timeoutId_=null,this.responseType_=goog.net.XhrIo.ResponseType.DEFAULT,this.withCredentials_=!1,this.useXhr2Timeout_=!1},goog.inherits(goog.net.XhrIo,goog.events.EventTarget),goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"},goog.net.XhrIo.prototype.logger_=goog.log.getLogger("goog.net.XhrIo"),goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type",goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i,goog.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"],goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8",goog.net.XhrIo.XHR2_TIMEOUT_="timeout",goog.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout",goog.net.XhrIo.sendInstances_=[],goog.net.XhrIo.send=function(e,t,o,n,i,r,s){var a=new goog.net.XhrIo;return goog.net.XhrIo.sendInstances_.push(a),t&&a.listen(goog.net.EventType.COMPLETE,t),a.listenOnce(goog.net.EventType.READY,a.cleanupSend_),r&&a.setTimeoutInterval(r),s&&a.setWithCredentials(s),a.send(e,o,n,i),a},goog.net.XhrIo.cleanup=function(){for(var e=goog.net.XhrIo.sendInstances_;e.length;)e.pop().dispose()},goog.net.XhrIo.protectEntryPoints=function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)},goog.net.XhrIo.prototype.cleanupSend_=function(){this.dispose(),goog.array.remove(goog.net.XhrIo.sendInstances_,this)},goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_},goog.net.XhrIo.prototype.setTimeoutInterval=function(e){this.timeoutInterval_=Math.max(0,e)},goog.net.XhrIo.prototype.setResponseType=function(e){this.responseType_=e},goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_},goog.net.XhrIo.prototype.setWithCredentials=function(e){this.withCredentials_=e},goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_},goog.net.XhrIo.prototype.send=function(e,t,o,n){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+e);t=t?t.toUpperCase():"GET",this.lastUri_=e,this.lastError_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastMethod_=t,this.errorDispatched_=!1,this.active_=!0,this.xhr_=this.createXhr(),this.xhrOptions_=(this.xmlHttpFactory_||goog.net.XmlHttp).getOptions(),this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this);try{goog.log.fine(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(t,String(e),!0),this.inOpen_=!1}catch(e){return goog.log.fine(this.logger_,this.formatMsg_("Error opening Xhr: "+e.message)),void this.error_(goog.net.ErrorCode.EXCEPTION,e)}e=o||"";var i=this.headers.clone();n&&goog.structs.forEach(n,(function(e,t){i.set(t,e)})),o=goog.array.find(i.getKeys(),goog.net.XhrIo.isContentTypeHeader_),n=goog.global.FormData&&e instanceof goog.global.FormData,!goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA,t)||o||n||i.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE),i.forEach((function(e,t){this.xhr_.setRequestHeader(t,e)}),this),this.responseType_&&(this.xhr_.responseType=this.responseType_),goog.object.containsKey(this.xhr_,"withCredentials")&&(this.xhr_.withCredentials=this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&(this.useXhr2Timeout_=goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),goog.log.fine(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=goog.bind(this.timeout_,this)):this.timeoutId_=goog.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),goog.log.fine(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(e),this.inSend_=!1}catch(e){goog.log.fine(this.logger_,this.formatMsg_("Send error: "+e.message)),this.error_(goog.net.ErrorCode.EXCEPTION,e)}},goog.net.XhrIo.shouldUseXhr2Timeout_=function(e){return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(9)&&goog.isNumber(e[goog.net.XhrIo.XHR2_TIMEOUT_])&&goog.isDef(e[goog.net.XhrIo.XHR2_ON_TIMEOUT_])},goog.net.XhrIo.isContentTypeHeader_=function(e){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,e)},goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()},goog.net.XhrIo.prototype.timeout_=function(){void 0===goog||this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,goog.log.fine(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))},goog.net.XhrIo.prototype.error_=function(e,t){this.active_=!1,this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.lastError_=t,this.lastErrorCode_=e,this.dispatchErrors_(),this.cleanUpXhr_()},goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))},goog.net.XhrIo.prototype.abort=function(e){this.xhr_&&this.active_&&(goog.log.fine(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=e||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())},goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0)),goog.net.XhrIo.base(this,"disposeInternal")},goog.net.XhrIo.prototype.onReadyStateChange_=function(){this.isDisposed()||(this.inOpen_||this.inSend_||this.inAbort_?this.onReadyStateChangeHelper_():this.onReadyStateChangeEntryPoint_())},goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()},goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&void 0!==goog)if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())goog.log.fine(this.logger_,this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.callOnce(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),this.isComplete()){goog.log.fine(this.logger_,this.formatMsg_("Request complete")),this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}},goog.net.XhrIo.prototype.cleanUpXhr_=function(e){if(this.xhr_){this.cleanUpTimeoutTimer_();var t=this.xhr_,o=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhr_=null,this.xhrOptions_=null,e||this.dispatchEvent(goog.net.EventType.READY);try{t.onreadystatechange=o}catch(e){goog.log.error(this.logger_,"Problem encountered resetting onreadystatechange: "+e.message)}}},goog.net.XhrIo.prototype.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=null),goog.isNumber(this.timeoutId_)&&(goog.Timer.clear(this.timeoutId_),this.timeoutId_=null)},goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_},goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE},goog.net.XhrIo.prototype.isSuccess=function(){var e=this.getStatus();return goog.net.HttpStatus.isSuccess(e)||0===e&&!this.isLastUriEffectiveSchemeHttp_()},goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var e=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(e)},goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED},goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(e){return-1}},goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(e){return goog.log.fine(this.logger_,"Can not get status: "+e.message),""}},goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)},goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(e){return goog.log.fine(this.logger_,"Can not get responseText: "+e.message),""}},goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(e){goog.log.fine(this.logger_,"Can not get responseBody: "+e.message)}return null},goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(e){return goog.log.fine(this.logger_,"Can not get responseXML: "+e.message),null}},goog.net.XhrIo.prototype.getResponseJson=function(e){if(this.xhr_){var t=this.xhr_.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),goog.json.parse(t)}},goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return goog.log.error(this.logger_,"Response type "+this.responseType_+" is not supported on this browser"),null}catch(e){return goog.log.fine(this.logger_,"Can not get response: "+e.message),null}},goog.net.XhrIo.prototype.getResponseHeader=function(e){return this.xhr_&&this.isComplete()?this.xhr_.getResponseHeader(e):void 0},goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""},goog.net.XhrIo.prototype.getResponseHeaders=function(){for(var e,t={},o=this.getAllResponseHeaders().split("\r\n"),n=0;n<o.length;n++)goog.string.isEmptyOrWhitespace(o[n])||(t[(e=goog.string.splitLimit(o[n],": ",2))[0]]?t[e[0]]+=", "+e[1]:t[e[0]]=e[1]);return t},goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_},goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:String(this.lastError_)},goog.net.XhrIo.prototype.formatMsg_=function(e){return e+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"},goog.debug.entryPointRegistry.register((function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)})),goog.provide("goog.Uri"),goog.provide("goog.Uri.QueryData"),goog.require("goog.array"),goog.require("goog.string"),goog.require("goog.structs"),goog.require("goog.structs.Map"),goog.require("goog.uri.utils"),goog.require("goog.uri.utils.ComponentIndex"),goog.require("goog.uri.utils.StandardQueryParam"),goog.Uri=function(e,t){var o;this.scheme_="",this.userInfo_="",this.domain_="",this.port_=null,this.path_="",this.fragment_="",this.isReadOnly_=!1,this.ignoreCase_=!1,this.queryData_,e instanceof goog.Uri?(this.ignoreCase_=goog.isDef(t)?t:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(o=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!t,this.setScheme(o[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(o[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(o[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(o[goog.uri.utils.ComponentIndex.PORT]),this.setPath(o[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(o[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(o[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!t,this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_))},goog.Uri.preserveParameterTypesCompatibilityFlag=!1,goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":"),(t=this.getDomain())&&(e.push("//"),(o=this.getUserInfo())&&e.push(goog.Uri.encodeSpecialChars_(o,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(t))),null!=(o=this.getPort())&&e.push(":",String(o)));var o=this.getPath();return o&&(this.hasDomain()&&"/"!=o.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(o,"/"==o.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0))),(o=this.getEncodedQuery())&&e.push("?",o),(o=this.getFragment())&&e.push("#",goog.Uri.encodeSpecialChars_(o,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone(),o=e.hasScheme();o?t.setScheme(e.getScheme()):o=e.hasUserInfo(),o?t.setUserInfo(e.getUserInfo()):o=e.hasDomain(),o?t.setDomain(e.getDomain()):o=e.hasPort();var n,i=e.getPath();return o?t.setPort(e.getPort()):(o=e.hasPath())&&("/"!=i.charAt(0)&&(this.hasDomain()&&!this.hasPath()?i="/"+i:-1!=(n=t.getPath().lastIndexOf("/"))&&(i=t.getPath().substr(0,n+1)+i)),i=goog.Uri.removeDotSegments(i)),o?t.setPath(i):o=e.hasQuery(),o?t.setQueryData(e.getDecodedQuery()):o=e.hasFragment(),o&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return this.enforceReadOnly(),this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this.scheme_&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.enforceReadOnly(),this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.enforceReadOnly(),this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.enforceReadOnly(),this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,t){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null,this.ignoreCase_)),this},goog.Uri.prototype.setQuery=function(e,t){return this.setQueryData(e,t)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,t){return this.enforceReadOnly(),this.queryData_.set(e,t),this},goog.Uri.prototype.setParameterValues=function(e,t){return this.enforceReadOnly(),goog.isArray(t)||(t=[String(t)]),this.queryData_.setValues(e,t),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.enforceReadOnly(),this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return!((this.hasDomain()||e.hasDomain())&&this.getDomain()!=e.getDomain()||(this.hasPort()||e.hasPort())&&this.getPort()!=e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,t){return e instanceof goog.Uri?e.clone():new goog.Uri(e,t)},goog.Uri.create=function(e,t,o,n,i,r,s,a){return a=new goog.Uri(null,a),e&&a.setScheme(e),t&&a.setUserInfo(t),o&&a.setDomain(o),n&&a.setPort(n),i&&a.setPath(i),r&&a.setQueryData(r),s&&a.setFragment(s),a},goog.Uri.resolve=function(e,t){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),t instanceof goog.Uri||(t=goog.Uri.parse(t)),e.resolve(t)},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){for(var t=goog.string.startsWith(e,"/"),o=e.split("/"),n=[],i=0;i<o.length;){var r=o[i++];"."==r?t&&i==o.length&&n.push(""):".."==r?((1<n.length||1==n.length&&""!=n[0])&&n.pop(),t&&i==o.length&&n.push("")):(n.push(r),t=!0)}return n.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,o){return goog.isString(e)?(t=encodeURI(e).replace(t,goog.Uri.encodeChar_),o?goog.Uri.removeDoubleEncoding_(t):t):null},goog.Uri.encodeChar_=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[\#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[\#\?]/g,goog.Uri.reDisallowedInQuery_=/[\#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,t){return e=goog.uri.utils.split(e),t=goog.uri.utils.split(t),e[goog.uri.utils.ComponentIndex.DOMAIN]==t[goog.uri.utils.ComponentIndex.DOMAIN]&&e[goog.uri.utils.ComponentIndex.PORT]==t[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,t,o){this.keyMap_=null,this.count_=null,this.encodedQuery_=e||null,this.ignoreCase_=!!o},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){var e;this.keyMap_||(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_&&goog.uri.utils.parseQueryData((e=this).encodedQuery_,(function(t,o){e.add(goog.string.urlDecode(t),o)})))},goog.Uri.QueryData.createFromMap=function(e,t,o){var n=goog.structs.getKeys(e);if(void 0===n)throw Error("Keys are undefined");for(var i=new goog.Uri.QueryData(null,null,o),r=goog.structs.getValues(e),s=0;s<n.length;s++){var a=n[s],l=r[s];goog.isArray(l)?i.setValues(a,l):i.add(a,l)}return i},goog.Uri.QueryData.createFromKeysValues=function(e,t,o,n){if(e.length!=t.length)throw Error("Mismatched lengths for keys/values");for(var i=new goog.Uri.QueryData(null,null,n),r=0;r<e.length;r++)i.add(e[r],t[r]);return i},goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var o=this.keyMap_.get(e);return o||this.keyMap_.set(e,o=[]),o.push(t),this.count_++,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),!!this.keyMap_.containsKey(e)&&(this.invalidateCache_(),this.count_-=this.keyMap_.get(e).length,this.keyMap_.remove(e))},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),0==this.count_},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var t=this.getValues();return goog.array.contains(t,e)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=this.keyMap_.getValues(),t=this.keyMap_.getKeys(),o=[],n=0;n<t.length;n++)for(var i=e[n],r=0;r<i.length;r++)o.push(t[n]);return o},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var t=[];if(goog.isString(e))this.containsKey(e)&&(t=goog.array.concat(t,this.keyMap_.get(this.getKeyName_(e))));else for(var o=this.keyMap_.getValues(),n=0;n<o.length;n++)t=goog.array.concat(t,o[n]);return t},goog.Uri.QueryData.prototype.set=function(e,t){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_-=this.keyMap_.get(e).length),this.keyMap_.set(e,[t]),this.count_++,this},goog.Uri.QueryData.prototype.get=function(e,t){return e=e?this.getValues(e):[],goog.Uri.preserveParameterTypesCompatibilityFlag?0<e.length?e[0]:t:0<e.length?String(e[0]):t},goog.Uri.QueryData.prototype.setValues=function(e,t){this.remove(e),0<t.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),goog.array.clone(t)),this.count_+=t.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],t=this.keyMap_.getKeys(),o=0;o<t.length;o++)for(var n=t[o],i=goog.string.urlEncode(n),r=this.getValues(n),s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+goog.string.urlEncode(r[s])),e.push(a)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach((function(t,o){goog.array.contains(e,o)||this.remove(o)}),this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=this.keyMap_.clone(),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){return e=String(e),this.ignoreCase_?e.toLowerCase():e},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){e&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach((function(e,t){var o=t.toLowerCase();t!=o&&(this.remove(t),this.setValues(o,e))}),this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(e){for(var t=0;t<arguments.length;t++)goog.structs.forEach(arguments[t],(function(e,t){this.add(t,e)}),this)};var WS_PROTOCOL="https://",WS_START_PORT=41951,WS_END_PORT=41960,WS_CHECK_TIMEOUT=3e3,WS_COMMAND_TIMEOUT=1e4,WS_SVC_HOST="127.0.0.1",WS_SVC_HOST_LEGACY="localhost",WS_SVC_PATH="DYMO/DLS/Printing",WS_CMD_STATUS="StatusConnected",WS_CMD_GET_PRINTERS="GetPrinters",WS_CMD_OPEN_LABEL="OpenLabelFile",WS_CMD_PRINT_LABEL="PrintLabel",WS_CMD_PRINT_LABEL2="PrintLabel2",WS_CMD_RENDER_LABEL="RenderLabel",WS_CMD_LOAD_IMAGE="LoadImageAsPngBase64",WS_CMD_GET_JOB_STATUS="GetJobStatus",WS_CMD_IS_550_PRINTER="Is550Printer",WS_CMD_GET_CONSUMABLE_INFO_IN_550_PRINTER="GetConsumableInfoIn550Printer";function areCookiesEnabled(){var e="testCookie";return setCookie(e,"test",1),"test"==getCookie(e)}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3),n="expires="+n.toUTCString(),document.cookie=e+"="+t+"; "+n}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function getLocalStorage(){return void 0!==window.localStorage&&window.localStorage?window.localStorage:null}function setCachedService(e,t){var o=getLocalStorage();if(o)if(e&&t)o.ServicePort=e,o.ServiceHost=t;else try{delete o.ServicePort,delete o.ServiceHost}catch(e){}else if(areCookiesEnabled()){if(!e||!t)return setCookie("ServicePort","",100),void setCookie("ServiceHost","",100);setCookie("ServicePort",e,100),setCookie("ServiceHost",t,100)}else window.webServicePort=e,window.webServiceHost=t}function getCachedService(){var e=getLocalStorage();return e?{Port:e.ServicePort,Host:e.ServiceHost}:areCookiesEnabled()?{Port:getCookie("ServicePort"),Host:getCookie("ServiceHost")}:{Port:window.webServicePort,Host:window.webServiceHost}}function ajaxSync(e,t,o){var n,i=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,t=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],o=0;o<t.length;o++)try{e=new ActiveXObject(t[o]);break}catch(e){}return e}(),r=[],s=null;for(n in t)r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));if("POST"==o?s=r.length?r.join("&"):"":e+=r.length?"?"+r.join("&"):"",i.open(o||"GET",e,!1),"POST"==o&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(s),200!=i.status)throw s=i.responseText.split(":",1)[0],new Error(s+"\n\n"+i.responseText+": "+i.statusText);return i.responseText}function asyncFindWebService(e,t){var o,n=(o=getCachedService()).Port;function i(){_findWebService(WS_SVC_HOST_LEGACY,e,t)}traceMsg("checkEnvironment > cachedWebPort : "+(o=o.Host)+"/"+n),traceMsg("checkEnvironment > trying async service discovery"),n?goog.net.XhrIo.send(WS_PROTOCOL+o+":"+n+"/"+WS_SVC_PATH+"/"+WS_CMD_STATUS,(function(t){t.target.isSuccess()?e():(setCachedService(null,null),_findWebService(WS_SVC_HOST,e,i))}),"GET",void 0,void 0,WS_CHECK_TIMEOUT):_findWebService(WS_SVC_HOST,e,i)}function syncCheckWebService(e,t){var o=(n=getCachedService()).Port;traceMsg("checkEnvironment > cachedWebPort : "+(r=n.Host)+"/"+o),traceMsg("checkEnvironment > trying synchronous service discovery");var n,i=o||WS_START_PORT,r=(o=(n=r||WS_SVC_HOST)===WS_SVC_HOST,function(t,o){traceMsg("checkEnvironment > web service found at :"+o+"/"+t),setCachedService(t,o),e(),dymo.label.framework.currentFramework||_createFramework.resetFramework()});checkServiceStatus(i,n)?r(i,n):o&&checkServiceStatus(i,WS_SVC_HOST_LEGACY)?r(i,WS_SVC_HOST_LEGACY):(setCachedService(null,null),t())}function checkServiceStatus(e,t){try{return"true"===ajaxSync(WS_PROTOCOL+t+":"+e+"/"+WS_SVC_PATH+"/"+WS_CMD_STATUS,{},"GET")}catch(e){return}}function _findWebService(e,t,o){for(var n=[],i=WS_START_PORT;i<=WS_END_PORT;++i)n.push(getAjaxPromise(i,e));goog.Promise.all(n).then((function(e){setTimeout(o,0)})).thenCatch((function(n){goog.isNumber(n)?(setCachedService(n,e),t()):o()}))}function getAjaxPromise(e,t){var o=WS_PROTOCOL+t+":"+e+"/"+WS_SVC_PATH+"/"+WS_CMD_STATUS;return new goog.Promise((function(t,n){goog.net.XhrIo.send(o,(function(o){(o.target.isSuccess()?n:t)(e)}),"GET",void 0,void 0,WS_CHECK_TIMEOUT)}))}function invokeWsCommandAsync(e,t,o){var n=(i=getCachedService()).Port,i=i.Host,r=WS_PROTOCOL+i+":"+n+"/"+WS_SVC_PATH+"/"+t;return new goog.Promise((function(n,i){var s,a=[],l=null;for(s in o)a.push(encodeURIComponent(s)+"="+encodeURIComponent(o[s]));"POST"==e?l=a.length?a.join("&"):"":r+=a.length?"?"+a.join("&"):"",goog.net.XhrIo.send(r,(function(e){var o=e.target,r=null;if(o.isSuccess()){e=o.getResponse();try{r=window.JSON.parse(e)}catch(o){r=e}n(r)}else traceMsg("invokeWsCommandAsync > "+(o="Failed to execute webservice command: "+t+". Error: "+o.getStatus())),i(new Error(o))}),e||"GET",l,void 0,WS_COMMAND_TIMEOUT)}))}function invokeWsCommand(e,t,o){var n=(i=getCachedService()).Port,i=i.Host;e=ajaxSync(WS_PROTOCOL+i+":"+n+"/"+WS_SVC_PATH+"/"+t,o,e);try{return window.JSON.parse(e)}catch(t){return e}}function DlsWebService(){this.getPrinters=function(){return invokeWsCommand("GET",WS_CMD_GET_PRINTERS,{})},this.openLabelFile=function(e){return invokeWsCommand("GET",WS_CMD_OPEN_LABEL,{fileName:e})},this.printLabel=function(e,t,o,n){return invokeWsCommand("POST",WS_CMD_PRINT_LABEL,{printerName:e,printParamsXml:t,labelXml:o,labelSetXml:n})},this.printLabel2=function(e,t,o,n){return invokeWsCommand("POST",WS_CMD_PRINT_LABEL2,{printerName:e,printParamsXml:t,labelXml:o,labelSetXml:n})},this.renderLabel=function(e,t,o){return invokeWsCommand("POST",WS_CMD_RENDER_LABEL,{labelXml:e,renderParamsXml:t,printerName:o})},this.loadImageAsPngBase64=function(e){return invokeWsCommand("GET",WS_CMD_LOAD_IMAGE,{imageUri:e})},this.is550Printer=function(e){return invokeWsCommand("GET",WS_CMD_IS_550_PRINTER,{printerName:e})},this.getConsumableInfoIn550Printer=function(e){return invokeWsCommand("GET",WS_CMD_GET_CONSUMABLE_INFO_IN_550_PRINTER,{printerName:e})},this.getPrintersAsync=function(){return invokeWsCommandAsync("GET",WS_CMD_GET_PRINTERS,{})},this.openLabelFileAsync=function(e){return invokeWsCommandAsync("GET",WS_CMD_OPEN_LABEL,{fileName:e})},this.printLabelAsync=function(e,t,o,n){return invokeWsCommandAsync("POST",WS_CMD_PRINT_LABEL,{printerName:e,printParamsXml:t,labelXml:o,labelSetXml:n})},this.printLabel2Async=function(e,t,o,n){return invokeWsCommandAsync("POST",WS_CMD_PRINT_LABEL2,{printerName:e,printParamsXml:t,labelXml:o,labelSetXml:n})},this.renderLabelAsync=function(e,t,o){return invokeWsCommandAsync("POST",WS_CMD_RENDER_LABEL,{labelXml:e,renderParamsXml:t,printerName:o})},this.loadImageAsPngBase64Async=function(e){return invokeWsCommandAsync("GET",WS_CMD_LOAD_IMAGE,{imageUri:e})},this.is550PrinterAsync=function(e){return invokeWsCommandAsync("GET",WS_CMD_IS_550_PRINTER,{printerName:e})},this.getConsumableInfoIn550PrinterAsync=function(e){return invokeWsCommandAsync("GET",WS_CMD_GET_CONSUMABLE_INFO_IN_550_PRINTER,{printerName:e})}}goog.require("goog.dom"),goog.require("goog.net.XhrIo"),goog.require("goog.structs.Map"),goog.require("goog.Uri.QueryData"),goog.provide("dymo.label.framework"),goog.exportProperty(goog.Promise.prototype,"thenCatch",goog.Promise.prototype.thenCatch),goog.provide("dymo.label.framework.FlowDirection"),goog.provide("dymo.label.framework.LabelWriterPrintQuality"),goog.provide("dymo.label.framework.TwinTurboRoll"),goog.provide("dymo.label.framework.TapeAlignment"),goog.provide("dymo.label.framework.TapeCutMode"),goog.provide("dymo.label.framework.AddressBarcodePosition"),dymo.label.framework.FlowDirection={},dymo.label.framework.FlowDirection.LeftToRight="LeftToRight",dymo.label.framework.FlowDirection.RightToLeft="RightToLeft",dymo.label.framework.LabelWriterPrintQuality={},dymo.label.framework.LabelWriterPrintQuality.Auto="Auto",dymo.label.framework.LabelWriterPrintQuality.Text="Text",dymo.label.framework.LabelWriterPrintQuality.BarcodeAndGraphics="BarcodeAndGraphics",dymo.label.framework.TwinTurboRoll={},dymo.label.framework.TwinTurboRoll.Auto="Auto",dymo.label.framework.TwinTurboRoll.Left="Left",dymo.label.framework.TwinTurboRoll.Right="Right",dymo.label.framework.TapeAlignment={},dymo.label.framework.TapeAlignment.Center="Center",dymo.label.framework.TapeAlignment.Left="Left",dymo.label.framework.TapeAlignment.Right="Right",dymo.label.framework.TapeCutMode={},dymo.label.framework.TapeCutMode.AutoCut="AutoCut",dymo.label.framework.TapeCutMode.ChainMarks="ChainMarks",dymo.label.framework.AddressBarcodePosition={},dymo.label.framework.AddressBarcodePosition.AboveAddress="AboveAddress",dymo.label.framework.AddressBarcodePosition.BelowAddress="BelowAddress",dymo.label.framework.AddressBarcodePosition.Suppress="Suppress",dymo.label.framework.PrintJobStatus={},dymo.label.framework.PrintJobStatus.Unknown=0,dymo.label.framework.PrintJobStatus.Printing=1,dymo.label.framework.PrintJobStatus.Finished=2,dymo.label.framework.PrintJobStatus.Error=3,dymo.label.framework.PrintJobStatus.PaperOut=4,dymo.label.framework.PrintJobStatus.InQueue=5,dymo.label.framework.PrintJobStatus.ProcessingError=-1,dymo.label.framework.PrintJobStatus.PrinterBusy=-2,dymo.label.framework.PrintJobStatus.InvalidJobId=-3,dymo.label.framework.PrintJobStatus.NotSpooled=-4,goog.provide("goog.dom.xml"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.dom.xml.MAX_XML_SIZE_KB=2048,goog.dom.xml.MAX_ELEMENT_DEPTH=256,goog.dom.xml.createDocument=function(e,t){if(t&&!e)throw Error("Can't create document with namespace and no root tag");if(document.implementation&&document.implementation.createDocument)return document.implementation.createDocument(t||"",e||"",null);if("undefined"!=typeof ActiveXObject){var o=goog.dom.xml.createMsXmlDocument_();if(o)return e&&o.appendChild(o.createNode(goog.dom.NodeType.ELEMENT,e,t||"")),o}throw Error("Your browser does not support creating new documents")},goog.dom.xml.loadXml=function(e){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"application/xml");if("undefined"==typeof ActiveXObject)throw Error("Your browser does not support loading xml documents");var t=goog.dom.xml.createMsXmlDocument_();return t.loadXML(e),t},goog.dom.xml.serialize=function(e){if("undefined"!=typeof XMLSerializer)return(new XMLSerializer).serializeToString(e);if(e=e.xml)return e;throw Error("Your browser does not support serializing XML documents")},goog.dom.xml.selectSingleNode=function(e,t){if(void 0!==e.selectSingleNode)return void 0!==(o=goog.dom.getOwnerDocument(e)).setProperty&&o.setProperty("SelectionLanguage","XPath"),e.selectSingleNode(t);if(document.implementation.hasFeature("XPath","3.0")){var o,n=(o=goog.dom.getOwnerDocument(e)).createNSResolver(o.documentElement);return o.evaluate(t,e,n,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}return null},goog.dom.xml.selectNodes=function(e,t){if(void 0!==e.selectNodes)return void 0!==(o=goog.dom.getOwnerDocument(e)).setProperty&&o.setProperty("SelectionLanguage","XPath"),e.selectNodes(t);if(document.implementation.hasFeature("XPath","3.0")){for(var o,n=(o=goog.dom.getOwnerDocument(e)).createNSResolver(o.documentElement),i=o.evaluate(t,e,n,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=[],s=i.snapshotLength,a=0;a<s;a++)r.push(i.snapshotItem(a));return r}return[]},goog.dom.xml.setAttributes=function(e,t){for(var o in t)t.hasOwnProperty(o)&&e.setAttribute(o,t[o])},goog.dom.xml.createMsXmlDocument_=function(){var e=new ActiveXObject("MSXML2.DOMDocument");if(e){e.resolveExternals=!1,e.validateOnParse=!1;try{e.setProperty("ProhibitDTD",!0),e.setProperty("MaxXMLSize",goog.dom.xml.MAX_XML_SIZE_KB),e.setProperty("MaxElementDepth",goog.dom.xml.MAX_ELEMENT_DEPTH)}catch(e){}}return e},goog.provide("dymo.xml"),goog.provide("dymo.xml.XPathExpression"),goog.require("goog.dom.xml"),dymo.xml.parse=function(e){return goog.dom.xml.loadXml(e)},dymo.xml.serialize=function(e){return goog.dom.xml.serialize(e).replaceAll(/<Color (.+)\/>/g,"<Color $1> </Color>")},dymo.xml.appendElement=function(e,t,o,n){var i=e.ownerDocument.createElement(t);if(o&&i.appendChild(e.ownerDocument.createTextNode(o)),n)for(var r in n)i.setAttribute(r,n[r]);return e.appendChild(i),i},dymo.xml.getElementText=function(e){return e?goog.dom.getRawTextContent(e):""},dymo.xml.getElement=function(e,t){if(0<(t=e.getElementsByTagName(t)).length)return t[0]},dymo.xml.getElements=function(e,t){return e.getElementsByTagName(t)},dymo.xml.setElementText=function(e,t){dymo.xml.removeAllChildren(e),e.appendChild(e.ownerDocument.createTextNode(t))},dymo.xml.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},goog.provide("dymo.label.framework.LabelSetBuilder"),goog.provide("dymo.label.framework.ILabelSetRecord"),goog.provide("dymo.label.framework.LabelSetRecord"),dymo.label.framework.ILabelSetRecord=function(){},dymo.label.framework.ILabelSetRecord.prototype.setTextMarkup=function(e,t){},dymo.label.framework.ILabelSetRecord.prototype.setText=function(e,t){},dymo.label.framework.ILabelSetRecord.prototype.setBase64Image=function(e,t){},dymo.label.framework.LabelSetBuilder=function(){this._records=new Array},dymo.label.framework.LabelSetBuilder.prototype.getRecords=function(){return this._records},dymo.label.framework.LabelSetBuilder.prototype.addRecord=function(){var e=new dymo.label.framework.LabelSetRecord;return this._records.push(e),e};var TextMarkupTag="<TextMarkup>",TextMarkupClosedTag="</TextMarkup>";dymo.label.framework.LabelSetBuilder.toXml=function(e){for(var t=dymo.xml.parse("<LabelSet/>"),o=t.documentElement,n=0;n<e.length;n++){var i,r=e[n],s=t.createElement("LabelRecord");for(i in r){var a,l,c=r[i];"function"!=typeof c&&(c=c.toString(),(a=t.createElement("ObjectData")).setAttribute("Name",i),0==c.indexOf(TextMarkupTag)?(l=dymo.xml.parse(c),a.appendChild(l.documentElement.cloneNode(!0))):(c=t.createTextNode(c),a.appendChild(c)),s.appendChild(a))}o.appendChild(s)}return dymo.xml.serialize(t)},dymo.label.framework.LabelSetBuilder.prototype.toString=function(){return dymo.label.framework.LabelSetBuilder.toXml(this._records)},dymo.label.framework.LabelSetRecord=function(){},dymo.label.framework.LabelSetRecord.prototype.setTextMarkup=function(e,t){return 0!=(t=t.toString()).indexOf(TextMarkupTag)&&(t=TextMarkupTag+t+TextMarkupClosedTag),this[e]=t,this},goog.exportProperty(dymo.label.framework.LabelSetRecord.prototype,"setTextMarkup",dymo.label.framework.LabelSetRecord.prototype.setTextMarkup),dymo.label.framework.LabelSetRecord.prototype.setText=function(e,t){return this[e]=t,this},goog.exportProperty(dymo.label.framework.LabelSetRecord.prototype,"setText",dymo.label.framework.LabelSetRecord.prototype.setText),dymo.label.framework.LabelSetRecord.prototype.setBase64Image=function(e,t){return this[e]=t,this},goog.exportProperty(dymo.label.framework.LabelSetRecord.prototype,"setBase64Image",dymo.label.framework.LabelSetRecord.prototype.setBase64Image),goog.provide("dymo.label.framework.ILabel"),goog.provide("dymo.label.framework.Label"),goog.require("goog.array"),goog.require("goog.dom.DomHelper"),dymo.label.framework.ILabel=function(){},dymo.label.framework.ILabel.prototype.getLabelXml=function(){},dymo.label.framework.ILabel.prototype.render=function(e,t){},dymo.label.framework.ILabel.prototype.renderAsync=function(e,t){},dymo.label.framework.ILabel.prototype.print=function(e,t,o){},dymo.label.framework.ILabel.prototype.printAsync=function(e,t,o){},dymo.label.framework.ILabel.prototype.print2=function(e,t,o){},dymo.label.framework.ILabel.prototype.print2Async=function(e,t,o){},dymo.label.framework.ILabel.prototype.printAndPollStatus=function(e,t,o,n,i){},dymo.label.framework.ILabel.prototype.printAndPollStatusAsync=function(e,t,o,n,i){},dymo.label.framework.ILabel.prototype.getObjectNames=function(){},dymo.label.framework.ILabel.prototype.getAddressObjectCount=function(){},dymo.label.framework.ILabel.prototype.getAddressBarcodePosition=function(e){},dymo.label.framework.ILabel.prototype.setAddressBarcodePosition=function(e,t){},dymo.label.framework.ILabel.prototype.getAddressText=function(e){},dymo.label.framework.ILabel.prototype.setAddressText=function(e,t){},dymo.label.framework.ILabel.prototype.isDCDLabel=function(){},dymo.label.framework.ILabel.prototype.isDLSLabel=function(){},dymo.label.framework.ILabel.prototype.isValidLabel=function(){},dymo.label.framework.ILabel.prototype.getObjectText=function(e){},dymo.label.framework.ILabel.prototype.setObjectText=function(e,t){},dymo.label.framework.ILabel.prototype.setLabelLength=function(e){},dymo.label.framework.Label=function(e){this._doc=dymo.xml.parse(e)},dymo.label.framework.Label.prototype.getLabelXml=function(){return dymo.xml.serialize(this._doc)},goog.exportProperty(dymo.label.framework.Label.prototype,"getLabelXml",dymo.label.framework.Label.prototype.getLabelXml),dymo.label.framework.Label.prototype.render=function(e,t){return dymo.label.framework.renderLabel(this.getLabelXml(),e,t)},goog.exportProperty(dymo.label.framework.Label.prototype,"render",dymo.label.framework.Label.prototype.render),dymo.label.framework.Label.prototype.renderAsync=function(e,t){return dymo.label.framework.renderLabelAsync(this.getLabelXml(),e,t)},goog.exportProperty(dymo.label.framework.Label.prototype,"renderAsync",dymo.label.framework.Label.prototype.renderAsync),dymo.label.framework.Label.prototype.print=function(e,t,o){dymo.label.framework.printLabel(e,t,this.getLabelXml(),o)},goog.exportProperty(dymo.label.framework.Label.prototype,"print",dymo.label.framework.Label.prototype.print),dymo.label.framework.Label.prototype.printAsync=function(e,t,o){return dymo.label.framework.printLabelAsync(e,t,this.getLabelXml(),o)},goog.exportProperty(dymo.label.framework.Label.prototype,"printAsync",dymo.label.framework.Label.prototype.printAsync),dymo.label.framework.Label.prototype.print2=function(e,t,o){return dymo.label.framework.printLabel2(e,t,this.getLabelXml(),o)},goog.exportProperty(dymo.label.framework.Label.prototype,"print2",dymo.label.framework.Label.prototype.print2),dymo.label.framework.Label.prototype.print2Async=function(e,t,o){return dymo.label.framework.printLabel2Async(e,t,this.getLabelXml(),o)},goog.exportProperty(dymo.label.framework.Label.prototype,"print2Async",dymo.label.framework.Label.prototype.print2Async),dymo.label.framework.Label.prototype.printAndPollStatus=function(e,t,o,n,i){return dymo.label.framework.printLabelAndPollStatus(e,t,this.getLabelXml(),o,n,i)},goog.exportProperty(dymo.label.framework.Label.prototype,"printAndPollStatus",dymo.label.framework.Label.prototype.printAndPollStatus),dymo.label.framework.Label.prototype.printAndPollStatusAsync=function(e,t,o,n,i){return dymo.label.framework.printLabelAndPollStatusAsync(e,t,this.getLabelXml(),o,n,i)},goog.exportProperty(dymo.label.framework.Label.prototype,"printAndPollStatusAsync",dymo.label.framework.Label.prototype.printAndPollStatusAsync);var _allObjectTypes=["AddressObject","TextObject","BarcodeObject","ShapeObject","CounterObject","ImageObject","CircularTextObject","DateTimeObject","QRCodeObject"];dymo.label.framework.Label.prototype._getObjectElements=function(e){var t=e||_allObjectTypes;return goog.dom.findNodes(this._doc.documentElement,(function(e){return e.nodeType==goog.dom.NodeType.ELEMENT&&0<=goog.array.indexOf(t,e.tagName)}))},dymo.label.framework.Label.prototype.getObjectNames=function(){for(var e=this._getObjectElements(),t=new Array,o=0;o<e.length;o++)t.push(dymo.xml.getElementText(dymo.xml.getElement(e[o],"Name")));return t},goog.exportProperty(dymo.label.framework.Label.prototype,"getObjectNames",dymo.label.framework.Label.prototype.getObjectNames),dymo.label.framework.Label.prototype._getAddressObjectElements=function(){return this._getObjectElements(["AddressObject"])},dymo.label.framework.Label.prototype.getAddressObjectCount=function(){return this._getAddressObjectElements().length},goog.exportProperty(dymo.label.framework.Label.prototype,"getAddressObjectCount",dymo.label.framework.Label.prototype.getAddressObjectCount),dymo.label.framework.Label.prototype._getAddressObjectElementByIndex=function(e){return this._getAddressObjectElements()[e]},dymo.label.framework.Label.prototype.getAddressBarcodePosition=function(e){return this.isDCDLabel()?"":dymo.xml.getElementText(dymo.xml.getElement(this._getAddressObjectElementByIndex(e),"BarcodePosition"))},goog.exportProperty(dymo.label.framework.Label.prototype,"getAddressBarcodePosition",dymo.label.framework.Label.prototype.getAddressBarcodePosition),dymo.label.framework.Label.prototype._verifyAddressBarcodePosition=function(e){if(e!=dymo.label.framework.AddressBarcodePosition.AboveAddress&&e!=dymo.label.framework.AddressBarcodePosition.BelowAddress&&e!=dymo.label.framework.AddressBarcodePosition.Suppress)throw new Error("verifyAddressBarcodePosition(): barcode position '"+e+"' is invalid value")},dymo.label.framework.Label.prototype.setAddressBarcodePosition=function(e,t){return this.isDCDLabel()||(this._verifyAddressBarcodePosition(t),dymo.xml.setElementText(dymo.xml.getElement(this._getAddressObjectElementByIndex(e),"BarcodePosition"),t)),this},goog.exportProperty(dymo.label.framework.Label.prototype,"setAddressBarcodePosition",dymo.label.framework.Label.prototype.setAddressBarcodePosition),dymo.label.framework.Label.prototype.getAddressText=function(e){return this._getAddressObjectText(this._getAddressObjectElementByIndex(e))},goog.exportProperty(dymo.label.framework.Label.prototype,"getAddressText",dymo.label.framework.Label.prototype.getAddressText),dymo.label.framework.Label.prototype.setAddressText=function(e,t){return this._setAddressObjectText(this._getAddressObjectElementByIndex(e),t)},goog.exportProperty(dymo.label.framework.Label.prototype,"setAddressText",dymo.label.framework.Label.prototype.setAddressText),dymo.label.framework.Label.prototype._getObjectByNameElement=function(e){for(var t=this._getObjectElements(),o=0;o<t.length;o++){var n=t[o];if(dymo.xml.getElementText(dymo.xml.getElement(n,"Name"))==e)return n}throw new Error("getObjectByNameElement(): no object with name '"+e+"' was found")},dymo.label.framework.Label.prototype.isDCDLabel=function(){var e=this.getLabelXml();return!!e&&-1!==e.indexOf("</DYMOLabel>")},goog.exportProperty(dymo.label.framework.Label.prototype,"isDCDLabel",dymo.label.framework.Label.prototype.isDCDLabel),dymo.label.framework.Label.prototype.isDLSLabel=function(){var e=this.getLabelXml();return!!e&&(-1!==e.indexOf("</DieCutLabel>")||-1!==e.indexOf("</ContinuousLabel>"))},goog.exportProperty(dymo.label.framework.Label.prototype,"isDLSLabel",dymo.label.framework.Label.prototype.isDLSLabel),dymo.label.framework.Label.prototype.isValidLabel=function(){return this.isDCDLabel()||this.isDLSLabel()},goog.exportProperty(dymo.label.framework.Label.prototype,"isValidLabel",dymo.label.framework.Label.prototype.isValidLabel),dymo.label.framework.Label.prototype._getAddressObjectText=function(e){var t="";if(this.isDCDLabel())for(var o=dymo.xml.getElement(e,"FormattedText"),n=dymo.xml.getElements(o,"LineTextSpan"),i=0;i<n.length;i++)for(var r=dymo.xml.getElements(n[i],"TextSpan"),s=0;s<r.length;s++){var a=dymo.xml.getElement(r[s],"Text");t+=dymo.xml.getElementText(a)}else e=dymo.xml.getElement(e,"StyledText"),e=dymo.xml.getElements(e,"String"),t=goog.array.reduce(e,(function(e,t){return e+dymo.xml.getElementText(t)}),"");return t},dymo.label.framework.Label.prototype._getBarcodeObjectText=function(e){var t=this.isDCDLabel()?"Data":"Text";return(t=dymo.xml.getElement(e,t))?dymo.xml.getElementText(t):""},dymo.label.framework.Label.prototype._getQRcodeObjectText=function(e){var t="";return!this.isDCDLabel()||(e=dymo.xml.getElement(e,"Data"))&&(e=dymo.xml.getElement(e,"DataString"),t=dymo.xml.getElementText(e)),t},dymo.label.framework.Label.prototype._getImageObjectText=function(e){var t=this.isDCDLabel()?"Data":"Image";return(t=dymo.xml.getElement(e,t))?dymo.xml.getElementText(t):""},dymo.label.framework.Label.prototype._getDateTimeCounterObjectText=function(e){var t,o="";return this.isDCDLabel()?(t=dymo.xml.getElement(e,"FormattedText"),(t=dymo.xml.getElements(t,"LineTextSpan"))&&(t=dymo.xml.getElements(t[0],"TextSpan"),t=dymo.xml.getElement(t[0],"Text"),o+=dymo.xml.getElementText(t))):o=dymo.xml.getElementText(dymo.xml.getElement(e,"PreText")),o},dymo.label.framework.Label.prototype.getObjectText=function(e){var t=this._getObjectByNameElement(e),o="";switch(t.tagName){case"AddressObject":case"TextObject":o=this._getAddressObjectText(t);break;case"BarcodeObject":o=this._getBarcodeObjectText(t);break;case"ImageObject":o=this._getImageObjectText(t);break;case"CircularTextObject":o=this.isDCDLabel()?this._getAddressObjectText(t):dymo.xml.getElementText(dymo.xml.getElement(t,"Text"));break;case"QRCodeObject":o=this._getQRcodeObjectText(t);break;case"DateTimeObject":case"CounterObject":o=this._getDateTimeCounterObjectText(t)}return o},goog.exportProperty(dymo.label.framework.Label.prototype,"getObjectText",dymo.label.framework.Label.prototype.getObjectText),dymo.label.framework.Label.prototype._getStyledTextLineAttributes=function(e){for(var t=new Array,o=dymo.xml.getElements(e,"Element"),n=!0,i=0;i<o.length;i++){var r=o[i];if((s=dymo.xml.getElementText(dymo.xml.getElement(r,"String")))&&s.length){var s,a=(s=s.split("\n")).length;if(1!=a||n){var l=0;n||(l=1);for(var c=dymo.xml.getElement(r,"Attributes");l<a-1;l++)t.push(c);n=!(0<s[a-1].length&&(t.push(c),1))}}}return t},dymo.label.framework.Label.prototype._setAddressObjectText=function(e,t){if(this.isDCDLabel()){var o=dymo.xml.getElement(e,"FormattedText");!(o=dymo.xml.getElements(o,"LineTextSpan"))||(o=dymo.xml.getElements(o[0],"TextSpan"))&&(o=dymo.xml.getElement(o[0],"Text"),dymo.xml.setElementText(o,t))}else{var n,i=dymo.xml.getElement(e,"StyledText"),r=this._getStyledTextLineAttributes(i),s=[];0==(s=(e=dymo.xml.getElement(e,"LineFonts"))?dymo.xml.getElements(e,"Font"):s).length&&(n=dymo.xml.parse('<Font Family="Arial" Size="12" Bold="False" Italic="False" Underline="False" Strikeout="False" />').documentElement);var a=dymo.xml.parse('<ForeColor Alpha="255" Red="0" Green="0" Blue="0" />').documentElement;dymo.xml.removeAllChildren(i);for(var l=t.split("\n"),c=0;c<l.length;c++){var u=l[c].replace("\r","");c<l.length-1&&(u+="\n");var g=n;0<s.length?g=c<s.length?s[c]:s[s.length-1]:0<r.length&&(g=c<r.length?dymo.xml.getElement(r[c],"Font"):dymo.xml.getElement(r[r.length-1],"Font"));var d=a;c<r.length&&(d=dymo.xml.getElement(r[c],"ForeColor"));var h=i.ownerDocument.createElement("Element"),p=i.ownerDocument.createElement("String");dymo.xml.setElementText(p,u),(u=i.ownerDocument.createElement("Attributes")).appendChild(g.cloneNode(!0)),u.appendChild(d.cloneNode(!0)),h.appendChild(p),h.appendChild(u),i.appendChild(h)}}return this},dymo.label.framework.Label.prototype._setQRCodeObjectText=function(e,t){return!this.isDCDLabel()||(e=dymo.xml.getElement(e,"Data"))&&(e=dymo.xml.getElement(e,"DataString"),dymo.xml.setElementText(e,t)),this},dymo.label.framework.Label.prototype._setBarcodeObjectText=function(e,t){var o=this.isDCDLabel()?"Data":"Text";return(o=dymo.xml.getElement(e,o))&&dymo.xml.setElementText(o,t),this},dymo.label.framework.Label.prototype._setImageObjectText=function(e,t){if(this.isDCDLabel()){var o=dymo.xml.getElement(e,"Data");o&&dymo.xml.setElementText(o,t)}else{var n=dymo.xml.getElement(e,"Image");if(n)dymo.xml.setElementText(n,t);else{if(!(o=dymo.xml.getElement(e,"ImageLocation")))throw new Error("setObjectText(): <ImageLocation> is expected but not found: "+dymo.xml.serialize(n));n=o.ownerDocument.createElement("Image"),dymo.xml.setElementText(n,t),e.replaceChild(n,o)}}return this},dymo.label.framework.Label.prototype._setDateTimeCounterObjectText=function(e,t){var o;return this.isDCDLabel()?(o=dymo.xml.getElement(e,"FormattedText"),(o=dymo.xml.getElements(o,"LineTextSpan"))&&(o=dymo.xml.getElements(o[0],"TextSpan"),o=dymo.xml.getElement(o[0],"Text"),dymo.xml.setElementText(o,t))):dymo.xml.setElementText(dymo.xml.getElement(e,"PreText"),t),this},dymo.label.framework.Label.prototype.setObjectText=function(e,t){var o=this._getObjectByNameElement(e);switch(o.tagName){case"AddressObject":case"TextObject":this._setAddressObjectText(o,t);break;case"QRCodeObject":this._setQRCodeObjectText(o,t);break;case"BarcodeObject":this._setBarcodeObjectText(o,t);break;case"ImageObject":this._setImageObjectText(o,t);break;case"CircularTextObject":this.isDCDLabel()?this._setAddressObjectText(o,t):dymo.xml.setElementText(dymo.xml.getElement(o,"Text"),t);break;case"DateTimeObject":case"CounterObject":this._setDateTimeCounterObjectText(o,t)}return this},goog.exportProperty(dymo.label.framework.Label.prototype,"setObjectText",dymo.label.framework.Label.prototype.setObjectText),dymo.label.framework.Label.prototype.setLabelLength=function(e){var t=this._doc.documentElement;if("ContinuousLabel"!=t.nodeName)throw new Error("Cannot set length on non-continuous label.");var o=0==e?"Auto":"Fixed";return e=0==e?7200:e,dymo.xml.setElementText(dymo.xml.getElement(t,"LengthMode"),o),dymo.xml.setElementText(dymo.xml.getElement(t,"LabelLength"),e),t=dymo.xml.getElement(t,"RootCell"),dymo.xml.setElementText(dymo.xml.getElement(t,"Length"),e),dymo.xml.setElementText(dymo.xml.getElement(t,"LengthMode"),o),this},goog.exportProperty(dymo.label.framework.Label.prototype,"setLabelLength",dymo.label.framework.Label.prototype.setLabelLength),dymo.label.framework.Label.prototype.toString=function(){return this.getLabelXml()},goog.provide("goog.async.Deferred"),goog.provide("goog.async.Deferred.AlreadyCalledError"),goog.provide("goog.async.Deferred.CanceledError"),goog.require("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.debug.Error"),goog.async.Deferred=function(e,t){this.sequence_=[],this.onCancelFunction_=e,this.defaultScope_=t||null,this.fired_=!1,this.hadError_=!1,this.result_=void 0,this.blocked_=!1,this.blocking_=!1,this.silentlyCanceled_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0,goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace&&(t={stack:""},Error.captureStackTrace(t,goog.async.Deferred),"string"==typeof t.stack&&(this.constructorStack_=t.stack.replace(/^[^\n]*\n/,""))))},goog.define("goog.async.Deferred.STRICT_ERRORS",!1),goog.define("goog.async.Deferred.LONG_STACK_TRACES",!1),goog.async.Deferred.prototype.cancel=function(e){var t;this.hasFired()?this.result_ instanceof goog.async.Deferred&&this.result_.cancel():(this.parent_&&(t=this.parent_,delete this.parent_,e?t.cancel(e):t.branchCancel_()),this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this)))},goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--,this.branches_<=0&&this.cancel()},goog.async.Deferred.prototype.continue_=function(e,t){this.blocked_=!1,this.updateResult_(e,t)},goog.async.Deferred.prototype.updateResult_=function(e,t){this.fired_=!0,this.result_=t,this.hadError_=!e,this.fire_()},goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}},goog.async.Deferred.prototype.callback=function(e){this.check_(),this.assertNotDeferred_(e),this.updateResult_(!0,e)},goog.async.Deferred.prototype.errback=function(e){this.check_(),this.assertNotDeferred_(e),this.makeStackTraceLong_(e),this.updateResult_(!1,e)},goog.async.Deferred.prototype.makeStackTraceLong_=function(e){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(e)&&e.stack&&/^[^\n]+(\n   [^\n]+)+/.test(e.stack)&&(e.stack=e.stack+"\nDEFERRED OPERATION:\n"+this.constructorStack_)},goog.async.Deferred.prototype.assertNotDeferred_=function(e){goog.asserts.assert(!(e instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")},goog.async.Deferred.prototype.addCallback=function(e,t){return this.addCallbacks(e,null,t)},goog.async.Deferred.prototype.addErrback=function(e,t){return this.addCallbacks(null,e,t)},goog.async.Deferred.prototype.addBoth=function(e,t){return this.addCallbacks(e,e,t)},goog.async.Deferred.prototype.addFinally=function(e,t){var o=this;return this.addCallbacks(e,(function(t){var n=e.call(o,t);if(!goog.isDef(n))throw t;return n}),t)},goog.async.Deferred.prototype.addCallbacks=function(e,t,o){return goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used"),this.sequence_.push([e,t,o]),this.hasFired()&&this.fire_(),this},goog.async.Deferred.prototype.then=function(e,t,o){var n,i,r=new goog.Promise((function(e,t){n=e,i=t}));return this.addCallbacks(n,(function(e){e instanceof goog.async.Deferred.CanceledError?r.cancel():i(e)})),r.then(e,t,o)},goog.Thenable.addImplementation(goog.async.Deferred),goog.async.Deferred.prototype.chainDeferred=function(e){return this.addCallbacks(e.callback,e.errback,e),this},goog.async.Deferred.prototype.awaitDeferred=function(e){return e instanceof goog.async.Deferred?this.addCallback(goog.bind(e.branch,e)):this.addCallback((function(){return e}))},goog.async.Deferred.prototype.branch=function(e){var t=new goog.async.Deferred;return this.chainDeferred(t),e&&(t.parent_=this).branches_++,t},goog.async.Deferred.prototype.hasFired=function(){return this.fired_},goog.async.Deferred.prototype.isError=function(e){return e instanceof Error},goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,(function(e){return goog.isFunction(e[1])}))},goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0),this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var e,t,o=this.result_,n=!1,i=!1;this.sequence_.length&&!this.blocked_;){var r=(a=this.sequence_.shift())[0],s=a[1],a=a[2];if(r=this.hadError_?s:r)try{var l=r.call(a||this.defaultScope_,o);goog.isDef(l)&&(this.hadError_=this.hadError_&&(l==o||this.isError(l)),this.result_=o=l),(goog.Thenable.isImplementedBy(o)||"function"==typeof goog.global.Promise&&o instanceof goog.global.Promise)&&(i=!0,this.blocked_=!0)}catch(e){o=e,this.hadError_=!0,this.makeStackTraceLong_(o),this.hasErrback_()||(n=!0)}}this.result_=o,i?(e=goog.bind(this.continue_,this,!0),t=goog.bind(this.continue_,this,!1),o instanceof goog.async.Deferred?(o.addCallbacks(e,t),o.blocking_=!0):o.then(e,t)):!goog.async.Deferred.STRICT_ERRORS||!this.isError(o)||o instanceof goog.async.Deferred.CanceledError||(n=this.hadError_=!0),n&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(o))},goog.async.Deferred.succeed=function(e){var t=new goog.async.Deferred;return t.callback(e),t},goog.async.Deferred.fromPromise=function(e){var t=new goog.async.Deferred;return t.callback(),t.addCallback((function(){return e})),t},goog.async.Deferred.fail=function(e){var t=new goog.async.Deferred;return t.errback(e),t},goog.async.Deferred.canceled=function(){var e=new goog.async.Deferred;return e.cancel(),e},goog.async.Deferred.when=function(e,t,o){return(e instanceof goog.async.Deferred?e.branch(!0):goog.async.Deferred.succeed(e)).addCallback(t,o)},goog.async.Deferred.AlreadyCalledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error),goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired",goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError",goog.async.Deferred.CanceledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.CanceledError,goog.debug.Error),goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled",goog.async.Deferred.CanceledError.prototype.name="CanceledError",goog.async.Deferred.Error_=function(e){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0),this.error_=e},goog.async.Deferred.Error_.prototype.throwError=function(){throw goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled."),delete goog.async.Deferred.errorMap_[this.id_],this.error_},goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)},goog.async.Deferred.errorMap_={},goog.async.Deferred.scheduleError_=function(e){return e=new goog.async.Deferred.Error_(e),(goog.async.Deferred.errorMap_[e.id_]=e).id_},goog.async.Deferred.unscheduleError_=function(e){var t=goog.async.Deferred.errorMap_[e];t&&(t.resetTimer(),delete goog.async.Deferred.errorMap_[e])},goog.async.Deferred.assertNoErrors=function(){var e,t=goog.async.Deferred.errorMap_;for(e in t){var o=t[e];o.resetTimer(),o.throwError()}},goog.provide("goog.net.jsloader"),goog.provide("goog.net.jsloader.Error"),goog.provide("goog.net.jsloader.ErrorCode"),goog.provide("goog.net.jsloader.Options"),goog.require("goog.array"),goog.require("goog.async.Deferred"),goog.require("goog.debug.Error"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification",goog.net.jsloader.DEFAULT_TIMEOUT=5e3,goog.net.jsloader.Options,goog.net.jsloader.scriptsToLoad_=[],goog.net.jsloader.loadMany=function(e,t){var o,n;e.length&&(o=goog.net.jsloader.scriptsToLoad_.length,goog.array.extend(goog.net.jsloader.scriptsToLoad_,e),o||(e=goog.net.jsloader.scriptsToLoad_,(n=function(){var o=e.shift();o=goog.net.jsloader.load(o,t),e.length&&o.addBoth(n)})()))},goog.net.jsloader.load=function(e,t){var o=t||{},n=o.document||document,i=goog.dom.createElement(goog.dom.TagName.SCRIPT),r={script_:i,timeout_:void 0},s=new goog.async.Deferred(goog.net.jsloader.cancel_,r),a=null;return 0<(t=goog.isDefAndNotNull(o.timeout)?o.timeout:goog.net.jsloader.DEFAULT_TIMEOUT)&&(a=window.setTimeout((function(){goog.net.jsloader.cleanup_(i,!0),s.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+e))}),t),r.timeout_=a),i.onload=i.onreadystatechange=function(){var e;i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(e=o.cleanupWhenDone||!1,goog.net.jsloader.cleanup_(i,e,a),s.callback(null))},i.onerror=function(){goog.net.jsloader.cleanup_(i,!0,a),s.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+e))},goog.dom.setProperties(i,{type:"text/javascript",charset:"UTF-8",src:e}),goog.net.jsloader.getScriptParentElement_(n).appendChild(i),s},goog.net.jsloader.loadAndVerify=function(e,t,o){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var n=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_];if(goog.isDef(n[t]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+t+" already defined."));o=goog.net.jsloader.load(e,o);var i=new goog.async.Deferred(goog.bind(o.cancel,o));return o.addCallback((function(){var o=n[t];goog.isDef(o)?(i.callback(o),delete n[t]):i.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+e+" loaded, but verification object "+t+" was not defined."))})),o.addErrback((function(e){goog.isDef(n[t])&&delete n[t],i.errback(e)})),i},goog.net.jsloader.getScriptParentElement_=function(e){var t=e.getElementsByTagName(goog.dom.TagName.HEAD);return!t||goog.array.isEmpty(t)?e.documentElement:t[0]},goog.net.jsloader.cancel_=function(){var e;this&&this.script_&&(e=this.script_)&&e.tagName==goog.dom.TagName.SCRIPT&&goog.net.jsloader.cleanup_(e,!0,this.timeout_)},goog.net.jsloader.cleanup_=function(e,t,o){goog.isDefAndNotNull(o)&&goog.global.clearTimeout(o),e.onload=goog.nullFunction,e.onerror=goog.nullFunction,e.onreadystatechange=goog.nullFunction,t&&window.setTimeout((function(){goog.dom.removeNode(e)}),0)},goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3},goog.net.jsloader.Error=function(e,t){var o="Jsloader error (code #"+e+")";t&&(o+=": "+t),goog.net.jsloader.Error.base(this,"constructor",o),this.code=e},goog.inherits(goog.net.jsloader.Error,goog.debug.Error),goog.provide("goog.net.Jsonp"),goog.require("goog.Uri"),goog.require("goog.net.jsloader"),goog.net.Jsonp=function(e,t){this.uri_=new goog.Uri(e),this.callbackParamName_=t||"callback",this.timeout_=5e3},goog.net.Jsonp.CALLBACKS="_callbacks_",goog.net.Jsonp.scriptCounter_=0,goog.net.Jsonp.prototype.setRequestTimeout=function(e){this.timeout_=e},goog.net.Jsonp.prototype.getRequestTimeout=function(){return this.timeout_},goog.net.Jsonp.prototype.send=function(e,t,o,n){var i=e||null;return e=n||"_"+(goog.net.Jsonp.scriptCounter_++).toString(36)+goog.now().toString(36),goog.global[goog.net.Jsonp.CALLBACKS]||(goog.global[goog.net.Jsonp.CALLBACKS]={}),n=this.uri_.clone(),i&&goog.net.Jsonp.addPayloadToUri_(i,n),t&&(t=goog.net.Jsonp.newReplyHandler_(e,t),goog.global[goog.net.Jsonp.CALLBACKS][e]=t,n.setParameterValues(this.callbackParamName_,goog.net.Jsonp.CALLBACKS+"."+e)),n=goog.net.jsloader.load(n.toString(),{timeout:this.timeout_,cleanupWhenDone:!0}),o=goog.net.Jsonp.newErrorHandler_(e,i,o),n.addErrback(o),{id_:e,deferred_:n}},goog.net.Jsonp.prototype.cancel=function(e){e&&(e.deferred_&&e.deferred_.cancel(),e.id_&&goog.net.Jsonp.cleanup_(e.id_,!1))},goog.net.Jsonp.newErrorHandler_=function(e,t,o){return function(){goog.net.Jsonp.cleanup_(e,!1),o&&o(t)}},goog.net.Jsonp.newReplyHandler_=function(e,t){return function(o){goog.net.Jsonp.cleanup_(e,!0),t.apply(void 0,arguments)}},goog.net.Jsonp.cleanup_=function(e,t){goog.global[goog.net.Jsonp.CALLBACKS][e]&&(t?delete goog.global[goog.net.Jsonp.CALLBACKS][e]:goog.global[goog.net.Jsonp.CALLBACKS][e]=goog.nullFunction)},goog.net.Jsonp.addPayloadToUri_=function(e,t){for(var o in e)e.hasOwnProperty&&!e.hasOwnProperty(o)||t.setParameterValues(o,e[o]);return t},goog.provide("goog.dom.InputType"),goog.dom.InputType={BUTTON:"button",CHECKBOX:"checkbox",COLOR:"color",DATE:"date",DATETIME:"datetime",DATETIME_LOCAL:"datetime-local",EMAIL:"email",FILE:"file",HIDDEN:"hidden",IMAGE:"image",MENU:"menu",MONTH:"month",NUMBER:"number",PASSWORD:"password",RADIO:"radio",RANGE:"range",RESET:"reset",SEARCH:"search",SELECT_MULTIPLE:"select-multiple",SELECT_ONE:"select-one",SUBMIT:"submit",TEL:"tel",TEXT:"text",TEXTAREA:"textarea",TIME:"time",URL:"url",WEEK:"week"},goog.provide("goog.net.IframeIo"),goog.provide("goog.net.IframeIo.IncrementalDataEvent"),goog.require("goog.Timer"),goog.require("goog.Uri"),goog.require("goog.asserts"),goog.require("goog.debug"),goog.require("goog.dom"),goog.require("goog.dom.InputType"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.EventTarget"),goog.require("goog.events.EventType"),goog.require("goog.html.uncheckedconversions"),goog.require("goog.json"),goog.require("goog.log"),goog.require("goog.log.Level"),goog.require("goog.net.ErrorCode"),goog.require("goog.net.EventType"),goog.require("goog.reflect"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.structs"),goog.require("goog.userAgent"),goog.net.IframeIo=function(){goog.net.IframeIo.base(this,"constructor"),this.name_=goog.net.IframeIo.getNextName_(),this.iframesForDisposal_=[],goog.net.IframeIo.instances_[this.name_]=this},goog.inherits(goog.net.IframeIo,goog.events.EventTarget),goog.net.IframeIo.instances_={},goog.net.IframeIo.FRAME_NAME_PREFIX="closure_frame",goog.net.IframeIo.INNER_FRAME_SUFFIX="_inner",goog.net.IframeIo.IFRAME_DISPOSE_DELAY_MS=2e3,goog.net.IframeIo.counter_=0,goog.net.IframeIo.form_,goog.net.IframeIo.send=function(e,t,o,n,i){var r=new goog.net.IframeIo;goog.events.listen(r,goog.net.EventType.READY,r.dispose,!1,r),t&&goog.events.listen(r,goog.net.EventType.COMPLETE,t),r.send(e,o,n,i)},goog.net.IframeIo.getIframeByName=function(e){return window.frames[e]},goog.net.IframeIo.getInstanceByName=function(e){return goog.net.IframeIo.instances_[e]},goog.net.IframeIo.handleIncrementalData=function(e,t){var o=(goog.string.endsWith(e.name,goog.net.IframeIo.INNER_FRAME_SUFFIX)?e.parent:e).name;e=o.substring(0,o.lastIndexOf("_")),(e=goog.net.IframeIo.getInstanceByName(e))&&o==e.iframeName_?e.handleIncrementalData_(t):(t=goog.log.getLogger("goog.net.IframeIo"),goog.log.info(t,"Incremental iframe data routed for unknown iframe"))},goog.net.IframeIo.getNextName_=function(){return goog.net.IframeIo.FRAME_NAME_PREFIX+goog.net.IframeIo.counter_++},goog.net.IframeIo.getForm_=function(){var e;return goog.net.IframeIo.form_||(goog.net.IframeIo.form_=goog.dom.createDom(goog.dom.TagName.FORM),goog.net.IframeIo.form_.acceptCharset="utf-8",(e=goog.net.IframeIo.form_.style).position="absolute",e.visibility="hidden",e.top=e.left="-10px",e.width=e.height="10px",e.overflow="hidden",goog.dom.getDocument().body.appendChild(goog.net.IframeIo.form_)),goog.net.IframeIo.form_},goog.net.IframeIo.addFormInputs_=function(e,t){var o=goog.dom.getDomHelper(e);goog.structs.forEach(t,(function(t,n){t=o.createDom(goog.dom.TagName.INPUT,{type:goog.dom.InputType.HIDDEN,name:n,value:t}),e.appendChild(t)}))},goog.net.IframeIo.useIeReadyStateCodePath_=function(){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("11")},goog.net.IframeIo.prototype.logger_=goog.log.getLogger("goog.net.IframeIo"),goog.net.IframeIo.prototype.form_=null,goog.net.IframeIo.prototype.iframe_=null,goog.net.IframeIo.prototype.iframeName_=null,goog.net.IframeIo.prototype.nextIframeId_=0,goog.net.IframeIo.prototype.active_=!1,goog.net.IframeIo.prototype.complete_=!1,goog.net.IframeIo.prototype.success_=!1,goog.net.IframeIo.prototype.lastUri_=null,goog.net.IframeIo.prototype.lastContent_=null,goog.net.IframeIo.prototype.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,goog.net.IframeIo.prototype.firefoxSilentErrorTimeout_=null,goog.net.IframeIo.prototype.iframeDisposalTimer_=null,goog.net.IframeIo.prototype.errorHandled_,goog.net.IframeIo.prototype.ignoreResponse_=!1,goog.net.IframeIo.prototype.errorChecker_,goog.net.IframeIo.prototype.lastCustomError_,goog.net.IframeIo.prototype.lastContentHtml_,goog.net.IframeIo.prototype.send=function(e,t,o,n){if(this.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");e=new goog.Uri(e),this.lastUri_=e,t=t?t.toUpperCase():"GET",o&&e.makeUnique(),goog.log.info(this.logger_,"Sending iframe request: "+e+" ["+t+"]"),this.form_=goog.net.IframeIo.getForm_(),"GET"==t&&goog.net.IframeIo.addFormInputs_(this.form_,e.getQueryData()),n&&goog.net.IframeIo.addFormInputs_(this.form_,n),this.form_.action=e.toString(),this.form_.method=t,this.sendFormInternal_(),this.clearForm_()},goog.net.IframeIo.prototype.sendFromForm=function(e,t,o){if(this.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");t=new goog.Uri(t||e.action),o&&t.makeUnique(),goog.log.info(this.logger_,"Sending iframe request from form: "+t),this.lastUri_=t,this.form_=e,this.form_.action=t.toString(),this.sendFormInternal_()},goog.net.IframeIo.prototype.abort=function(e){var t;this.active_&&(goog.log.info(this.logger_,"Request aborted"),t=this.getRequestIframe(),goog.asserts.assert(t),goog.events.removeAll(t),this.complete_=!1,this.active_=!1,this.success_=!1,this.lastErrorCode_=e||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.ABORT),this.makeReady_())},goog.net.IframeIo.prototype.disposeInternal=function(){goog.log.fine(this.logger_,"Disposing iframeIo instance"),this.active_&&(goog.log.fine(this.logger_,"Aborting active request"),this.abort()),goog.net.IframeIo.superClass_.disposeInternal.call(this),this.iframe_&&this.scheduleIframeDisposal_(),this.disposeForm_(),delete this.errorChecker_,this.form_=null,this.lastCustomError_=this.lastContent_=this.lastContentHtml_=null,this.lastUri_=null,this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,delete goog.net.IframeIo.instances_[this.name_]},goog.net.IframeIo.prototype.isComplete=function(){return this.complete_},goog.net.IframeIo.prototype.isSuccess=function(){return this.success_},goog.net.IframeIo.prototype.isActive=function(){return this.active_},goog.net.IframeIo.prototype.getResponseText=function(){return this.lastContent_},goog.net.IframeIo.prototype.getResponseHtml=function(){return this.lastContentHtml_},goog.net.IframeIo.prototype.getResponseJson=function(){return goog.json.parse(this.lastContent_)},goog.net.IframeIo.prototype.getResponseXml=function(){return this.iframe_?this.getContentDocument_():null},goog.net.IframeIo.prototype.getLastUri=function(){return this.lastUri_},goog.net.IframeIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_},goog.net.IframeIo.prototype.getLastError=function(){return goog.net.ErrorCode.getDebugMessage(this.lastErrorCode_)},goog.net.IframeIo.prototype.getLastCustomError=function(){return this.lastCustomError_},goog.net.IframeIo.prototype.setErrorChecker=function(e){this.errorChecker_=e},goog.net.IframeIo.prototype.getErrorChecker=function(){return this.errorChecker_},goog.net.IframeIo.prototype.isIgnoringResponse=function(){return this.ignoreResponse_},goog.net.IframeIo.prototype.setIgnoreResponse=function(e){this.ignoreResponse_=e},goog.net.IframeIo.prototype.sendFormInternal_=function(){if(this.active_=!0,this.complete_=!1,this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.createIframe_(),goog.net.IframeIo.useIeReadyStateCodePath_()){this.form_.target=this.iframeName_||"",this.appendIframe_(),this.ignoreResponse_||goog.events.listen(this.iframe_,goog.events.EventType.READYSTATECHANGE,this.onIeReadyStateChange_,!1,this);try{this.errorHandled_=!1,this.form_.submit()}catch(o){this.ignoreResponse_||goog.events.unlisten(this.iframe_,goog.events.EventType.READYSTATECHANGE,this.onIeReadyStateChange_,!1,this),this.handleError_(goog.net.ErrorCode.ACCESS_DENIED)}}else{goog.log.fine(this.logger_,"Setting up iframes and cloning form"),this.appendIframe_();var e=this.iframeName_+goog.net.IframeIo.INNER_FRAME_SUFFIX,t=goog.dom.getFrameContentDocument(this.iframe_),o=document.baseURI?goog.net.IframeIo.createIframeHtmlWithBaseUri_(e):goog.net.IframeIo.createIframeHtml_(e);goog.userAgent.OPERA?goog.dom.safe.setInnerHtml(t.documentElement,o):goog.dom.safe.documentWrite(t,o),this.ignoreResponse_||goog.events.listen(t.getElementById(e),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this);for(var n=this.form_.getElementsByTagName(goog.dom.TagName.TEXTAREA),i=0,r=n.length;i<r;i++){var s=n[i].value;goog.dom.getRawTextContent(n[i])!=s&&(goog.dom.setTextContent(n[i],s),n[i].value=s)}var a=t.importNode(this.form_,!0);a.target=e,a.action=this.form_.action,t.body.appendChild(a);var l=this.form_.getElementsByTagName(goog.dom.TagName.SELECT),c=a.getElementsByTagName(goog.dom.TagName.SELECT);for(i=0,r=l.length;i<r;i++)for(var u=l[i].getElementsByTagName(goog.dom.TagName.OPTION),g=c[i].getElementsByTagName(goog.dom.TagName.OPTION),d=0,h=u.length;d<h;d++)g[d].selected=u[d].selected;var p=this.form_.getElementsByTagName(goog.dom.TagName.INPUT),f=a.getElementsByTagName(goog.dom.TagName.INPUT);for(i=0,r=p.length;i<r;i++)if(p[i].type==goog.dom.InputType.FILE&&p[i].value!=f[i].value){goog.log.fine(this.logger_,"File input value not cloned properly.  Will submit using original form."),this.form_.target=e,a=this.form_;break}goog.log.fine(this.logger_,"Submitting form");try{this.errorHandled_=!1,a.submit(),t.close(),goog.userAgent.GECKO&&(this.firefoxSilentErrorTimeout_=goog.Timer.callOnce(this.testForFirefoxSilentError_,250,this))}catch(o){goog.log.error(this.logger_,"Error when submitting form: "+goog.debug.exposeException(o)),this.ignoreResponse_||goog.events.unlisten(t.getElementById(e),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this),t.close(),this.handleError_(goog.net.ErrorCode.FILE_NOT_FOUND)}}},goog.net.IframeIo.createIframeHtml_=function(e){return e=goog.string.htmlEscape(e),goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Short HTML snippet, input escaped, for performance"),'<body><iframe id="'+e+'" name="'+e+'"></iframe>')},goog.net.IframeIo.createIframeHtmlWithBaseUri_=function(e){return e=goog.string.htmlEscape(e),goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Short HTML snippet, input escaped, safe URL, for performance"),'<head><base href="'+goog.string.htmlEscape(document.baseURI)+'"></head><body><iframe id="'+e+'" name="'+e+'"></iframe>')},goog.net.IframeIo.prototype.onIeReadyStateChange_=function(e){if("complete"==this.iframe_.readyState){var t;goog.events.unlisten(this.iframe_,goog.events.EventType.READYSTATECHANGE,this.onIeReadyStateChange_,!1,this);try{if(t=goog.dom.getFrameContentDocument(this.iframe_),goog.userAgent.IE&&"about:blank"==t.location&&!navigator.onLine)return void this.handleError_(goog.net.ErrorCode.OFFLINE)}catch(e){return void this.handleError_(goog.net.ErrorCode.ACCESS_DENIED)}this.handleLoad_(t)}},goog.net.IframeIo.prototype.onIframeLoaded_=function(e){if(!goog.userAgent.OPERA||"about:blank"!=this.getContentDocument_().location){goog.events.unlisten(this.getRequestIframe(),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this);try{this.handleLoad_(this.getContentDocument_())}catch(e){this.handleError_(goog.net.ErrorCode.ACCESS_DENIED)}}},goog.net.IframeIo.prototype.handleLoad_=function(e){var t,o;goog.log.fine(this.logger_,"Iframe loaded"),this.complete_=!0,this.active_=!1;try{var n=e.body;this.lastContent_=n.textContent||n.innerText,this.lastContentHtml_=n.innerHTML}catch(e){t=goog.net.ErrorCode.ACCESS_DENIED}t||"function"!=typeof this.errorChecker_||(o=this.errorChecker_(e))&&(t=goog.net.ErrorCode.CUSTOM_ERROR),goog.log.log(this.logger_,goog.log.Level.FINER,"Last content: "+this.lastContent_),goog.log.log(this.logger_,goog.log.Level.FINER,"Last uri: "+this.lastUri_),t?(goog.log.fine(this.logger_,"Load event occurred but failed"),this.handleError_(t,o)):(goog.log.fine(this.logger_,"Load succeeded"),this.success_=!0,this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS),this.makeReady_())},goog.net.IframeIo.prototype.handleError_=function(e,t){this.errorHandled_||(this.success_=!1,this.active_=!1,this.complete_=!0,(this.lastErrorCode_=e)==goog.net.ErrorCode.CUSTOM_ERROR&&(goog.asserts.assert(goog.isDef(t)),this.lastCustomError_=t),this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR),this.makeReady_(),this.errorHandled_=!0)},goog.net.IframeIo.prototype.handleIncrementalData_=function(e){this.dispatchEvent(new goog.net.IframeIo.IncrementalDataEvent(e))},goog.net.IframeIo.prototype.makeReady_=function(){goog.log.info(this.logger_,"Ready for new requests"),this.scheduleIframeDisposal_(),this.disposeForm_(),this.dispatchEvent(goog.net.EventType.READY)},goog.net.IframeIo.prototype.createIframe_=function(){goog.log.fine(this.logger_,"Creating iframe"),this.iframeName_=this.name_+"_"+(this.nextIframeId_++).toString(36);var e={name:this.iframeName_,id:this.iframeName_};goog.userAgent.IE&&goog.userAgent.VERSION<7&&(e.src='javascript:""'),this.iframe_=goog.dom.getDomHelper(this.form_).createDom(goog.dom.TagName.IFRAME,e),(e=this.iframe_.style).visibility="hidden",e.width=e.height="10px",e.display="none",goog.userAgent.WEBKIT?e.marginTop=e.marginLeft="-10px":(e.position="absolute",e.top=e.left="-10px")},goog.net.IframeIo.prototype.appendIframe_=function(){goog.dom.getDomHelper(this.form_).getDocument().body.appendChild(this.iframe_)},goog.net.IframeIo.prototype.scheduleIframeDisposal_=function(){var e=this.iframe_;e&&(e.onreadystatechange=null,e.onload=null,e.onerror=null,this.iframesForDisposal_.push(e)),this.iframeDisposalTimer_&&(goog.Timer.clear(this.iframeDisposalTimer_),this.iframeDisposalTimer_=null),goog.userAgent.GECKO||goog.userAgent.OPERA?this.iframeDisposalTimer_=goog.Timer.callOnce(this.disposeIframes_,goog.net.IframeIo.IFRAME_DISPOSE_DELAY_MS,this):this.disposeIframes_(),this.iframe_=null,this.iframeName_=null},goog.net.IframeIo.prototype.disposeIframes_=function(){for(this.iframeDisposalTimer_&&(goog.Timer.clear(this.iframeDisposalTimer_),this.iframeDisposalTimer_=null);0!=this.iframesForDisposal_.length;){var e=this.iframesForDisposal_.pop();goog.log.info(this.logger_,"Disposing iframe"),goog.dom.removeNode(e)}},goog.net.IframeIo.prototype.clearForm_=function(){this.form_&&this.form_==goog.net.IframeIo.form_&&goog.dom.removeChildren(this.form_)},goog.net.IframeIo.prototype.disposeForm_=function(){this.clearForm_(),this.form_=null},goog.net.IframeIo.prototype.getContentDocument_=function(){return this.iframe_?goog.dom.getFrameContentDocument(this.getRequestIframe()):null},goog.net.IframeIo.prototype.getRequestIframe=function(){return this.iframe_?goog.net.IframeIo.useIeReadyStateCodePath_()?this.iframe_:goog.dom.getFrameContentDocument(this.iframe_).getElementById(this.iframeName_+goog.net.IframeIo.INNER_FRAME_SUFFIX):null},goog.net.IframeIo.prototype.testForFirefoxSilentError_=function(){if(this.active_){var e=this.getContentDocument_();if(e&&!goog.reflect.canAccessProperty(e,"documentUri"))return this.ignoreResponse_||goog.events.unlisten(this.getRequestIframe(),goog.events.EventType.LOAD,this.onIframeLoaded_,!1,this),void(navigator.onLine?(goog.log.warning(this.logger_,"Silent Firefox error detected"),this.handleError_(goog.net.ErrorCode.FF_SILENT_ERROR)):(goog.log.warning(this.logger_,"Firefox is offline so report offline error instead of silent error"),this.handleError_(goog.net.ErrorCode.OFFLINE)));this.firefoxSilentErrorTimeout_=goog.Timer.callOnce(this.testForFirefoxSilentError_,250,this)}},goog.net.IframeIo.IncrementalDataEvent=function(e){goog.events.Event.call(this,goog.net.EventType.INCREMENTAL_DATA),this.data=e},goog.inherits(goog.net.IframeIo.IncrementalDataEvent,goog.events.Event),goog.provide("goog.Delay"),goog.provide("goog.async.Delay"),goog.require("goog.Disposable"),goog.require("goog.Timer"),goog.async.Delay=function(e,t,o){goog.async.Delay.base(this,"constructor"),this.listener_=e,this.interval_=t||0,this.handler_=o,this.callback_=goog.bind(this.doAction_,this)},goog.inherits(goog.async.Delay,goog.Disposable),goog.Delay=goog.async.Delay,goog.async.Delay.prototype.id_=0,goog.async.Delay.prototype.disposeInternal=function(){goog.async.Delay.base(this,"disposeInternal"),this.stop(),delete this.listener_,delete this.handler_},goog.async.Delay.prototype.start=function(e){this.stop(),this.id_=goog.Timer.callOnce(this.callback_,goog.isDef(e)?e:this.interval_)},goog.async.Delay.prototype.stop=function(){this.isActive()&&goog.Timer.clear(this.id_),this.id_=0},goog.async.Delay.prototype.fire=function(){this.stop(),this.doAction_()},goog.async.Delay.prototype.fireIfActive=function(){this.isActive()&&this.fire()},goog.async.Delay.prototype.isActive=function(){return 0!=this.id_},goog.async.Delay.prototype.doAction_=function(){this.id_=0,this.listener_&&this.listener_.call(this.handler_)},goog.provide("dymo.uuid"),dymo.uuid.uuid=function(){for(var e=Array,t=new e(16),o=[],n={},i=0;i<256;i++)o[i]=(i+256).toString(16).substr(1).toUpperCase(),n[o[i]]=i;function r(e){return o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}function s(o,n,i){var s=4294967296,a="binary"!=o?t:n||new e(16);return n=n&&i||0,i=Math.random()*s,a[n++]=255&i,a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),i=Math.random()*s,a[n++]=255&i,a[n++]=255&(i>>>=8),a[n++]=15&(i>>>=8)|64,a[n++]=255&(i>>>=8),i=Math.random()*s,a[n++]=63&i|128,a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),i=Math.random()*s,a[n++]=255&i,a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),a[n++]=255&(i>>>=8),void 0===o?r(a):a}return s.parse=function(t){var o=new e(16),i=0;return t.toUpperCase().replace(/[0-9A-F][0-9A-F]/g,(function(e){o[i++]=n[e]})),o},s.unparse=r,s.BufferClass=e,s}(),goog.require("goog.Uri"),goog.provide("dymo.label.framework.NetworkPrinter"),dymo.label.framework.NetworkPrinterName=function(e,t){this.printerUri=e,this.printerName=t},dymo.label.framework.NetworkPrinterName.isNetworkPrinter=function(e){return(e=new goog.Uri(e)).hasScheme()&&e.hasDomain()&&e.hasPath()},dymo.label.framework.NetworkPrinterName.splitNetworkPrinterName=function(e){var t=new goog.Uri(e);return 1<(e=t.getPath()).length&&"/"==e.charAt(0)&&(e=e.slice(1)),t.setPath(""),new dymo.label.framework.NetworkPrinterName(t.toString(),e)},goog.provide("dymo.label.framework.PrintJobStatusInfo");var ASSUME_MOBILE=!1;function _findPlugin(e){for(var t=0;t<navigator.plugins.length;++t)for(var o=navigator.plugins[t],n=0;n<o.length;++n)if(o[n].type==e)return!0;return!1}function _createSafariPlugin(){if(ASSUME_MOBILE)return null;var e,t="_DymoLabelFrameworkJslSafariPlugin";return document.getElementById(t)||((e=document.createElement("embed")).type="application/x-dymolabel",e.id=t,e.width=1,e.height=1,e.hidden=!0,document.body.appendChild(e)),window[t]}function _createNsapiPlugin2(e){if(ASSUME_MOBILE)return null;var t,o="_DymoLabelFrameworkJslPlugin";return document.getElementById(o)||((t=document.createElement("embed")).type="application/x-dymolabel",t.id=o,e?(t.width=1,t.height=1,t.hidden=!0):(t.width=0,t.height=0,t.hidden=!1),document.body.appendChild(t)),document.getElementById(o)}function _createNsapiPlugin(){if(ASSUME_MOBILE)return null;var e=_createNsapiPlugin2(!0);return e.getPrinters||(document.body.removeChild(e),e=_createNsapiPlugin2(!1)),e}function _createMacNsapiPlugin2(e){if(ASSUME_MOBILE)return null;var t,o="_DymoLabelFrameworkJslPlugin";return document.getElementById(o)||((t=document.createElement("embed")).type="application/x-npapi-dymolabel",t.id=o,e?(t.width=1,t.height=1,t.hidden=!0):(t.width=0,t.height=0,t.hidden=!1),document.body.appendChild(t),t.getPrinters||(t.width=1,t.height=1,t.hidden=!1)),document.getElementById(o)}function _createMacNsapiPlugin(){if(ASSUME_MOBILE)return null;var e=_createMacNsapiPlugin2(!0);return e.getPrinters||(document.body.removeChild(e),e=_createMacNsapiPlugin2(!1)),e}function _createIePlugin(){if(ASSUME_MOBILE)return null;var e=new ActiveXObject("DYMOLabelFrameworkIEPlugin.Plugin");if("object"!=typeof e)throw new Error("createFramework(): unable to create DYMO.Label.Framework object. Check DYMO Label Framework is installed");return e}function traceMsg(e){window.dymo.label.framework.trace&&window.console&&window.console.log&&console.log(e)}dymo.label.framework.PrintJobStatusInfo=function(e,t,o,n){this.printerName=e,this.jobId=t,this.status=o,this.statusMessage=n},dymo.label.framework.PrintJobStatusInfo.parse=function(e){var t={};return 1<=(e=e.split(" ")).length&&(t.status=parseInt(e[0],10)),t.statusMessage=e.slice(1).join(" "),t},dymo.label.framework.chooseEnvironment=function(e){var t;if(""!=e.errorDetails)throw new Error(e.errorDetails);if(e.isWebServicePresent){traceMsg("chooseEnvironment > WebServicePresent");var o=new DlsWebService;if(!o)throw new Error("Cannot establish connection to the web service. Is DYMO Label Framework installed?");return{getPrinters:function(){return o.getPrinters()},openLabelFile:function(e){return o.openLabelFile(e)},printLabel:function(e,t,n,i){o.printLabel(e,t,n,i)},printLabel2:function(e,t,n,i){o.printLabel2(e,t,n,i)},renderLabel:function(e,t,n){return o.renderLabel(e,t,n)},loadImageAsPngBase64:function(e){return o.loadImageAsPngBase64(e)},is550Printer:function(e){return o.is550Printer(e)},getConsumableInfoIn550Printer:function(e){return o.getConsumableInfoIn550Printer(e)},getJobStatus:function(e,t){var n=goog.isFunction(o.getJobStatus)?dymo.label.framework.PrintJobStatusInfo.parse(o.getJobStatus(e,parseInt(t,10))):{status:dymo.label.framework.PrintJobStatus.Unknown,statusMessage:"not implemented"};return new dymo.label.framework.PrintJobStatusInfo(e,t,n.status,n.statusMessage)},getPrintersAsync:function(){return o.getPrintersAsync()},openLabelFileAsync:function(e){return o.openLabelFileAsync(e)},printLabelAsync:function(e,t,n,i){return o.printLabelAsync(e,t,n,i)},printLabel2Async:function(e,t,n,i){return o.printLabel2Async(e,t,n,i)},renderLabelAsync:function(e,t,n){return o.renderLabelAsync(e,t,n)},loadImageAsPngBase64Async:function(e){return o.loadImageAsPngBase64Async(e)},is550PrinterAsync:function(e){return o.is550PrinterAsync(e)},getConsumableInfoIn550PrinterAsync:function(e){return o.getConsumableInfoIn550PrinterAsync(e)}}}if("ActiveXObject"in window){traceMsg("chooseEnvironment > ActiveXObject");var n={},i=_createIePlugin();n.getPrinters=function(){return i.GetPrinters()},n.openLabelFile=function(e){return i.OpenLabelFile(e)},n.printLabel=function(e,t,o,n){i.PrintLabel(e,t,o,n)},n.renderLabel=function(e,t,o){return i.RenderLabel(e,t,o)},n.loadImageAsPngBase64=function(e){return i.LoadImageAsPngBase64(e)},n.is550Printer=function(e){return i.is550Printer(e)},n.getConsumableInfoIn550Printer=function(e){return i.getConsumableInfoIn550Printer(e)},n.printLabel2=function(e,t,o,n){if(goog.isFunction(i.PrintLabel2))return i.PrintLabel2(e,t,o,n).toString();i.PrintLabel(e,t,o,n)},n.getJobStatus=function(e,t){var o=goog.isFunction(i.GetJobStatus)?dymo.label.framework.PrintJobStatusInfo.parse(i.GetJobStatus(e,parseInt(t,10))):{status:dymo.label.framework.PrintJobStatus.Unknown,statusMessage:"not implemented"};return new dymo.label.framework.PrintJobStatusInfo(e,t,o.status,o.statusMessage)}}else if(-1!=navigator.platform.indexOf("Win")){traceMsg("chooseEnvironment > WIN");var r=_createNsapiPlugin();if(!r)throw new Error("DYMO Label Framework is not installed");n={getPrinters:function(){return r.getPrinters()},openLabelFile:function(e){return r.openLabelFile(e)},printLabel:function(e,t,o,n){r.printLabel(e,t,o,n)},renderLabel:function(e,t,o){return r.renderLabel(e,t,o)},loadImageAsPngBase64:function(e){return r.loadImageAsPngBase64(e)},is550Printer:function(e){return r.is550Printer(e)},getConsumableInfoIn550Printer:function(e){return r.getConsumableInfoIn550Printer(e)},printLabel2:function(e,t,o,n){if(goog.isFunction(r.printLabel2))return r.printLabel2(e,t,o,n).toString();r.printLabel(e,t,o,n)},getJobStatus:function(e,t){var o=goog.isFunction(r.getJobStatus)?dymo.label.framework.PrintJobStatusInfo.parse(r.getJobStatus(e,parseInt(t,10))):{status:dymo.label.framework.PrintJobStatus.Unknown,statusMessage:"not implemented"};return new dymo.label.framework.PrintJobStatusInfo(e,t,o.status,o.statusMessage)}}}else{if(traceMsg("chooseEnvironment > not WIN"),t=_findPlugin("application/x-dymolabel")?(traceMsg("chooseEnvironment > _createSafariPlugin"),_createSafariPlugin()):(traceMsg("chooseEnvironment > _createMacNsapiPlugin"),_createMacNsapiPlugin()),traceMsg("chooseEnvironment > safariPlugin : "+!!t),!t)throw new Error("DYMO Label Framework is not installed");n={getPrinters:function(){return t.getPrinters()},openLabelFile:function(e){var o=t.openLabelFile(e);if(!o)throw new Error("Unable to open label file '"+e+"'");return o},printLabel:function(e,o,n,i){t.printLabel(n,e,o,i)},renderLabel:function(e,o,n){return t.renderLabel(e,o,n)},loadImageAsPngBase64:function(e){var o=t.loadImageAsPngBase64(e);if(!o)throw new Error("Unable to load image from uri '"+e+"'");return o},printLabel2:function(e,o,n,i){if(goog.isFunction(t.printLabel2))return t.printLabel2(n,e,o,i).toString();t.printLabel(n,e,o,i)},getJobStatus:function(e,o){var n=goog.isFunction(t.getJobStatus)?dymo.label.framework.PrintJobStatusInfo.parse(t.getJobStatus(e,parseInt(o,10))):{status:dymo.label.framework.PrintJobStatus.Unknown,statusMessage:"not implemented"};return new dymo.label.framework.PrintJobStatusInfo(e,o,n.status,n.statusMessage)},is550Printer:function(e){return t.is550Printer(e)},getConsumableInfoIn550Printer:function(e){return t.getConsumableInfoIn550Printer(e)}}}return e=function(e){return function(){var t=arguments;return new goog.Promise((function(o,n){o(e.apply(null,t))}))}},n.getPrintersAsync=e(n.getPrinters),n.openLabelFileAsync=e(n.openLabelFile),n.printLabelAsync=e(n.printLabel),n.printLabel2Async=e(n.printLabel2),n.renderLabelAsync=e(n.renderLabel),n.loadImageAsPngBase64Async=e(n.loadImageAsPngBase64),n.is550PrinterAsync=e(n.is550Printer),n.getConsumableInfoIn550PrinterAsync=e(n.getConsumableInfoIn550Printer),n},dymo.label.framework.trace=!1,dymo.label.framework.currentFramework=0;var createFaultyFramework=function(e){var t=e||new Error("DYMO Label Framework Plugin or WebService are not installed");return{getPrinters:e=function(){throw t},openLabelFile:e,printLabel:e,printLabel2:e,renderLabel:e,loadImageAsPngBase64:e,getJobStatus:e,is550Printer:e,getConsumableInfoIn550Printer:e,getPrintersAsync:e,openLabelFileAsync:e,printLabelAsync:e,printLabel2Async:e,renderLabelAsync:e,loadImageAsPngBase64Async:e,is550PrinterAsync:e,getConsumableInfoIn550PrinterAsync:e}},_createFramework=(m1a=!1,n1a=null,function e(t,o){if(m1a)throw traceMsg("_createFramework > Error service discovery is in progress. "),new Error("DYMO Label Framework service discovery is in progress.");return l1a?(traceMsg("_createFramework > returning existing instance of _framework, has callBack: "+!!t),t&&t(n1a),l1a):this&&this.constructor==e?(m1a=!0,_createFramework.resetFramework=function(){n1a=l1a=null,dymo.label.framework.currentFramework=0},dymo.label.framework.checkEnvironment((function(e){traceMsg("onEnvironmentChecked > checkResult isBrowserSupported : "+(n1a=e).isBrowserSupported+", isFrameworkInstalled: "+e.isFrameworkInstalled+", isWebServicePresent: "+e.isWebServicePresent+", errorDetails: "+e.errorDetails);try{l1a=dymo.label.framework.chooseEnvironment(e),dymo.label.framework.currentFramework=e.isWebServicePresent?2:1}catch(e){if(traceMsg("onEnvironmentChecked > exception e : "+(e.description||e.message||e)),!o)throw e;l1a=createFaultyFramework(e),traceMsg("onEnvironmentChecked > fall back to createFaultyFramework")}finally{m1a=!1}t&&t(n1a)}),o),traceMsg("_createFramework > return _framework : "+l1a+(o?" (async)":" (sync)")),l1a):new e(t,o)}),l1a,m1a,n1a;dymo.label.framework.init=function(e){_createFramework(e,!0)},goog.provide("dymo.label.framework.PrinterInfo"),goog.provide("dymo.label.framework.LabelWriterPrinterInfo"),goog.provide("dymo.label.framework.TapePrinterInfo"),goog.provide("dymo.label.framework.DZPrinterInfo"),dymo.label.framework.PrinterInfo=function(e,t,o,n,i){this.printerType=e,this.name=t,this.modelName=o,this.isConnected=n,this.isLocal=i,this.printerUri="",this.originalPrinterName=""},dymo.label.framework.PrinterInfo.prototype.isNetworkPrinter=function(){return""!=this.printerUri},dymo.label.framework.LabelWriterPrinterInfo=function(e,t,o,n,i){dymo.label.framework.PrinterInfo.call(this,"LabelWriterPrinter",e,t,o,n),this.isTwinTurbo=i},goog.inherits(dymo.label.framework.LabelWriterPrinterInfo,dymo.label.framework.PrinterInfo),dymo.label.framework.TapePrinterInfo=function(e,t,o,n,i){dymo.label.framework.PrinterInfo.call(this,"TapePrinter",e,t,o,n),this.isAutoCutSupported=i},goog.inherits(dymo.label.framework.TapePrinterInfo,dymo.label.framework.PrinterInfo),dymo.label.framework.DZPrinterInfo=function(e,t,o,n,i){dymo.label.framework.PrinterInfo.call(this,"DZPrinter",e,t,o,n),this.isAutoCutSupported=i},goog.inherits(dymo.label.framework.DZPrinterInfo,dymo.label.framework.PrinterInfo),goog.require("goog.net.Jsonp"),goog.require("goog.Uri"),goog.require("dymo.label.framework.NetworkPrinter"),goog.require("dymo.label.framework.PrintJobStatusInfo"),goog.require("dymo.label.framework.PrinterInfo"),goog.provide("dymo.label.framework.PrintJob"),dymo.label.framework.PrintJob=function(e,t){this._printerInfo=e,this._jobId=t},dymo.label.framework.PrintJob.prototype.getPrinterName=function(){return this._printerInfo.name},goog.exportProperty(dymo.label.framework.PrintJob.prototype,"getPrinterName",dymo.label.framework.PrintJob.prototype.getPrinterName),dymo.label.framework.PrintJob.prototype.getJobId=function(){return this._jobId},goog.exportProperty(dymo.label.framework.PrintJob.prototype,"getJobId",dymo.label.framework.PrintJob.prototype.getJobId),dymo.label.framework.PrintJob.prototype.getStatus=function(e){if(this._printerInfo.isNetworkPrinter())this.getStatusForNetworkPrinter(e);else{var t;try{t=_createFramework().getJobStatus(this._printerInfo.name,this._jobId)}catch(e){t=new dymo.label.framework.PrintJobStatusInfo(this.getPrinterName(),this._jobId,dymo.label.framework.PrintJobStatus.ProcessingError,e.message||e)}e(t)}},goog.exportProperty(dymo.label.framework.PrintJob.prototype,"getStatus",dymo.label.framework.PrintJob.prototype.getStatus),dymo.label.framework.PrintJob.prototype.getStatusForNetworkPrinter=function(e){var t=this.getPrinterName(),o=this._jobId,n=this._printerInfo.printerUri;new goog.net.Jsonp(goog.Uri.resolve(n,"getPrintJobStatus"),"callback").send({jobId:o,printerName:this._printerInfo.originalPrinterName},(function(n){n=new dymo.label.framework.PrintJobStatusInfo(t,o,n.status,n.statusMessage),e(n)}),(function(){var i=new dymo.label.framework.PrintJobStatusInfo(t,o,dymo.label.framework.PrintJobStatus.ProcessingError,'Error processing getPrintJobStatus(): Unable to contact "'+n+'"');e(i)}))},goog.require("goog.net.Jsonp"),goog.require("goog.net.IframeIo"),goog.require("goog.async.Delay"),goog.require("dymo.uuid"),goog.require("dymo.label.framework.PrintJob"),goog.provide("dymo.label.framework.CheckEnvironmentResult"),dymo.label.framework.VERSION="3.0.0",dymo.label.framework.CheckEnvironmentResult=function(e){this.isWebServicePresent=e.isWebServicePresent,this.isBrowserSupported=e.isBrowserSupported,this.isFrameworkInstalled=e.isFrameworkInstalled,this.errorDetails=e.errorDetails},dymo.label.framework.checkEnvironment=function(e,t){function o(){n.isBrowserSupported=!0,n.isFrameworkInstalled=!0,n.isWebServicePresent=!0,e&&e(n)}var n={isBrowserSupported:!1,isFrameworkInstalled:!1,isWebServicePresent:!1,errorDetails:""};return dymo.label.framework.currentFramework?(traceMsg("checkEnvironment > return existing instance of framework"),2==dymo.label.framework.currentFramework?o():(n.isBrowserSupported=!0,n.isFrameworkInstalled=!0,n.isWebServicePresent=!1,e&&e(n))):(t?asyncFindWebService:syncCheckWebService)(o,(function(){!function(){traceMsg("checkLegacyPlugins"),n.isWebServicePresent=!1;var e,t=window.navigator.platform;if(-1!=t.indexOf("Win"))if(traceMsg("checkLegacyPlugins > WIN platform "),"ActiveXObject"in window){traceMsg("checkLegacyPlugins > ActiveXObject"),n.isBrowserSupported=!0;try{"object"!=typeof new ActiveXObject("DYMOLabelFrameworkIEPlugin.Plugin")?n.errorDetails="Unable to create DYMO.Label.Framework ActiveX object. Check that DYMO.Label.Framework is installed":n.isFrameworkInstalled=!0}catch(e){n.errorDetails="Unable to create DYMO.Label.Framework ActiveX object. Check that DYMO.Label.Framework is installed. Exception details: "+e}}else traceMsg("checkLegacyPlugins > non-IE"),n.isBrowserSupported=!0,_findPlugin("application/x-dymolabel")?(traceMsg("checkLegacyPlugins > 'application/x-dymolabel'"),n.isFrameworkInstalled=!0):n.errorDetails="DYMO Label Framework Plugin is not installed";else-1!=t.indexOf("Mac")?(traceMsg("checkLegacyPlugins > Mac platform"),n.isBrowserSupported=!0,_findPlugin("application/x-dymolabel")?(traceMsg("checkLegacyPlugins > safariPluginFound"),"2.0"<=(e=_createSafariPlugin()).GetAPIVersion()?n.isFrameworkInstalled=!0:n.errorDetails="DYMO Label Safari Plugin is installed but outdated. Install the latest version."):_findPlugin("application/x-npapi-dymolabel")?(traceMsg("checkLegacyPlugins > 'application/x-npapi-dymolabel'"),(e=_createMacNsapiPlugin())&&e.getPrinters?n.isFrameworkInstalled=!0:n.errorDetails='DYMO NSAPI plugin is loaded but no callable functions found. If running Safari, then run it in 64-bit mode (MacOS X >= 10.7) or set "Open using Rosetta" option'):n.errorDetails="DYMO Label Plugin is not installed."):n.errorDetails="The operating system is not supported."}(),e&&e(n)})),n};var _networkPrinters={},NetworkPrinterInfo=function(e,t,o){this.printerUri=e,this.printerLocation=t,this.printersXml=o};function createPrintersCollection(){var e=[];return e.byIndex=[],Object.defineProperty(e,"byIndex",{enumerable:!1,value:[]}),e}function addPrinterToCollection(e,t){var o=e.name;t.push(e),t.byIndex.push(e),o.match(/^\d+$/)&&console.error("Printer name consisting of numbers only ("+o+') will break proper array behavior. Consider using "byIndex" property for accessing elements by index reliably.'),"length"===o&&console.error('Using "length" as printer name overrides Array.length property!'),t[o]=e}function getPrinters(e){function t(e,t){return dymo.xml.getElementText(dymo.xml.getElement(e,t))}e=dymo.xml.parse(e);for(var o=createPrintersCollection(),n=(e=dymo.xml.getElement(e,"Printers"),dymo.xml.getElements(e,"LabelWriterPrinter")),i=0;i<n.length;i++){var r=t(n[i],"Name"),s=t(n[i],"ModelName"),a="True"==t(n[i],"IsConnected"),l="True"==t(n[i],"IsLocal"),c="True"==t(n[i],"IsTwinTurbo");addPrinterToCollection(new dymo.label.framework.LabelWriterPrinterInfo(r,s,a,l,c),o)}var u=dymo.xml.getElements(e,"TapePrinter");for(i=0;i<u.length;i++){r=t(u[i],"Name"),s=t(u[i],"ModelName"),a="True"==t(u[i],"IsConnected"),l="True"==t(u[i],"IsLocal");var g="True"==t(u[i],"IsAutoCutSupported");addPrinterToCollection(new dymo.label.framework.TapePrinterInfo(r,s,a,l,g),o)}var d=dymo.xml.getElements(e,"DZPrinter");for(i=0;i<d.length;i++)r=t(d[i],"Name"),s=t(d[i],"ModelName"),a="True"==t(d[i],"IsConnected"),l="True"==t(d[i],"IsLocal"),g="True"==t(d[i],"IsAutoCutSupported"),addPrinterToCollection(new dymo.label.framework.DZPrinterInfo(r,s,a,l,g),o);return o}function addNetworkPrintersToCollection(e){for(var t in _networkPrinters)for(var o=_networkPrinters[t].getPrinters(),n=0;n<o.length;++n)addPrinterToCollection(o[n],e)}function getPrintersByType(e){for(var t=[],o=(o=dymo.label.framework.getPrinters()).byIndex,n=0;n<o.length;n++){var i=o[n];i.printerType&&i.printerType==e&&t.push(i)}return t}function getPrintersByTypeAsync(e){return dymo.label.framework.getPrintersAsync().then((function(t){var o=[];t=t.byIndex;for(var n=0;n<t.length;n++){var i=t[n];i.printerType&&i.printerType==e&&o.push(i)}return o}))}function printLabelToNetworkPrinter(e,t,o,n){var i=dymo.uuid.uuid(),r=(n={printerName:e.originalPrinterName,labelXml:o,printParamsXml:t,labelSetXml:n},goog.Uri.resolve(e.printerUri,"pl")),s=goog.json.serialize(n);return function e(t,o){var n=4e3*t,a="";n>=s.length?t=-1:a=s.substr(n,4e3),new goog.net.Jsonp(r,"c").send({j:i,cid:t,pl:a},(function(n){var r=n.status,s=new goog.debug.Logger("dymo.label.framework");s.setLevel(goog.debug.Logger.Level.INFO),0==r?-1!=t?e(++t,0):s.info("Finished sending job payload for "+i):-5==r?o<10?e(++n.lastAckChunkId,++o):s.warning('Unable to send print job data for "'+i+'": STATUS_INVALID_CHUNK_ID: Max retry count reached'):o<10?e(t,++o):s.warning('Unable to send print job data for "'+i+'": Max retry count reached')}),(function(){var n=new goog.debug.Logger("dymo.label.framework");n.setLevel(goog.debug.Logger.Level.INFO),o<10?e(t,++o):n.warning('Unable to send print job data for "'+i+'": error: Max retry count reached')}))}(0,0),new dymo.label.framework.PrintJob(e,i)}function createRenderLabelRequest(e,t,o,n){var i={};return i.requestId=e,i.imageData=n,i.statusId=t,i.statusMessage=o,i}NetworkPrinterInfo.prototype.getPrinters=function(){var e=getPrinters(this.printersXml),t=new goog.Uri(this.printerUri),o=this.printerLocation;""==o&&(o=t.getDomain());for(var n=0;n<e.length;++n){var i=e[n],r=i.name;i.name=r+" @ "+o,i.printerUri=this.printerUri,i.location=o,i.originalPrinterName=r,i.printerUri=i.printerUri,i.location=i.location,i.localName=i.originalPrinterName}return e},dymo.label.framework.addPrinterUri=function(e,t,o,n){var i=t||"";goog.isString(i)||(i=i.toString());var r=null;n&&(r=function(){n(e)}),t=goog.uri.utils.appendPath(e,"getPrinters"),new goog.net.Jsonp(t,"callback").send(null,(function(t){t=new NetworkPrinterInfo(e,i,t),_networkPrinters[e]=t,o&&o(e)}),r)},dymo.label.framework.removePrinterUri=function(e){delete _networkPrinters[e]},dymo.label.framework.removeAllPrinterUri=function(){_networkPrinters={}},dymo.label.framework.getPrinters=function(){var e=createPrintersCollection();if(!ASSUME_MOBILE)try{e=getPrinters(_createFramework().getPrinters())}catch(e){}return addNetworkPrintersToCollection(e),e},dymo.label.framework.getPrintersAsync=function(){if(ASSUME_MOBILE){var e=createPrintersCollection();return addNetworkPrintersToCollection(e),goog.Promise.resolve(e)}return _createFramework().getPrintersAsync().then((function(e){try{var t=getPrinters(e);addNetworkPrintersToCollection(t)}catch(e){}return t}))},dymo.label.framework.getLabelWriterPrinters=function(){return getPrintersByType("LabelWriterPrinter")},dymo.label.framework.getTapePrinters=function(){return getPrintersByType("TapePrinter")},dymo.label.framework.getDZPrinters=function(){return getPrintersByType("DZPrinter")},dymo.label.framework.getLabelWriterPrintersAsync=function(){return getPrintersByTypeAsync("LabelWriterPrinter")},dymo.label.framework.getTapePrintersAsync=function(){return getPrintersByTypeAsync("TapePrinter")},dymo.label.framework.getDZPrintersAsync=function(){return getPrintersByTypeAsync("DZPrinter")},dymo.label.framework.openLabelFile=function(e){return new dymo.label.framework.Label(_createFramework().openLabelFile(e))},dymo.label.framework.openLabelFileAsync=function(e){return _createFramework().openLabelFileAsync(e).then((function(e){return new dymo.label.framework.Label(e)}))},dymo.label.framework.openLabelXml=function(e){var t=new goog.debug.Logger("dymo.label.framework");return t.setLevel(goog.debug.Logger.Level.INFO),t.info(e),new dymo.label.framework.Label(e)},dymo.label.framework.printLabel=function(e,t,o,n){if(t=t||"","string"!=typeof(n=n||"")&&(n=n.toString()),void 0===o)throw new Error("printLabel(): labelXml parameter should be specified");"string"!=typeof o&&(o=o.toString());var i=dymo.label.framework.getPrinters()[e];if(!goog.isDefAndNotNull(i))throw new Error("printLabel(): unknown printer '"+e+"'");ASSUME_MOBILE||i.isNetworkPrinter()?printLabelToNetworkPrinter(i,t,o,n):_createFramework().printLabel(i.name,t,o,n)},dymo.label.framework.printLabelAsync=function(e,t,o,n){if(t=t||"","string"!=typeof(n=n||"")&&(n=n.toString()),void 0===o)throw new Error("printLabelAsync(): labelXml parameter should be specified");return"string"!=typeof o&&(o=o.toString()),dymo.label.framework.getPrintersAsync().then((function(i){if(i=i[e],goog.isDefAndNotNull(i))return ASSUME_MOBILE||i.isNetworkPrinter()?printLabelToNetworkPrinter(i,t,o,n):_createFramework().printLabelAsync(i.name,t,o,n);throw new Error("printLabelAsync(): unknown printer '"+e+"'")}))},dymo.label.framework.printLabel2=function(e,t,o,n){if(t=t||"","string"!=typeof(n=n||"")&&(n=n.toString()),void 0===o)throw new Error("printLabel2(): labelXml parameter should be specified");"string"!=typeof o&&(o=o.toString());var i=dymo.label.framework.getPrinters()[e];if(goog.isDefAndNotNull(i))return ASSUME_MOBILE||i.isNetworkPrinter()?printLabelToNetworkPrinter(i,t,o,n):new dymo.label.framework.PrintJob(i,_createFramework().printLabel2(e,t,o,n));throw new Error("printLabel(): unknown printer '"+e+"'")},dymo.label.framework.printLabel2Async=function(e,t,o,n){if(t=t||"","string"!=typeof(n=n||"")&&(n=n.toString()),void 0===o)throw new Error("printLabel2Async(): labelXml parameter should be specified");return"string"!=typeof o&&(o=o.toString()),dymo.label.framework.getPrintersAsync().then((function(i){var r=i[e];if(goog.isDefAndNotNull(r))return ASSUME_MOBILE||r.isNetworkPrinter()?printLabelToNetworkPrinter(r,t,o,n):_createFramework().printLabel2Async(e,t,o,n).then((function(e){return new dymo.label.framework.PrintJob(r,e)}));throw new Error("printLabel2Async(): unknown printer '"+e+"'")}))},dymo.label.framework.printLabelAndPollStatus=function(e,t,o,n,i,r){var s=dymo.label.framework.printLabel2(e,t,o,n);return s.getStatus((function e(t){var o;i(s,t)&&(o=new goog.async.Delay((function(){s.getStatus(e),o.dispose()}),r)).start()})),s},dymo.label.framework.printLabelAndPollStatusAsync=function(e,t,o,n,i,r){return dymo.label.framework.printLabel2Async(e,t,o,n).then((function(e){return e.getStatus((function t(o){var n;i(e,o)&&(n=new goog.async.Delay((function(){e.getStatus(t),n.dispose()}),r)).start()})),e}))},dymo.label.framework.renderLabel=function(e,t,o){if(void 0===e)throw new Error("renderLabel(): labelXml parameter should be specified");return"string"!=typeof e&&(e=e.toString()),t=t||"",o=o||"",_createFramework().renderLabel(e,t,o)},dymo.label.framework.renderLabelAsync=function(e,t,o){if(void 0===e)throw new Error("renderLabelAsync(): labelXml parameter should be specified");return"string"!=typeof e&&(e=e.toString()),t=t||"",o=o||"",_createFramework().renderLabelAsync(e,t,o)},dymo.label.framework.loadImageAsPngBase64=function(e){return _createFramework().loadImageAsPngBase64(e)},dymo.label.framework.loadImageAsPngBase64Async=function(e){return _createFramework().loadImageAsPngBase64Async(e)},dymo.label.framework.createLabelWriterPrintParamsXml=function(e){if(!e)return"";var t=dymo.xml.parse("<LabelWriterPrintParams/>"),o=t.documentElement;return e.copies&&dymo.xml.appendElement(o,"Copies",e.copies.toString()),e.jobTitle&&dymo.xml.appendElement(o,"JobTitle",e.jobTitle),e.flowDirection&&dymo.xml.appendElement(o,"FlowDirection",e.flowDirection),e.printQuality&&dymo.xml.appendElement(o,"PrintQuality",e.printQuality),e.twinTurboRoll&&dymo.xml.appendElement(o,"TwinTurboRoll",e.twinTurboRoll),dymo.xml.serialize(t)},dymo.label.framework.createTapePrintParamsXml=function(e){if(!e)return"";var t=dymo.xml.parse("<TapePrintParams/>"),o=t.documentElement;return e.copies&&dymo.xml.appendElement(o,"Copies",e.copies.toString()),e.jobTitle&&dymo.xml.appendElement(o,"JobTitle",e.jobTitle),e.flowDirection&&dymo.xml.appendElement(o,"FlowDirection",e.flowDirection),e.alignment&&dymo.xml.appendElement(o,"Alignment",e.alignment),e.cutMode&&dymo.xml.appendElement(o,"CutMode",e.cutMode),dymo.xml.serialize(t)},dymo.label.framework.createDZPrintParamsXml=function(e){if(!e)return"";var t=dymo.xml.parse("<DZPrintParams/>"),o=t.documentElement;return e.copies&&dymo.xml.appendElement(o,"Copies",e.copies.toString()),e.jobTitle&&dymo.xml.appendElement(o,"JobTitle",e.jobTitle),e.flowDirection&&dymo.xml.appendElement(o,"FlowDirection",e.flowDirection),e.alignment&&dymo.xml.appendElement(o,"Alignment",e.alignment),e.cutMode&&dymo.xml.appendElement(o,"CutMode",e.cutMode),dymo.xml.serialize(t)},dymo.label.framework.createLabelRenderParamsXml=function(e){if(!e)return"";function t(e,t){dymo.xml.appendElement(n,e,void 0,{Alpha:t.a||t.alpha||255,Red:t.r||t.red||0,Green:t.g||t.green||0,Blue:t.b||t.blue||0})}var o=dymo.xml.parse("<LabelRenderParams/>"),n=o.documentElement;return e.labelColor&&t("LabelColor",e.labelColor),e.shadowColor&&t("ShadowColor",e.shadowColor),void 0!==e.shadowDepth&&dymo.xml.appendElement(n,"ShadowDepth",e.shadowDepth.toString()),e.flowDirection&&dymo.xml.appendElement(n,"FlowDirection",e.flowDirection),void 0!==e.pngUseDisplayResolution&&dymo.xml.appendElement(n,"PngUseDisplayResolution",e.pngUseDisplayResolution?"True":"False"),dymo.xml.serialize(o)},dymo.label.framework.is550Printer=function(e){var t=!1;try{t=_createFramework().is550Printer(e)}catch(e){}return t},dymo.label.framework.is550PrinterAsync=function(e){return _createFramework().is550PrinterAsync(e).then((function(e){return e}))},dymo.label.framework.getConsumableInfoIn550Printer=function(e){var t="";try{t=_createFramework().getConsumableInfoIn550Printer(e)}catch(e){}return t},dymo.label.framework.getConsumableInfoIn550PrinterAsync=function(e){return _createFramework().getConsumableInfoIn550PrinterAsync(e).then((function(e){return e}))};