!function(){let t,e;const n={};let r=10,i=!1,o=!0,s=null,a=400,l=null,u=null,c=null,h=null;const d={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",PARTIAL_LOAD:"page:partial-load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",AFTER_REMOVE:"page:after-remove"},p=t=>t.change||t.append||t.prepend;var f=function(t){if(t===l.url)return;const e=n[t];return e&&!e.transitionCacheDisabled?e:void 0},m=function(t,e){return null==e.cacheRequest&&(e.cacheRequest=o),null==e.showProgressBar&&(e.showProgressBar=!0),M(d.FETCH,{url:t.absolute}),null!=h&&h.abort(),h=new XMLHttpRequest,h.open("GET",t.formatForXHR({cache:e.cacheRequest}),!0),h.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),h.setRequestHeader("X-XHR-Referer",c),h.onload=function(){let n;if(M(d.RECEIVE,{url:t.absolute}),n=B()){O(t),x();const i=w(...Array.from(j(n)),e);return e.showProgressBar&&null!=s&&s.done(),P(e.scroll),M(p(e)?d.PARTIAL_LOAD:d.LOAD,i),b(r)}return null!=s&&s.done(),document.location.href=L()||t.absolute},s&&e.showProgressBar&&(h.onprogress=t=>{const e=t.lengthComputable?t.loaded/t.total*100:s.value+(100-s.value)/10;return s.advanceTo(e)}),h.onloadend=()=>h=null,h.onerror=()=>document.location.href=t.absolute,h.send()},y=function(t,e){return null==e&&(e={}),null!=h&&h.abort(),w(t.title,t.body,null,{runScripts:!1}),null!=s&&s.done(),P(e.scroll),M(d.RESTORE)},v=function(){const t=new Q(l.url);return n[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")}},g=()=>delete n[new Q(l.url).absolute],b=function(t){const e=Object.keys(n),r=e.map((t=>n[t].cachedAt)).sort(((t,e)=>e-t));return(()=>{const i=[];for(var o of Array.from(e))n[o].cachedAt<=r[t]&&(k(n[o].body),i.push(delete n[o]));return i})()},w=function(t,e,n,r){let i,o,s,a,u;t=null!=r.title?r.title:t;const c=document.body;if(p(r)?(r.append&&(o=T(c,r.append)),r.prepend&&(a=T(c,r.prepend)),u=E(c,"[data-turbolinks-temporary]"),r.change&&(u=u.concat(T(c,r.change))),s=[].concat(o||[],a||[],u||[]),s=$(s)):s=[c],M(d.BEFORE_UNLOAD,s),!1!==t&&(document.title=t),p(r)){let t,n,r;o&&(t=A(e,o,{keep:!1,append:!0})),a&&(n=A(e,a,{keep:!1,prepend:!0})),u&&(r=A(e,u,{keep:!1})),i=[].concat(t||[],n||[],r||[]),i=$(i)}else{if(!r.flush){const t=E(c,"[data-turbolinks-permanent]");r.keep&&t.push(...Array.from(T(c,r.keep)||[])),A(e,$(t),{keep:!0})}document.body=e,null!=n&&G.update(n),N(),i=[e]}return R(_(i,r.runScripts)),l=window.history.state,M(d.CHANGE,i),M(d.UPDATE),i},E=(t,e)=>Array.prototype.slice.apply(t.querySelectorAll(e)),T=function(t,e){const n=[];for(var r of Array.from(Array.isArray(e)?e:[e]))n.push(...Array.from(E(t,'[id^="'+r+':"], [id="'+r+'"]')||[]));return n},A=function(t,e,n){const r=[];for(var i of Array.from(e)){var o,s;if(!(o=i.getAttribute("id")))throw new Error("Turbolinks partial replace: turbolinks elements must have an id.");if(s=t.querySelector('[id="'+o+'"]'))if(n.keep)i.parentNode.insertBefore(i.cloneNode(!0),i),i=s.ownerDocument.adoptNode(i),s.parentNode.replaceChild(i,s);else if(n.append||n.prepend){var{firstChild:a}=i,l=Array.prototype.slice.call(s.childNodes,0);for(var u of Array.from(l))!a||n.append?i.appendChild(u):n.prepend&&i.insertBefore(u,a);r.push(i)}else i.parentNode.replaceChild(s,i),k(i),r.push(s)}return r},k=function(t){return"undefined"!=typeof jQuery&&jQuery(t).remove(),M(d.AFTER_REMOVE,t)},_=function(t,e){const n=!1===e?'script[data-turbolinks-eval="always"]':'script:not([data-turbolinks-eval="false"])';return(()=>{const e=[];for(var r of Array.from(document.body.querySelectorAll(n)))(S(r)||H(t,r)&&!C(r))&&e.push(r);return e})()},S=t=>"always"===t.getAttribute("data-turbolinks-eval"),C=function(t){for(;null!=t;){if("function"==typeof t.hasAttribute?t.hasAttribute("data-turbolinks-permanent"):void 0)return!0;t=t.parentNode}return!1},H=function(t,e){for(;null!=e;){if(Array.from(t).includes(e))return!0;e=e.parentNode}return!1},R=function(t){for(var e of Array.from(t))if(["","text/javascript"].includes(e.type)){var n=document.createElement("script");for(var r of Array.from(e.attributes))n.setAttribute(r.name,r.value);e.hasAttribute("async")||(n.async=!1),n.appendChild(document.createTextNode(e.innerHTML));var{parentNode:i,nextSibling:o}=e;i.removeChild(e),i.insertBefore(n,o)}},N=function(){let t;const e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1];if(e&&document.activeElement!==e)return e.focus()},O=function(t){let e;if(e=(t=new Q(t)).absolute,![c,document.location.href].includes(e))return window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute)},x=function(){let t;if(t=h.getResponseHeader("X-XHR-Redirected-To")){t=new Q(t);const e=t.hasNoHash()?document.location.hash:"";return window.history.replaceState(window.history.state,"",t.href+e)}},L=function(){let t;if(null!=(t=h.getResponseHeader("Location"))&&new Q(t).crossOrigin())return t},q=()=>c=document.location.href;const D=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href),l=window.history.state};var P=function(t){return Array.isArray(t)?window.scrollTo(t[0],t[1]):!1!==t?document.location.hash?(document.location.href=document.location.href,D()):window.scrollTo(0,0):void 0},F=function(t){if(null==t||"object"!=typeof t)return t;const e=new t.constructor;for(var n in t){var r=t[n];e[n]=F(r)}return e},$=function(t){const e=[];for(var n of Array.from(t))-1===e.indexOf(n)&&e.push(n);return e};const I=()=>(new Date).getTime().toString(36);var M=function(t,e){"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0);const n=document.createEvent("Events");return e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},X=t=>!M(d.BEFORE_CHANGE,{url:t}),B=function(){const t=t=>(()=>{const e=[];for(var n of Array.from(t.querySelector("head").childNodes))null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&e.push(n.getAttribute("src")||n.getAttribute("href"));return e})();if(!(400<=h.status&&h.status<600)&&function(){let t;return null!=(t=h.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)}()&&!function(){let t;return null!=(t=h.getResponseHeader("Content-Disposition"))&&t.match(/^attachment/)}()){const e=U(h.responseText);if(e&&!function(e){u||(u=t(document));const n=t(e);return n.length!==u.length||(r=n,i=u,r.length>i.length&&([r,i]=Array.from([i,r])),Array.from(r).filter((t=>Array.from(i).includes(t)))).length!==u.length;var r,i}(e))return e}},j=function(t){const e=t.querySelector("title");return[null!=e?e.textContent:void 0,t.querySelector("body"),G.get(t).token]},G={get(t){let e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:(n=e,r="getAttribute",i=t=>t.getAttribute("content"),null!=n&&"function"==typeof n[r]?i(n,r):void 0)};var n,r,i},update(t){const e=this.get();if(null!=e.token&&null!=t&&e.token!==t)return e.node.setAttribute("content",t)}},U=function(t){let e;return/<(html|body)/i.test(t)?(e=document.documentElement.cloneNode(),e.innerHTML=t):(e=document.documentElement.cloneNode(!0),e.querySelector("body").innerHTML=t),e.head=e.querySelector("head"),e.body=e.querySelector("body"),e};class Q{constructor(t){if(null==t&&(t=document.location.href),this.original=t,this.original.constructor===Q)return this.original;this._parse()}withoutHash(){return this.href.replace(this.hash,"").replace("#","")}withoutHashForIE10compatibility(){return this.withoutHash()}hasNoHash(){return 0===this.hash.length}crossOrigin(){return this.origin!==(new Q).origin}formatForXHR(t){return null==t&&(t={}),(t.cache?this:this.withAntiCacheParam()).withoutHashForIE10compatibility()}withAntiCacheParam(){return new Q(/([?&])_=[^&]*/.test(this.absolute)?this.absolute.replace(/([?&])_=[^&]*/,`$1_=${I()}`):new Q(this.absolute+(/\?/.test(this.absolute)?"&":"?")+`_=${I()}`))}_parse(){return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,({href:this.href,protocol:this.protocol,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,hash:this.hash}=this.link),this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=`:${this.port}`),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href}}class V extends Q{static initClass(){this.HTML_EXTENSIONS=["html"]}static allowExtensions(...t){for(var e of Array.from(t))V.HTML_EXTENSIONS.push(e);return V.HTML_EXTENSIONS}constructor(t){if(super(...arguments),this.link=t,this.link.constructor===V)return this.link;this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1)}shouldIgnore(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()}_anchored(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new Q).withoutHash()}_nonHtml(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp(`\\.(?:${V.HTML_EXTENSIONS.join("|")})?$`,"g"))}_optOut(){let t,e=this.originalElement;for(;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t}_target(){return 0!==this.link.target.length}}V.initClass();class K{static installHandlerLast(t){if(!t.defaultPrevented)return document.removeEventListener("click",K.handle,!1),document.addEventListener("click",K.handle,!1)}static handle(t){return new K(t)}constructor(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(e(this.link.href),this.event.preventDefault()))}_extractLink(){let t=this.event.target;for(;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;if("A"===t.nodeName&&0!==t.href.length)return this.link=new V(t)}_validForTurbolinks(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())}_nonStandardClick(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey}}var Y=function(){let t,e;return(Y=class n{static initClass(){t="turbolinks-progress-bar",e=.99}static enable(){return null!=s?s:s=new n("html")}static disable(){return null!=s&&s.uninstall(),s=null}constructor(t){this._reset=this._reset.bind(this),this._trickle=this._trickle.bind(this),this.elementSelector=t,this.value=0,this.content="",this.speed=300,this.opacity=e,this.install()}install(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()}uninstall(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)}start(t){null==t&&(t={});const{delay:e}=t;return clearTimeout(this.displayTimeout),e?(this.display=!1,this.displayTimeout=setTimeout((()=>this.display=!0),e)):this.display=!0,this.value>0&&(this._reset(),this._reflow()),this.advanceTo(5)}advanceTo(t){if(t>this.value&&this.value<=100){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}}done(){if(this.value>0)return this.advanceTo(100),this._finish()}_finish(){return this.fadeTimer=setTimeout((()=>(this.opacity=0,this._updateStyle())),this.speed/2),this.resetTimer=setTimeout(this._reset,this.speed)}_reflow(){return this.element.offsetHeight}_reset(){return this._stopTimers(),this.value=0,this.opacity=e,this._withSpeed(0,(()=>this._updateStyle(!0)))}_stopTimers(){return this._stopTrickle(),clearTimeout(this.fadeTimer),clearTimeout(this.resetTimer)}_startTrickle(){if(!this.trickleTimer)return this.trickleTimer=setTimeout(this._trickle,this.speed)}_stopTrickle(){return clearTimeout(this.trickleTimer),delete this.trickleTimer}_trickle(){return this.advanceTo(this.value+Math.random()/2),this.trickleTimer=setTimeout(this._trickle,this.speed)}_withSpeed(t,e){const n=this.speed;this.speed=t;const r=e();return this.speed=n,r}_updateStyle(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()}_changeContentToForceRepaint(){return this.content=""===this.content?" ":""}_createCSSRule(){return`  ${this.elementSelector}.${t}::before {\n    content: '${this.content}';\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 2000;\n    background-color: #0076ff;\n    height: 3px;\n    opacity: ${this.opacity};\n    width: ${this.display?this.value:0}%;\n    transition: width ${this.speed}ms ease-out, opacity ${this.speed/2}ms ease-in;\n    transform: translate3d(0,0,0);\n  }  `}}).initClass(),Y}();const z={enable:Y.enable,disable:Y.disable,setDelay(t){return a=t},start(t){return Y.enable().start(t)},advanceTo(t){return null!=s?s.advanceTo(t):void 0},done(){return null!=s?s.done():void 0}},J=window.history&&"pushState"in window.history&&"state"in window.history,W=navigator.userAgent,Z=(-1!==W.indexOf("Android 2.")||-1!==W.indexOf("Android 4.0"))&&-1!==W.indexOf("Mobile Safari")&&-1===W.indexOf("Chrome")&&-1===W.indexOf("Windows Phone"),tt=(t=function(t){const e=function(t,e){return null!=t?t[1].toUpperCase():void 0}(document.cookie.match(new RegExp(t+"=(\\w+)")))||"";return document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e}("request_method"),["GET",""].includes(t)),et=J&&!Z&&tt;document.addEventListener&&document.createEvent&&(document.addEventListener("DOMContentLoaded",(function(){return M(d.CHANGE,[document.body]),M(d.UPDATE)}),!0),"undefined"!=typeof jQuery&&jQuery(document).on("ajaxSuccess",(function(t,e,n){if(jQuery.trim(e.responseText))return M(d.UPDATE)}))),et?(e=function(t,e){let n;if(null==e&&(e={}),t=new Q(t),!X(t.absolute)){if(!t.crossOrigin())return p(e)||e.keep?g():v(),q(),null!=s&&s.start({delay:a}),i&&!p(e)&&(n=f(t.absolute))?(O(t),y(n),e.showProgressBar=!1,e.scroll=!1):p(e)&&!t.hash&&null==e.scroll&&(e.scroll=!1),m(t,e);document.location.href=t.absolute}},D(),Y.enable(),document.addEventListener("click",K.installHandlerLast,!0),window.addEventListener("hashchange",D,!1),window.addEventListener("popstate",(function(t){if((null!=t.state?t.state.turbolinks:void 0)&&t.state.url!==l.url){let r;const i=new Q(l.url),o=new Q(t.state.url);return o.withoutHash()===i.withoutHash()?P():(r=n[o.absolute])?(v(),y(r,{scroll:[r.positionX,r.positionY]})):e(t.target.location.href)}}),!1)):e=function(t){return null==t&&(t=document.location.href),document.location.href=t},this.Turbolinks={visit:e,replace:function(t,e){null==e&&(e={});const n=w(...Array.from(j(U(t))),e);return M(p(e)?d.PARTIAL_LOAD:d.LOAD,n)},pagesCached:function(t){if(null==t&&(t=r),/^[\d]+$/.test(t))return r=parseInt(t)},cacheCurrentPage:v,enableTransitionCache:function(t){return null==t&&(t=!0),i=t},disableRequestCaching:function(t){return null==t&&(t=!0),o=!t,t},ProgressBar:z,allowLinkExtensions:V.allowExtensions,supported:et,EVENTS:F(d)}}();